(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[4],{256:function(e,t,c){"use strict";c.r(t);var s=c(8),a=c(0),n=c.n(a),r=c(11),l=c(15),i=c(37),o=c(58),j=c(31),d=c(38),b=c(22),u=c(154),x=c(259),m=c(237),O=c(240),h=c(241),p=c(239),f=c(203),g=c.n(f),v=c(238),N=c(4),y=["children","classes","onClose"],w=Object(u.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,c=e.classes,a=e.onClose,n=Object(b.a)(e,y);return Object(N.jsxs)(m.a,Object(s.a)(Object(s.a)({disableTypography:!0,className:c.root},n),{},{children:[Object(N.jsx)(v.a,{variant:"h6",children:t}),a?Object(N.jsx)(p.a,{"aria-label":"close",className:c.closeButton,onClick:a,children:Object(N.jsx)(g.a,{})}):null]}))})),C=Object(u.a)((function(e){return{root:{padding:e.spacing(2)}}}))(O.a),k=Object(u.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(h.a);var T=function(e){var t=e.children,c=e.title,s=e.modalDialog,a=(e.handleSubmit,s.open),n=s.handleClose;return Object(N.jsx)("div",{children:Object(N.jsxs)(x.a,{fullWidth:!0,maxWidth:"sm",onClose:n,"aria-labelledby":"customized-dialog-title",open:a,children:[Object(N.jsx)(w,{id:"customized-dialog-title",onClose:n,children:c}),t]})})},S=c(54),I=c(39),D=c(27),P=c(9);var B=function(e){var t=e.modalDialog,c=Object(d.b)(),a=Object(D.useToasts)().addToast,n=Object(I.a)(),r=n.register,l=n.handleSubmit,j=Object(i.c)(o.g),b=j.userUpdate,u=j.updateMess,x=j.updateSuccess,m=t.handleClose;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(T,{title:"Details",modalDialog:t,children:Object(N.jsxs)("form",{onSubmit:l((function(e){c(Object(o.f)({id:b.User_Id,data:e})),x&&a(u,{appearance:"success",autoDismiss:!0}),m()})),children:[Object(N.jsxs)(C,{dividers:!0,className:"mx-12",children:[Object(N.jsx)(S.a,{type:"text",r:r,name:"User_Full_Name",label:"Name",value:b.User_Full_Name,required:!0}),Object(N.jsx)(S.a,{r:r,name:"User_Password",label:"Password (\u0110\u1ec3 tr\u1ed1ng n\u1ebfu kh\xf4ng thay \u0111\u1ed5i)"}),Object(N.jsxs)("div",{className:"grid grid-cols-1 my-4",children:[Object(N.jsx)("label",{className:"uppercase md:text-sm text-xs text-gray-500 text-light",children:"Global Role"}),Object(N.jsxs)("select",Object(s.a)(Object(s.a)({className:"py-2 px-3 rounded-md border border-purple-500 mt-2 focus:outline-none focus:ring-1 focus:ring-purple-700 focus:border-transparent"},r("globalrole")),{},{children:[Object(N.jsx)("option",{value:"0",children:"Admin"}),Object(N.jsx)("option",{value:"1",children:"Trusted"}),Object(N.jsx)("option",{value:"2",children:"Member"})]}))]})]}),Object(N.jsxs)(k,{children:[Object(N.jsx)("div",{className:"hidden sm:block m-2",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:m,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block m-2",children:Object(N.jsx)(P.Button,{type:"submit",color:"primary",children:"Submit"})})]})]})})})},_=c(261),F=c(200),M=c(199),E=c(243),R=c(198),A=c(244),L=c(245),U=c(246),W=c(40),K=[F.a[800],M.a[500],E.a[800],R.a[800],A.a[500],L.a[800]],z=Object(U.a)((function(){return{backgroundColor:{color:"#fff",backgroundColor:K[Math.floor(Math.random()*K.length)]}}})),H=function(e){var t=e.user,c=Object(d.b)(),s=Object(i.c)(o.g);s.updateMess,s.updateSuccess,Object(D.useToasts)().addToast;var a,r=n.a.useState(!1),j=Object(l.a)(r,2),b=j[0],u=j[1],x=function(e,t){e.preventDefault(),c(Object(o.e)(t)),u(!0)},m={open:b,handleOpen:x,handleClose:function(){u(!1)}};"0"!=t.Is_Admin&&"0"!=t.globalrole||(a="Admin"),"1"!=t.Is_Admin&&"1"!=t.globalrole||(a="Trusted"),"2"!=t.Is_Admin&&"2"!=t.globalrole||(a="Member");var O=z();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(B,{modalDialog:m}),Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{children:Object(N.jsxs)("div",{className:"flex items-center",children:[Object(N.jsx)("div",{children:function(){var e=[];return t.User_Name.split("").forEach((function(t){e.push(t)})),Object(N.jsx)(_.a,{className:O.backgroundColor,children:e[0]})}()}),Object(N.jsx)("div",{className:"ml-3",children:Object(N.jsx)("p",{children:t.User_Full_Name})})]})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{children:t.User_Name})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{children:t.User_Email})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{children:a})}),Object(N.jsxs)(P.TableCell,{children:[Object(N.jsx)(P.Badge,{className:"hover:bg-green-200 cursor-pointer",type:"success",onClick:function(e){return x(e,t)},children:"Edit"}),Object(N.jsx)(P.Badge,{className:"ml-1 hover:bg-red-200 cursor-pointer",type:"danger",onClick:function(e){return function(e,t){e.preventDefault(),confirm("Delete?")&&c(Object(o.b)(t))}(e,t.User_Id)},children:"Delete"})]})]},t.User_Id)]})},V=function(){var e=Object(d.b)(),t=Object(D.useToasts)().addToast,c=Object(i.c)(o.g),s=c.users,r=c.loading,b=c.hasErrors,u=c.updateMess,x=c.updateSuccess;Object(a.useEffect)((function(){e(Object(o.c)())}),[e]),Object(a.useEffect)((function(){x&&(t(u,{appearance:"success",autoDismiss:!0}),e(Object(o.d)()))}),[x]);var m=n.a.useState(""),O=Object(l.a)(m,2),h=O[0],p=O[1],f=n.a.useState([]),g=Object(l.a)(f,2),v=g[0],y=g[1],w=n.a.useState(""),C=Object(l.a)(w,2),k=C[0],T=C[1];Object(a.useEffect)((function(){var e=s.filter((function(e){return-1!=e.User_Name.toLowerCase().indexOf(h.toLowerCase())||-1!=e.User_Email.toLowerCase().indexOf(h.toLowerCase())||-1!=e.User_Full_Name.toLowerCase().indexOf(h.toLowerCase())}));y(e)}),[h]),Object(a.useEffect)((function(){var e=s.filter((function(e){return e.Is_Admin==k}));y(e)}),[k]);return r?Object(N.jsx)("tr",{children:Object(N.jsx)("div",{className:"loader",children:"Loading..."})}):b?Object(N.jsx)("p",{children:"Unable to get Users."}):Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsx)("div",{children:Object(N.jsx)("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:"Users Manager"})}),Object(N.jsxs)("div",{className:"my-2 flex justify-between sm:flex-row flex-col",children:[Object(N.jsxs)("div",{className:"flex flex-row mb-1 sm:mb-0",children:[Object(N.jsx)("div",{className:"relative",children:Object(N.jsxs)(P.Select,{value:k,onChange:function(e){T(e.target.value)},className:"appearance-none h-full rounded-r border-t sm:rounded-r-none sm:border-r-0 border-r border-b block w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500",children:[Object(N.jsx)("option",{selected:!0,children:"All"}),Object(N.jsx)("option",{value:"0",children:"User Admin"}),Object(N.jsx)("option",{value:"1",children:"User Trusted"}),Object(N.jsx)("option",{value:"2",children:"User Member"})]})}),Object(N.jsxs)("div",{className:"flex relative",children:[Object(N.jsx)("span",{className:"h-full absolute inset-y-0 right-2 flex items-center pl-2",children:Object(N.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 fill-current text-gray-500",children:Object(N.jsx)("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"})})}),Object(N.jsx)("input",{placeholder:"Search",className:"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none",value:h,onChange:function(e){p(e.target.value)}})]})]}),Object(N.jsx)("div",{className:"flex",children:Object(N.jsx)(j.b,{to:"user-manager/create-user",children:Object(N.jsx)(P.Button,{children:"Create User"})})})]}),Object(N.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:Object(N.jsx)("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:Object(N.jsx)(P.TableContainer,{className:"mb-8",children:Object(N.jsxs)(P.Table,{className:"min-w-full leading-normal",children:[Object(N.jsx)(P.TableHeader,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(P.TableCell,{children:"Full name"}),Object(N.jsx)(P.TableCell,{children:"Username"}),Object(N.jsx)(P.TableCell,{children:"Email"}),Object(N.jsx)(P.TableCell,{children:"Role"}),Object(N.jsx)(P.TableCell,{children:"Action"})]})}),Object(N.jsx)(P.TableBody,{children:""==h&&"All"==k||""==h&&""==k?s.map((function(e){return Object(N.jsx)(H,{user:e},e.User_Id)})):v.map((function(e){return Object(N.jsx)(H,{user:e},e.User_Id)}))})]})})})})]})})},J=c(92),q=c(70),Y=c(63),G=c(45),Q=c.n(G),X=c(30),Z=function(e){var t=e.permission,c=Object(d.b)(),s=Object(r.g)(),n=Object(a.useState)([]),i=Object(l.a)(n,2),o=i[0],j=i[1];Object(a.useEffect)((function(){t&&X.a.getPrmissionRole(t.Permission_Id).then((function(e){j(e.Data)}))}),[]);return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{children:t.Permission_Name})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{children:t.Permission_Description})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("ul",{children:null!=o?o.map((function(e){return Object(N.jsx)("li",{children:e.RoleName},e.RoleId)})):Object(N.jsx)("li",{})})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)(P.Badge,{className:"hover:bg-green-200 cursor-pointer",type:"success",onClick:function(e){return function(e,t){e.preventDefault(),c(Object(q.d)(t)),s.push("permission-manager/detail-permission")}(e,t)},children:"Edit"})})]},t.Permission_Id)})},$=function(){var e=Object(d.b)(),t=Object(i.c)(q.c),c=t.permissions,s=t.loading,n=t.hasErrors;Object(a.useEffect)((function(){e(Object(q.b)())}),[e]);return s?Object(N.jsx)("tr",{children:Object(N.jsx)("div",{className:"loader",children:"Loading..."})}):n?Object(N.jsx)("p",{children:"Unable to get Permission."}):Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsx)("div",{children:Object(N.jsx)("h2",{className:"text-2xl font-semibold leading-tight",children:"Permission"})}),Object(N.jsx)("div",{className:"my-2 flex justify-between sm:flex-row flex-col",children:Object(N.jsx)("div",{className:"flex"})}),Object(N.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:Object(N.jsx)("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:Object(N.jsx)(P.TableContainer,{className:"mb-8",children:Object(N.jsxs)(P.Table,{className:"min-w-full leading-normal",children:[Object(N.jsx)(P.TableHeader,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(P.TableCell,{children:"Name Permission"}),Object(N.jsx)(P.TableCell,{children:"Description"}),Object(N.jsx)(P.TableCell,{children:"Grant to"}),Object(N.jsx)(P.TableCell,{children:"Action"})]})}),Object(N.jsx)(P.TableBody,{children:c.map((function(e){return Object(N.jsx)(Z,{permission:e},e.Permission_Id)}))})]})})})})]})})};function ee(e){var t=e.permission_role,c=Object(d.b)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{children:t.RoleName})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)(P.Badge,{className:"ml-1 hover:bg-red-200 cursor-pointer",type:"danger",onClick:function(e){return function(e,t,s){e.preventDefault(),confirm("Delete?")&&c(Object(Y.c)(t,s))}(e,t.PermissionId,t.RoleId)},children:"Delete"})})]})})}var te=function(e){var t=e.r,c=e.name,a=e.label,n=e.required,r=e.type,l=e.value;return Object(N.jsxs)("div",{className:"mb-5 w-full relative z-0",children:[Object(N.jsx)("input",Object(s.a)({className:"pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 \r border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-green-800 border-gray-200",type:r,defaultValue:l,placeholder:" "},t(c,{required:n}))),Object(N.jsx)("label",{htmlFor:"name",className:"absolute duration-300 \r top-3 origin-0 text-gray-500 -z-1",children:a})]})};te.displayName="FormInput";var ce=te,se=c(60);function ae(e){var t=e.modalDialog,c=t.handleClose,n=t.fulldata,r=t.data_permission,l=Object(d.b)(),o=Object(I.a)(),j=o.register,b=o.handleSubmit,u=Object(i.c)(se.d),x=u.roles;u.loading,u.hasErrors;Object(a.useEffect)((function(){l(Object(se.c)())}),[l]);var m=x.filter((function(e){return!n.some((function(t){return e.Role_Id===t.RoleId}))})).map((function(e){return Object(N.jsx)("option",{value:e.Role_Id,children:e.Role_Name},e.Role_Id)}));return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(T,{title:"Grant Permission",modalDialog:t,children:Object(N.jsxs)("form",{onSubmit:b((function(e){var t;x.map((function(c){c.Role_Id==e.idrole&&(t=c.Role_Name)}));var s={idpermission:r.Permission_Id.toString(),idrole:e.idrole,RoleName:t,RoleId:e.idrole,PermissionId:r.Permission_Id.toString()};l(Object(Y.a)(s)),c()})),children:[Object(N.jsx)(C,{dividers:!0,className:"mx-12",children:Object(N.jsxs)("div",{className:"grid grid-cols-1 my-4",children:[Object(N.jsx)("label",{className:"uppercase md:text-sm text-xs text-gray-500 text-light",children:"Project Role"}),Object(N.jsx)("select",Object(s.a)(Object(s.a)({className:"py-2 px-3 rounded-md border border-purple-500 mt-2 focus:outline-none focus:ring-1 focus:ring-purple-700 focus:border-transparent"},j("idrole")),{},{children:m}))]})}),Object(N.jsxs)(k,{children:[Object(N.jsx)("div",{className:"hidden sm:block m-2",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:c,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block m-2",children:Object(N.jsx)(P.Button,{type:"submit",color:"primary",children:"Submit"})})]})]})})})}var ne=function(e){var t=e.modalDialog,c=Object(d.b)(),s=Object(I.a)(),a=s.register,n=s.handleSubmit,r=Object(i.c)(se.d).roleUpdate,l=t.handleClose,o=function(e){c(Object(se.g)({id:r.Role_Id,data:e})),l()};return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(T,{title:"Role",modalDialog:t,handleSubmit:n(o),children:Object(N.jsxs)("form",{onSubmit:n(o),children:[Object(N.jsxs)(C,{dividers:!0,className:"mx-12",children:[Object(N.jsx)(S.a,{r:a,name:"rolenamesub",label:"Role Name",value:r.Role_Name,required:!0}),Object(N.jsx)(S.a,{r:a,name:"roledescription",label:"Description",value:r.Role_Description,placeholder:"Type ..."})]}),Object(N.jsxs)(k,{children:[Object(N.jsx)("div",{className:"hidden sm:block m-2",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:l,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block m-2",children:Object(N.jsx)(P.Button,{type:"submit",color:"primary",children:"Submit"})})]})]})})})},re=function(e){var t=e.role,c=Object(d.b)(),s=n.a.useState(!1),a=Object(l.a)(s,2),r=a[0],i=a[1],o=function(e,t){e.preventDefault(),c(Object(se.e)(t)),i(!0)},j={open:r,handleOpen:o,handleClose:function(){i(!1)}};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ne,{modalDialog:j}),Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{children:t.Role_Name||t.rolenamesub})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{children:t.Role_Description||t.roledescription})}),Object(N.jsxs)(P.TableCell,{children:[Object(N.jsx)(P.Badge,{className:"hover:bg-green-200 cursor-pointer",type:"success",onClick:function(e){return o(e,t)},children:"Edit"}),Object(N.jsx)(P.Badge,{className:"ml-1 hover:bg-red-200 cursor-pointer",type:"danger",onClick:function(e){return function(e,t){e.preventDefault(),confirm("Delete?")&&c(Object(se.b)(t))}(e,t.Role_Id)},children:"Delete"})]})]},t.Role_Id)]})},le=function(){var e=Object(d.b)(),t=Object(D.useToasts)().addToast,c=Object(i.c)(se.d),s=c.updateMess,r=c.updateSuccess,o=c.roles,b=c.loading,u=c.hasErrors;Object(a.useEffect)((function(){e(Object(se.c)())}),[e]),Object(a.useEffect)((function(){r&&(t(s,{appearance:"success",autoDismiss:!0}),e(Object(se.f)()))}),[r]);var x=n.a.useState(""),m=Object(l.a)(x,2),O=m[0],h=m[1],p=n.a.useState([]),f=Object(l.a)(p,2),g=f[0],v=f[1];Object(a.useEffect)((function(){var e=o.filter((function(e){return-1!=e.Role_Name.toLowerCase().indexOf(O.toLowerCase())}));v(e)}),[O]);return b?Object(N.jsx)("tr",{children:Object(N.jsx)("div",{className:"loader",children:"Loading..."})}):u?Object(N.jsx)("p",{children:"Unable to get Roles."}):Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsx)("div",{children:Object(N.jsx)("div",{children:Object(N.jsx)("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:"Project Role"})})}),Object(N.jsxs)("div",{className:"my-2 flex justify-between sm:flex-row flex-col",children:[Object(N.jsx)("div",{className:"flex flex-row mb-1 sm:mb-0",children:Object(N.jsxs)("div",{className:"flex relative",children:[Object(N.jsx)("span",{className:"h-full absolute inset-y-0 right-2 flex items-center pl-2",children:Object(N.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 fill-current text-gray-500",children:Object(N.jsx)("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"})})}),Object(N.jsx)("input",{placeholder:"Search",className:"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none",value:O,onChange:function(e){h(e.target.value)}})]})}),Object(N.jsx)("div",{className:"flex flex-row mb-1 sm:mb-0"}),Object(N.jsx)("div",{className:"flex",children:Object(N.jsx)(j.b,{to:"role-manager/create-role",children:Object(N.jsx)(P.Button,{children:"Create role"})})})]}),Object(N.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:Object(N.jsx)("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:Object(N.jsx)(P.TableContainer,{className:"mb-8",children:Object(N.jsxs)(P.Table,{className:"min-w-full leading-normal",children:[Object(N.jsx)(P.TableHeader,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(P.TableCell,{children:"Role Name"}),Object(N.jsx)(P.TableCell,{children:"Description"}),Object(N.jsx)(P.TableCell,{children:"Action"})]})}),Object(N.jsx)(P.TableBody,{children:""==O?o.map((function(e){return Object(N.jsx)(re,{role:e},e.Role_Id)})):g.map((function(e){return Object(N.jsx)(re,{role:e},e.Role_Id)}))})]})})})})]})})},ie=c(35);var oe=c(71),je=c(44),de=[F.a[800],M.a[500],E.a[800],R.a[800],A.a[500],L.a[800]],be=Object(U.a)((function(){return{backgroundColor:{color:"#fff",backgroundColor:de[Math.floor(Math.random()*de.length)]}}}));function ue(e){var t=e.dataItem,c=e.projectkey,s=Object(d.b)(),n=Object(D.useToasts)().addToast;var r=Object(a.useState)(t.RoleId),o=Object(l.a)(r,2),j=o[0],b=o[1],u=Object(i.c)(se.d),x=u.roles;u.loading,u.hasErrors;Object(a.useEffect)((function(){s(Object(se.c)())}),[s]);var m=x.map((function(e){return Object(N.jsx)("option",{value:e.Role_Id,children:e.Role_Name},e.Role_Id)})),O=be();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsxs)("div",{className:"flex items-center",children:[Object(N.jsx)("div",{className:"flex-shrink-0 w-10 h-10",children:function(){var e=[];return t.UserName.split("").forEach((function(t){e.push(t)})),Object(N.jsx)(_.a,{className:O.backgroundColor,children:e[0]})}()}),Object(N.jsx)("div",{className:"ml-3",children:Object(N.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:t.UserName})})]})}),Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:t.UserMail})}),Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:Object(N.jsx)(P.Select,{className:"py-2 px-3 rounded-md border border-purple-500 mt-1",value:j,onChange:function(e){b(e.target.value);var s={projectKey:c,userId:t.UserId.toString(),roleIdNew:e.target.value};je.a.updateRoleUserInProject(s).then((function(e){n(e.Msg,{appearance:"success",autoDismiss:!0})})).catch((function(e){n(e.response.data.Msg,{appearance:"error",autoDismiss:!0})}))},children:m})})}),Object(N.jsx)("td",{className:"px-5 py-5 border-b text-center border-gray-200 bg-white text-sm",children:Object(N.jsxs)("span",{className:"relative inline-block px-3 py-1 ml-1.5 font-semibold text-green-900 leading-tight",children:[Object(N.jsx)("span",{"aria-hidden":!0,className:"absolute inset-0 bg-red-400 opacity-50 rounded-full"}),Object(N.jsx)("a",{onClick:function(e){return function(e,t){var a={UserId:t,ProjectKey:c};e.preventDefault(),confirm("Delete?")&&s(Object(oe.c)(a))}(e,t.UserId)},className:"relative cursor-pointer text-red-900",children:"Delete"})]})})]},t.UserId)})}var xe=c(186);function me(e){var t=e.modalDialog,c=t.handleClose,n=t.projectkey,r=t.listUser,j=Object(I.a)(),b=j.register,u=j.handleSubmit,x=Object(d.b)(),m=Object(i.c)(o.g).users;Object(a.useEffect)((function(){x(Object(o.c)())}),[x]);var O=m.filter((function(e){return!r.some((function(t){return e.User_Id===t.UserId}))})).map((function(e){return{value:e.User_Id,label:e.User_Name}})),h=Object(i.c)(se.d).roles;Object(a.useEffect)((function(){x(Object(se.c)())}),[x]);h.map((function(e){return{value:e.Role_Id,label:e.Role_Name}}));var p=h.map((function(e){return Object(N.jsx)("option",{value:e.Role_Id,children:e.Role_Name},e.Role_Id)})),f=Object(a.useState)([]),g=Object(l.a)(f,2),v=g[0],y=g[1];return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(T,{title:"Grant Permission",modalDialog:t,children:Object(N.jsxs)("form",{onSubmit:u((function(e){var t;h.map((function(c){c.Role_Id==e.idrole&&(t=c.Role_Name)})),v.map((function(c){var s={userId:c.value.toString(),roleId:e.idrole,projectKey:n,RoleName:t};x(Object(oe.a)(s))})),c()})),children:[Object(N.jsxs)(C,{dividers:!0,className:"mx-12",children:[Object(N.jsxs)("div",{className:"grid grid-cols-1 my-4",children:[Object(N.jsx)("label",{className:"uppercase md:text-sm text-xs text-gray-500 text-light",children:"Name"}),Object(N.jsx)(xe.a,{components:{IndicatorSeparator:function(){return null}},isMulti:!0,name:"userId",options:O,onChange:function(e){y(e)},className:"py-2 px-3 rounded-md border border-purple-500 mt-1 ",styles:{dropdownIndicator:function(e){return Object(s.a)(Object(s.a)({},e),{},{padding:0})},control:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{boxShadow:"none",border:"none"})},menuPortal:function(e){return Object(s.a)(Object(s.a)({},e),{},{zIndex:1e3})}}})]}),Object(N.jsxs)("div",{className:"grid grid-cols-1 my-4",children:[Object(N.jsx)("label",{className:"mt-4",children:Object(N.jsx)("span",{children:" Project Role"})}),Object(N.jsx)(P.Select,Object(s.a)(Object(s.a)({className:"py-2 px-3 rounded-md border border-purple-500 mt-1"},b("idrole")),{},{children:p}))]})]}),Object(N.jsxs)(k,{children:[Object(N.jsx)("div",{className:"hidden sm:block m-2",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:c,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block m-2",children:Object(N.jsx)(P.Button,{type:"submit",color:"primary",children:"Submit"})})]})]})})})}var Oe=c(1),he=c.n(Oe),pe=c(2),fe=c(61),ge=(c(67),c(24)),ve=function(e){var t=e.transition,c=Object(D.useToasts)().addToast,s=Object(d.b)(),n=(Object(r.g)(),Object(a.useState)([])),i=Object(l.a)(n,2),o=(i[0],i[1]);Object(a.useEffect)((function(){t&&Q()({method:"get",url:"http://localhost:5001/api/transition/transition-status?id="+t.TransitionId,responseType:"stream"}).then((function(e){console.log(e),o(e.data.Data)}))}),[]);var b=Object(a.useState)(!1),u=Object(l.a)(b,3),x=u[0],m=u[1];u[2];function O(){m(!1)}return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("div",{className:"flex items-center",children:Object(N.jsx)("div",{className:"ml-3",children:Object(N.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:Object(N.jsxs)(j.b,{to:"#",children:[Object(N.jsx)("a",{className:"text-black-400 whitespace-no-wrap",children:t.TransitionName}),Object(N.jsxs)("a",{className:"text-red-400 whitespace-no-wrap",children:["(",t.TransitionId,")"]})]})})})})}),Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("span",{children:t.Status1Name})}),Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("span",{children:t.Status2Name})}),Object(N.jsxs)(P.TableCell,{className:"px-5 py-5 text-center border-b border-gray-200 bg-white text-sm",children:[Object(N.jsx)(P.Badge,{className:"hover:bg-red-200 cursor-pointer",type:"danger",onClick:function(){m(!0)},children:"Delete"}),Object(N.jsxs)(P.Modal,{isOpen:x,onClose:O,children:[Object(N.jsx)(P.ModalHeader,{children:"Delete Transition"}),Object(N.jsx)(P.ModalBody,{children:"Are you sure DELETE this Transition!"}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:O,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",onClick:function(e){return function(e,t){e.preventDefault(),s(Object(fe.b)(t)),c("Delete Transition Success",{appearance:"success",autoDismiss:!0})}(e,t.TransitionId)},children:Object(N.jsx)(P.Button,{children:"Accept"})}),Object(N.jsx)("div",{className:"block w-full sm:hidden",children:Object(N.jsx)(P.Button,{block:!0,size:"large",layout:"outline",onClick:O,children:"Cancel"})}),Object(N.jsx)("div",{className:"block w-full sm:hidden",children:Object(N.jsx)(P.Button,{block:!0,size:"large",children:"Accept"})})]})]})]})]},t.TransitionId)})},Ne=c(56),ye=c(55),we=function(e){var t=e.transition,c=(Object(d.b)(),Object(r.g)(),Object(a.useState)([])),s=Object(l.a)(c,2),n=(s[0],s[1]);Object(a.useEffect)((function(){t&&Q()({method:"get",url:"http://localhost:5001/api/transition/transition-status?id="+t.TransitionId,responseType:"stream"}).then((function(e){console.log(e),n(e.data.Data)}))}),[]);return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{className:"px-5 py-5 font-semibold border-b border-gray-200 bg-white text-sm",children:Object(N.jsxs)("span",{children:[t.TransitionName,"(",t.TransitionId,")"]})}),Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("span",{children:t.Status1Name})}),Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("span",{children:t.Status2Name})}),Object(N.jsx)("td",{className:"px-5 py-5 text-center border-b border-gray-200 bg-white text-sm"})]},t.TransitionId)})},Ce=c(23),ke=function(e){var t=Object(i.c)(Ne.h).workflowUpdate;localStorage.setItem("Project",JSON.stringify(t));var c=JSON.parse(localStorage.getItem("Project")||"[]");console.log(c);var s=Object(a.useState)({}),n=Object(l.a)(s,2),r=n[0],o=n[1];Object(a.useEffect)((function(){console.log("kkkk"),function(){var e=Object(pe.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q()({method:"get",url:"http://localhost:5001/api/workflows?id="+c.WorkflowId,responseType:"stream"}).then((function(e){e.data.Data&&o(e.data.Data[0])})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var j=Object(d.b)(),b=Object(i.c)(fe.e),u=b.transitions,x=b.loading,m=b.hasErrors;Object(a.useEffect)((function(){j(Object(fe.c)(c.WorkflowId))}),[j]);var O=Object(a.useState)(1),h=Object(l.a)(O,2),p=h[0],f=h[1],g=Object(a.useState)([]),v=Object(l.a)(g,2),y=v[0],w=v[1],C=u.length;Object(a.useEffect)((function(){w(u.slice(5*(p-1),5*p))}),[u,p]);var k=Object(d.b)(),T=Object(i.c)(Ne.h),S=T.worklfows;T.loading1,T.hasErrors1;return Object(a.useEffect)((function(){k(Object(Ne.d)(c.WorkflowId))}),[k]),console.log(S),x?Object(N.jsx)("tr",{children:Object(N.jsx)("div",{className:"loader",children:"Loading..."})}):m?Object(N.jsx)("p",{children:"Unable to get Transition."}):Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsx)("div",{children:Object(N.jsx)("h1",{className:"text-2xl font-semibold leading-tight",children:r.WorkflowName})}),Object(N.jsx)("div",{children:Object(N.jsxs)("h2",{className:"text-2xl font-semibold leading-tight",children:[" ",r.WorkflowDescription]})}),Object(N.jsx)("div",{className:"my-2 flex justify-between sm:flex-row flex-col",children:Object(N.jsx)("div",{className:"flex"})}),Object(N.jsx)("div",{className:"my-2 flex justify-between sm:flex-row flex-col",children:Object(N.jsx)("div",{className:"flex"})}),Object(N.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:Object(N.jsxs)("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:[Object(N.jsxs)("table",{className:"min-w-full leading-normal",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name Transition (ID)"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status 1"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status 2"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider"})]})}),Object(N.jsx)("tbody",{children:u?y.map((function(e){return Object(N.jsx)(we,{transition:e},e.TransitionId)})):Object(N.jsx)("div",{children:"NULL"})})]}),Object(N.jsx)(P.Pagination,{totalResults:C,resultsPerPage:5,onChange:function(e){f(e)},label:"Table navigation"})]})})]})})},Te=c(57),Se=c(69),Ie=c(62),De=c(6),Pe=function(e){var t,c=e.issue,n=Object(i.b)(),o=Object(I.a)(),j=o.register,d=o.handleSubmit,b=o.reset,u=Object(a.useState)(c.Name),x=Object(l.a)(u,2),m=x[0],O=x[1],h=Object(a.useState)(c.Key),p=Object(l.a)(h,2),f=p[0],g=(p[1],Object(a.useState)(c.Project)),v=Object(l.a)(g,2),y=v[0],w=(v[1],Object(a.useState)(c.Project_Name)),C=Object(l.a)(w,2),k=C[0],T=(C[1],Object(a.useState)(c.Issue_Type_Name)),S=Object(l.a)(T,2),D=S[0],B=(S[1],Object(a.useState)(!1)),_=Object(l.a)(B,2),F=_[0],M=_[1],E=Object(a.useState)(c.Status),R=Object(l.a)(E,2),A=R[0],L=R[1],U=Object(a.useState)("idle"),W=Object(l.a)(U,2),K=W[0],z=W[1],H=Object(i.c)(Te.j);Object(a.useEffect)((function(){F&&n(Object(Te.g)({project:y}))}),[n,F]);var V=[m,f,A].every(Boolean)&&"idle"===K,J=(Object(r.g)(),function(){var e=Object(pe.a)(he.a.mark((function e(t){var a,r;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V){e.next=20;break}return e.prev=1,(a=Object(s.a)(Object(s.a)({},c),{},{Key:f,Name:m,Status:A})).Fields=a.Fields?a.Fields.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{Value:t[e.Name]})})):[],z("pending"),e.next=7,n(Object(Te.m)(a));case 7:r=e.sent,Object(De.d)(r),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Failed to save the issue: ",e.t0),O(c.Name),b({});case 16:return e.prev=16,z("idle"),q(),e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[1,11,16,20]])})));return function(t){return e.apply(this,arguments)}}());function q(){M(!1)}var Y,G=H.map((function(e){return Object(N.jsx)("option",{value:e.User_Full_Name,children:e.User_Full_Name},e.User_Id)})),Q=null===(t=c.Transitions)||void 0===t?void 0:t.map((function(e){return Object(N.jsx)("option",{value:e.Name_Status2,children:"".concat(e.Name_Transition," -> ").concat(e.Name_Status2)},e.Id_Transition)}));return c.Fields&&0!==c.Fields.length&&(Y=c.Fields.map((function(e){switch(e.Field_Type){case"Text":return Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:e.Name}),Object(N.jsx)(P.Input,Object(s.a)(Object(s.a)({className:"mt-1"},j(e.Name)),{},{defaultValue:e.Value}))]},e.Name);case"Date":return Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:e.Name}),Object(N.jsx)(P.Input,Object(s.a)(Object(s.a)({type:"date",className:"mt-1"},j(e.Name)),{},{defaultValue:e.Value}))]},e.Name);case"Text area":return Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:e.Name}),Object(N.jsx)(P.Textarea,Object(s.a)(Object(s.a)({className:"mt-1"},j(e.Name)),{},{defaultValue:e.Value}))]},e.Name);case"People":return Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:e.Name}),Object(N.jsxs)(P.Select,Object(s.a)(Object(s.a)({className:"mt-1"},j(e.Name)),{},{defaultValue:e.Value,children:[Object(N.jsx)("option",{value:""}),G]}))]},e.Name)}}))),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(P.Badge,{className:"hover:bg-green-200 cursor-pointer",type:"success",onClick:function(){M(!0)},children:"Edit"}),Object(N.jsxs)(P.Modal,{isOpen:F,onClose:q,children:[Object(N.jsx)(P.ModalHeader,{className:"m-2",children:"Edit a issue"}),Object(N.jsxs)(P.ModalBody,{class:"overflow-auto h-80",children:[Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Name"}),Object(N.jsx)(P.Input,{className:"mt-1",value:m,onChange:function(e){return O(e.target.value)}})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Key"}),Object(N.jsx)(P.Input,{className:"mt-1",value:f,disabled:!0})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Project"}),Object(N.jsx)(P.Input,{className:"mt-1",placeholder:"Jane Doe",value:k,disabled:!0})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Issue type"}),Object(N.jsx)(P.Input,{className:"mt-1",placeholder:"Jane Doe",value:D,disabled:!0})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:A}),Object(N.jsxs)(P.Select,{className:"mt-1",value:"",onChange:function(e){return L(e.target.value)},children:[Object(N.jsx)("option",{value:""}),Q]})]}),Y]}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:q,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{onClick:d(J),disabled:!V,children:"Accept"})})]})]})]})},Be=function(e){var t,c,s,a,n=e.issue,r=e.openModal;return Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("div",{className:"flex items-center text-sm",children:Object(N.jsx)("div",{children:Object(N.jsx)("p",{className:"font-semibold",children:"".concat(n.Name," (").concat(n.Key,")")})})})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:"".concat(n.Project_Name," (").concat(n.Project,")")})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:n.Issue_Type_Name})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:n.Status})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:null===(t=n.Fields)||void 0===t||null===(c=t.find((function(e){return"Assignee"===e.Name})))||void 0===c?void 0:c.Value})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:null===(s=n.Fields)||void 0===s||null===(a=s.find((function(e){return"Due Date"===e.Name})))||void 0===a?void 0:a.Value})}),Object(N.jsxs)(P.TableCell,{children:[Object(N.jsx)(Pe,{issue:n}),Object(N.jsx)(P.Badge,{className:"ml-1 hover:bg-red-200 cursor-pointer",type:"danger",onClick:function(){return r(n.Id)},children:"Delete"})]})]},n.Id)},_e=function(e){var t,c,s,a,n=e.issue,r=e.openModal;return Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("div",{className:"flex items-center text-sm",children:Object(N.jsx)("div",{children:Object(N.jsx)("p",{className:"font-semibold",children:"".concat(n.Name," (").concat(n.Key,")")})})})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:"".concat(n.Project_Name," (").concat(n.Project,")")})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:n.Issue_Type_Name})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:n.Status})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:null===(t=n.Fields)||void 0===t||null===(c=t.find((function(e){return"Assignee"===e.Name})))||void 0===c?void 0:c.Value})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:null===(s=n.Fields)||void 0===s||null===(a=s.find((function(e){return"Due Date"===e.Name})))||void 0===a?void 0:a.Value})}),Object(N.jsxs)(P.TableCell,{children:[Object(N.jsx)(Pe,{issue:n}),Object(N.jsx)(P.Badge,{className:"ml-1 hover:bg-red-200 cursor-pointer",type:"danger",onClick:function(){return r(n.Id)},children:"Delete"})]})]},n.Id)},Fe=c(66),Me=c(88),Ee=c(68),Re=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),o=Object(l.a)(n,2),j=o[0],d=o[1],b=Object(a.useState)("idle"),u=Object(l.a)(b,2),x=u[0],m=u[1],O=Object(a.useState)(!1),h=Object(l.a)(O,2),p=h[0],f=h[1],g=Object(i.b)(),v=(Object(r.g)(),[c].every(Boolean)&&"idle"===x),y=function(){var e=Object(pe.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=18;break}return e.prev=1,m("pending"),s(""),d(""),e.next=7,g(Object(Fe.a)({Name:c,Description:j}));case 7:t=e.sent,Object(De.d)(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Failed to save the screen: ",e.t0);case 14:return e.prev=14,m("idle"),w(),e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[1,11,14,18]])})));return function(){return e.apply(this,arguments)}}();function w(){f(!1)}return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{children:Object(N.jsx)(P.Button,{onClick:function(){f(!0)},children:"Create"})}),Object(N.jsxs)(P.Modal,{isOpen:p,onClose:w,children:[Object(N.jsx)(P.ModalHeader,{className:"m-2",children:"Add a screen"}),Object(N.jsxs)(P.ModalBody,{children:[Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Name"}),Object(N.jsx)(P.Input,{className:"mt-1",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Description"}),Object(N.jsx)(P.Textarea,{className:"mt-1",rows:"3",value:j,onChange:function(e){return d(e.target.value)}})]})]}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:w,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{onClick:y,disabled:!v,children:"Accept"})})]})]})]})},Ae=function(e){var t=e.screen,c=Object(a.useState)(t.Name),s=Object(l.a)(c,2),n=s[0],o=s[1],j=Object(a.useState)(t.Description),d=Object(l.a)(j,2),b=d[0],u=d[1],x=Object(a.useState)("idle"),m=Object(l.a)(x,2),O=m[0],h=m[1],p=Object(a.useState)(!1),f=Object(l.a)(p,2),g=f[0],v=f[1],y=Object(i.b)();Object(r.g)();Object(a.useEffect)((function(){o(t.Name),u(t.Description)}),[t]);var w=[n].every(Boolean)&&"idle"===O,C=function(){var e=Object(pe.a)(he.a.mark((function e(){var c;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=18;break}return e.prev=1,h("pending"),e.next=5,y(Object(Fe.h)({Id:t.Id,Name:n,Description:b}));case 5:c=e.sent,Object(De.d)(c),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Failed to save the screen: ",e.t0),o(t.Name),u(t.Description);case 14:return e.prev=14,h("idle"),k(),e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[1,9,14,18]])})));return function(){return e.apply(this,arguments)}}();function k(){v(!1)}return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(P.Badge,{className:"hover:bg-green-200 cursor-pointer",type:"success",onClick:function(){v(!0)},children:"Edit"}),Object(N.jsxs)(P.Modal,{isOpen:g,onClose:k,children:[Object(N.jsx)(P.ModalHeader,{className:"m-2",children:"Edit a screen"}),Object(N.jsxs)(P.ModalBody,{children:[Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Name"}),Object(N.jsx)(P.Input,{className:"mt-1",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Description"}),Object(N.jsx)(P.Textarea,{className:"mt-1",rows:"3",value:b,onChange:function(e){return u(e.target.value)}})]})]}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:k,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{onClick:C,disabled:!w,children:"Accept"})})]})]})]})},Le=function(e){var t=e.screen,c=e.listCustomFields,s=e.openModal;return Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("div",{className:"flex items-center text-sm",children:Object(N.jsx)("div",{children:Object(N.jsx)("p",{className:"font-semibold",children:t.Name})})})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:t.Description})}),Object(N.jsx)(P.TableCell,{children:c.map((function(e){return Object(N.jsx)("p",{className:"text-sm",children:e.Name},e.Id)}))}),Object(N.jsxs)(P.TableCell,{children:[Object(N.jsx)(Ae,{screen:t}),Object(N.jsx)(P.Badge,{className:"ml-1 hover:bg-red-200 cursor-pointer",type:"danger",onClick:function(){return s(t.Id)},children:"Delete"}),Object(N.jsx)(P.Badge,{className:"ml-1 hover:bg-gray-200 cursor-pointer",type:"neutral",onClick:function(){return s(t.Id)},children:Object(N.jsx)(j.b,{to:{pathname:"/screenCustomFields/".concat(t.Id),state:{screen:t,listCustomFields:c}},children:"Configure"})})]})]},t.Id)},Ue=c(64);var We=function(e){var t=e.modalDialog,c=Object(d.b)(),s=Object(I.a)(),a=s.register,n=s.handleSubmit,r=Object(i.c)(Ne.h).workflowUpdate,l=t.handleClose,o=function(e){c(Object(Ne.g)({id:r.WorkflowId,data:e})),l()};return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(T,{title:"Workflow",modalDialog:t,handleSubmit:n(o),children:Object(N.jsxs)("form",{onSubmit:n(o),children:[Object(N.jsxs)(C,{dividers:!0,className:"mx-12",children:[Object(N.jsx)(S.a,{r:a,name:"WorkflowName",label:"Workflow Name",value:r.WorkflowName,required:!0}),Object(N.jsx)(S.a,{r:a,name:"WorkflowDescription",label:"Description",value:r.WorkflowDescription,placeholder:"Description...."})]}),Object(N.jsx)(k,{children:Object(N.jsxs)("div",{className:"my-3 mx-5",children:[Object(N.jsx)(P.Button,{layout:"outline",onClick:l,color:"secondary",children:"Cancel"}),Object(N.jsx)(P.Button,{type:"submit",color:"primary",children:"Submit"})]})})]})})})},Ke=function(e){var t=e.workflow,c=Object(D.useToasts)().addToast,s=Object(d.b)(),i=Object(r.g)(),o=Object(a.useState)([]),j=Object(l.a)(o,2),b=j[0],u=j[1];Object(a.useEffect)((function(){t&&Ce.a.getWorkflowProject(t.WorkflowId).then((function(e){u(e.Data)}))}),[]);var x=n.a.useState(!1),m=Object(l.a)(x,2),O=m[0],h=m[1],p=function(e,t){e.preventDefault(),s(Object(Ne.f)(t)),h(!0)},f={open:O,handleOpen:p,handleClose:function(){h(!1)}},g=Object(a.useState)(!1),v=Object(l.a)(g,3),y=v[0],w=v[1];v[2];function C(){w(!1)}return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(We,{modalDialog:f}),Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{className:"px-5 py-5 font-semibold border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("span",{children:t.WorkflowName})}),Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("span",{children:t.WorkflowId})}),Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("span",{children:t.WorkflowDescription})}),Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("span",{children:null!=b?b.map((function(e){return Object(N.jsx)("li",{children:e.ProjectName},e.ProjectKey)})):Object(N.jsx)("li",{})})}),Object(N.jsxs)(P.TableCell,{className:"px-5 py-5 text-center border-b border-gray-200 bg-white text-sm",children:[Object(N.jsx)(P.Badge,{className:"hover:bg-white-200 cursor-pointer",type:"status",onClick:function(e){return function(e,t){e.preventDefault(),s(Object(Ne.f)(t)),c("Create Workflow Success",{appearance:"success",autoDismiss:!0}),i.push("/app/workflows-manager/create-workflows")}(e,t)},children:"Add Project"}),Object(N.jsx)(P.Badge,{className:"hover:bg-blue-200 cursor-pointer",type:"button",onClick:function(e){return function(e,t){e.preventDefault(),s(Object(Ne.f)(t)),c("Open Success",{appearance:"success",autoDismiss:!0}),i.push("/app/workflows-manager/transitions-manager")}(e,t)},children:"Transition"}),Object(N.jsx)(P.Badge,{className:"hover:bg-green-200 cursor-pointer",type:"success",onClick:function(e){return p(e,t)},children:"Edit"}),Object(N.jsx)(P.Badge,{className:"hover:bg-red-200 cursor-pointer",type:"danger",onClick:function(){w(!0)},children:"Delete"}),Object(N.jsxs)(P.Modal,{isOpen:y,onClose:C,children:[Object(N.jsx)(P.ModalHeader,{children:"Delete Workflow"}),Object(N.jsx)(P.ModalBody,{children:"Are you sure DELETE this Workflow!"}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:C,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",onClick:function(e){return function(e,t){e.preventDefault(),s(Object(Ne.b)(t))}(e,t.WorkflowId)},children:Object(N.jsx)(P.Button,{children:"Accept"})}),Object(N.jsx)("div",{className:"block w-full sm:hidden",children:Object(N.jsx)(P.Button,{block:!0,size:"large",layout:"outline",onClick:C,children:"Cancel"})}),Object(N.jsx)("div",{className:"block w-full sm:hidden",children:Object(N.jsx)(P.Button,{block:!0,size:"large",children:"Accept"})})]})]})]})]},t.WorkflowId)]})},ze=function(){var e=Object(D.useToasts)().addToast,t=Object(d.b)(),c=Object(i.c)(Ne.h),s=(c.updateWor,c.updateSuccess),r=c.workflows,o=c.loading,b=c.hasErrors;localStorage.setItem("WorkflowAll",JSON.stringify(r)),Object(a.useEffect)((function(){t(Object(Ne.c)())}),[t]),Object(a.useEffect)((function(){s&&(e("Success",{appearance:"success",autoDismiss:!0}),t(Object(Ne.e)()))}),[s]);var u=Object(a.useState)(1),x=Object(l.a)(u,2),m=x[0],O=x[1],h=Object(a.useState)([]),p=Object(l.a)(h,2),f=p[0],g=p[1],v=r.length;Object(a.useEffect)((function(){g(r.slice(5*(m-1),5*m))}),[r,m]);var y=n.a.useState(""),w=Object(l.a)(y,2),C=w[0],k=w[1],T=n.a.useState([]),S=Object(l.a)(T,2),I=S[0],B=S[1],_=n.a.useState(""),F=Object(l.a)(_,2),M=F[0];F[1];Object(a.useEffect)((function(){var e=r.filter((function(e){return-1!=e.WorkflowName.toLowerCase().indexOf(C.toLowerCase())}));B(e)}),[C]);return o?Object(N.jsx)("tr",{children:Object(N.jsx)("div",{className:"loader",children:"Loading..."})}):b?Object(N.jsx)("p",{children:"Unable to get Workflow."}):Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsx)("div",{children:Object(N.jsx)("h2",{className:"text-2xl font-semibold leading-tight",children:"Workflow"})}),Object(N.jsxs)("div",{className:"my-2 flex justify-between sm:flex-row flex-col",children:[Object(N.jsx)("div",{className:"flex",children:Object(N.jsx)(j.b,{to:"/app/workflows-manager/add-workflows",children:Object(N.jsx)(P.Button,{size:"large",children:"Create Workflow"})})}),Object(N.jsxs)("div",{className:"flex relative",children:[Object(N.jsx)("span",{className:"h-full absolute inset-y-0 right-2 flex items-center pl-2",children:Object(N.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 fill-current text-gray-500",children:Object(N.jsx)("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"})})}),Object(N.jsx)("input",{placeholder:"Search",className:"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none",value:C,onChange:function(e){k(e.target.value)}})]})]}),Object(N.jsx)("div",{className:"my-2 flex justify-between sm:flex-row flex-col",children:Object(N.jsx)("div",{className:"flex"})}),Object(N.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:Object(N.jsxs)("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:[Object(N.jsxs)("table",{className:"min-w-full leading-normal",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name Workflow"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Project"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Action"})]})}),Object(N.jsx)("tbody",{children:""==C&&"All"==M||""==C&&""==M?f.map((function(e){return Object(N.jsx)(Ke,{workflow:e},e.WorkflowId)})):I.map((function(e){return Object(N.jsx)(Ke,{workflow:e},e.WorkflowId)}))})]}),Object(N.jsx)(P.TableFooter,{children:Object(N.jsx)(P.Pagination,{totalResults:v,resultsPerPage:5,onChange:function(e){O(e)},label:"Table navigation"})})]})})]})})},He=[{Id:"0",Name:"Text"},{Id:"1",Name:"Date"},{Id:"2",Name:"Text area"},{Id:"3",Name:"People"}],Ve=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),o=Object(l.a)(n,2),j=o[0],d=o[1],b=Object(a.useState)(""),u=Object(l.a)(b,2),x=u[0],m=u[1],O=Object(a.useState)("idle"),h=Object(l.a)(O,2),p=h[0],f=h[1],g=Object(a.useState)(!1),v=Object(l.a)(g,2),y=v[0],w=v[1],C=Object(i.b)(),k=(Object(r.g)(),[c,j].every(Boolean)&&"idle"===p),T=function(){var e=Object(pe.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=19;break}return e.prev=1,f("pending"),s(""),d(""),m(""),e.next=8,C(Object(Ee.a)({Name:c,Field_Type:j,Description:x}));case 8:t=e.sent,Object(De.d)(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Failed to save the customField: ",e.t0);case 15:return e.prev=15,f("idle"),S(),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[1,12,15,19]])})));return function(){return e.apply(this,arguments)}}();function S(){w(!1)}var I=He.map((function(e){return Object(N.jsx)("option",{value:e.Name,children:e.Name},e.Id)}));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{children:Object(N.jsx)(P.Button,{onClick:function(){w(!0)},children:"Create"})}),Object(N.jsxs)(P.Modal,{isOpen:y,onClose:S,children:[Object(N.jsx)(P.ModalHeader,{className:"m-2",children:"Add a custom field"}),Object(N.jsxs)(P.ModalBody,{children:[Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Name"}),Object(N.jsx)(P.Input,{className:"mt-1",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Type"}),Object(N.jsxs)(P.Select,{className:"mt-1",value:j,onChange:function(e){return d(e.target.value)},children:[Object(N.jsx)("option",{value:""}),I]})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Description"}),Object(N.jsx)(P.Textarea,{className:"mt-1",rows:"3",value:x,onChange:function(e){return m(e.target.value)}})]})]}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:S,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{onClick:T,disabled:!k,children:"Accept"})})]})]})]})},Je=[{Id:"0",Name:"Text"},{Id:"1",Name:"Date"},{Id:"2",Name:"Text area"},{Id:"3",Name:"People"}],qe=function(e){var t=e.customField,c=Object(a.useState)(t.Name),s=Object(l.a)(c,2),n=s[0],o=s[1],j=Object(a.useState)(t.Field_Type),d=Object(l.a)(j,2),b=d[0],u=d[1],x=Object(a.useState)(t.Description),m=Object(l.a)(x,2),O=m[0],h=m[1],p=Object(a.useState)("idle"),f=Object(l.a)(p,2),g=f[0],v=f[1],y=Object(a.useState)(!1),w=Object(l.a)(y,2),C=w[0],k=w[1],T=Object(i.b)();Object(r.g)();Object(a.useEffect)((function(){o(t.Name),u(t.Field_Type),h(t.Description)}),[t]);var S=[n,b].every(Boolean)&&"idle"===g,I=function(){var e=Object(pe.a)(he.a.mark((function e(){var c;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=20;break}return e.prev=1,console.log({Id:t.Id,Name:n,Field_Type:b,Description:O}),v("pending"),e.next=6,T(Object(Ee.h)({Id:t.Id,Name:n,Field_Type:b,Description:O}));case 6:c=e.sent,Object(De.d)(c),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Failed to save the customField: ",e.t0),o(t.Name),u(t.Field_Type),h(t.Description);case 16:return e.prev=16,v("idle"),D(),e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[1,10,16,20]])})));return function(){return e.apply(this,arguments)}}();function D(){k(!1)}var B=Je.map((function(e){return Object(N.jsx)("option",{value:e.Name,children:e.Name},e.Id)}));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(P.Badge,{className:"hover:bg-green-200 cursor-pointer",type:"success",onClick:function(){k(!0)},children:"Edit"}),Object(N.jsxs)(P.Modal,{isOpen:C,onClose:D,children:[Object(N.jsx)(P.ModalHeader,{className:"m-2",children:"Edit a custom field"}),Object(N.jsxs)(P.ModalBody,{children:[Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Name"}),Object(N.jsx)(P.Input,{className:"mt-1",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Type"}),Object(N.jsxs)(P.Select,{className:"mt-1",value:b,onChange:function(e){return u(e.target.value)},children:[Object(N.jsx)("option",{value:""}),B]})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Description"}),Object(N.jsx)(P.Textarea,{className:"mt-1",rows:"3",value:O,onChange:function(e){return h(e.target.value)}})]})]}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:D,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{onClick:I,disabled:!S,children:"Accept"})})]})]})]})},Ye=function(e){var t=e.customField,c=e.openModal;return Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("div",{className:"flex items-center text-sm",children:Object(N.jsx)("div",{children:Object(N.jsx)("p",{className:"font-semibold",children:t.Name})})})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:t.Field_Type})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:t.Description})}),Object(N.jsxs)(P.TableCell,{children:[Object(N.jsx)(qe,{customField:t}),Object(N.jsx)(P.Badge,{className:"ml-1 hover:bg-red-200 cursor-pointer",type:"danger",onClick:function(){return c(t.Id)},children:"Delete"})]})]},t.Id)},Ge=c(73),Qe=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),o=Object(l.a)(n,2),j=o[0],d=o[1],b=Object(a.useState)(""),u=Object(l.a)(b,2),x=u[0],m=u[1],O=Object(a.useState)("idle"),h=Object(l.a)(O,2),p=h[0],f=h[1],g=Object(a.useState)(!1),v=Object(l.a)(g,2),y=v[0],w=v[1],C=Object(i.b)(),k=(Object(r.g)(),[c,j].every(Boolean)&&"idle"===p),T=function(){var e=Object(pe.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=19;break}return e.prev=1,f("pending"),s(""),d(""),m(""),e.next=8,C(Object(Se.a)({Name:c,Icon:j,Description:x}));case 8:t=e.sent,Object(De.d)(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Failed to save the issueType: ",e.t0);case 15:return e.prev=15,f("idle"),S(),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[1,12,15,19]])})));return function(){return e.apply(this,arguments)}}();function S(){w(!1)}return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{children:Object(N.jsx)(P.Button,{onClick:function(){w(!0)},children:"Create"})}),Object(N.jsxs)(P.Modal,{isOpen:y,onClose:S,children:[Object(N.jsx)(P.ModalHeader,{className:"m-2",children:"Add a issue type"}),Object(N.jsxs)(P.ModalBody,{class:"overflow-auto h-80",children:[Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Name"}),Object(N.jsx)(P.Input,{className:"mt-1",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Icon"}),Object(N.jsx)(P.Input,{className:"mt-1",value:j,onChange:function(e){return d(e.target.value)}})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Description"}),Object(N.jsx)(P.Textarea,{className:"mt-1",rows:"3",value:x,onChange:function(e){return m(e.target.value)}})]})]}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:S,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{onClick:T,disabled:!k,children:"Accept"})})]})]})]})},Xe=function(e){var t=e.issueType,c=Object(a.useState)(t.Name),s=Object(l.a)(c,2),n=s[0],o=s[1],j=Object(a.useState)(t.Icon),d=Object(l.a)(j,2),b=d[0],u=d[1],x=Object(a.useState)(t.Description),m=Object(l.a)(x,2),O=m[0],h=m[1],p=Object(a.useState)("idle"),f=Object(l.a)(p,2),g=f[0],v=f[1],y=Object(a.useState)(!1),w=Object(l.a)(y,2),C=w[0],k=w[1],T=Object(i.b)();Object(r.g)();Object(a.useEffect)((function(){o(t.Name),u(t.Icon),h(t.Description)}),[t]);var S=[n,b].every(Boolean)&&"idle"===g,I=function(){var e=Object(pe.a)(he.a.mark((function e(){var c;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=19;break}return e.prev=1,v("pending"),e.next=5,T(Object(Se.h)({Id:t.Id,Name:n,Icon:b,Description:O}));case 5:c=e.sent,Object(De.d)(c),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Failed to save the issueType: ",e.t0),o(t.Name),u(t.Icon),h(t.Description);case 15:return e.prev=15,v("idle"),D(),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[1,9,15,19]])})));return function(){return e.apply(this,arguments)}}();function D(){k(!1)}return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(P.Badge,{className:"hover:bg-green-200 cursor-pointer",type:"success",onClick:function(){k(!0)},children:"Edit"}),Object(N.jsxs)(P.Modal,{isOpen:C,onClose:D,children:[Object(N.jsx)(P.ModalHeader,{className:"m-2",children:"Edit a issue type"}),Object(N.jsxs)(P.ModalBody,{class:"overflow-auto h-80",children:[Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Name"}),Object(N.jsx)(P.Input,{className:"mt-1",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Icon"}),Object(N.jsx)(P.Input,{className:"mt-1",value:b,onChange:function(e){return u(e.target.value)}})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Description"}),Object(N.jsx)(P.Textarea,{className:"mt-1",rows:"3",value:O,onChange:function(e){return h(e.target.value)}})]})]}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:D,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{onClick:I,disabled:!S,children:"Accept"})})]})]})]})},Ze=function(e){var t=e.issueType,c=e.projectIssueTypeScreensHaveName,s=e.openModal;return Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("div",{className:"flex items-center text-sm",children:Object(N.jsx)("div",{children:Object(N.jsx)("p",{className:"font-semibold",children:t.Name})})})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:t.Icon})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:t.Description})}),Object(N.jsxs)(P.TableCell,{children:[Object(N.jsx)(Xe,{issueType:t}),Object(N.jsx)(P.Badge,{className:"ml-1 hover:bg-red-200 cursor-pointer",type:"danger",onClick:function(){return s(t.Id)},children:"Delete"}),Object(N.jsx)(P.Badge,{className:"ml-1 hover:bg-gray-200 cursor-pointer",type:"neutral",onClick:function(){return s(t.Id)},children:Object(N.jsx)(j.b,{to:{pathname:"/app/issueTypes/projectIssueTypeScreens/".concat(t.Id),state:{issueType:t,projectIssueTypeScreensHaveName:c}},children:"Configure"})})]})]},t.Id)},$e=c(247);var et=function(e){var t=e.modalDialog,c=Object(d.b)(),s=Object(I.a)(),a=s.register,n=s.handleSubmit,r=Object(i.c)(Ie.f).statusUpdate,l=t.handleClose,o=function(e){c(Object(Ie.g)({id:r.StatusId,data:e})),l()};return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(T,{title:"Status",modalDialog:t,handleSubmit:n(o),children:Object(N.jsxs)("form",{onSubmit:n(o),children:[Object(N.jsxs)(C,{dividers:!0,className:"mx-12",children:[Object(N.jsx)(S.a,{r:a,name:"StatusName",label:"Status Name",value:r.StatusName,required:!0}),Object(N.jsx)(S.a,{r:a,name:"StatusDescription",label:"Description",value:r.StatusDescription})]}),Object(N.jsx)(k,{children:Object(N.jsxs)("div",{className:"my-3 mx-5",children:[Object(N.jsx)($e.a,{onClick:l,color:"secondary",children:"Cancel"}),Object(N.jsx)($e.a,{type:"submit",color:"primary",children:"Submit"})]})})]})})})},tt=function(e){var t=e.status,c=(Object(D.useToasts)().addToast,Object(d.b)()),s=Object(a.useState)(!1),r=Object(l.a)(s,3),i=r[0],o=r[1];r[2];function j(){o(!1)}var b=n.a.useState(!1),u=Object(l.a)(b,2),x=u[0],m=u[1],O=function(e,t){e.preventDefault(),c(Object(Ie.e)(t)),m(!0)},h={open:x,handleOpen:O,handleClose:function(){m(!1)}};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(et,{modalDialog:h}),Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{className:"px-5 py-5 font-semibold border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("span",{children:t.StatusName})}),Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("span",{children:t.StatusDescription})}),Object(N.jsxs)(P.TableCell,{className:"px-5 py-5 text-center border-b border-gray-200 bg-white text-sm",children:[Object(N.jsx)(P.Badge,{className:"ml-1 hover:bg-green-200 cursor-pointer",onClick:function(e){return O(e,t)},type:"success",children:"Edit"}),Object(N.jsx)(P.Badge,{className:"ml-1 hover:bg-red-200 cursor-pointer",onClick:function(){o(!0)},type:"danger",children:"Delete"}),Object(N.jsxs)(P.Modal,{isOpen:i,onClose:j,children:[Object(N.jsx)(P.ModalHeader,{children:"Delete Status"}),Object(N.jsx)(P.ModalBody,{children:"Are you sure DELETE this Status!"}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:j,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",onClick:function(e){return function(e,t){e.preventDefault(),c(Object(Ie.b)(t))}(e,t.StatusId)},children:Object(N.jsx)(P.Button,{children:"Accept"})}),Object(N.jsx)("div",{className:"block w-full sm:hidden",children:Object(N.jsx)(P.Button,{block:!0,size:"large",layout:"outline",onClick:j,children:"Cancel"})}),Object(N.jsx)("div",{className:"block w-full sm:hidden",children:Object(N.jsx)(P.Button,{block:!0,size:"large",children:"Accept"})})]})]})]})]},t.StatusId)]})},ct=function(){var e=Object(D.useToasts)().addToast,t=Object(d.b)(),c=Object(i.c)(Ie.f),s=(c.updateMess,c.updateSuccess),r=c.statuss,o=c.loading,b=c.hasErrors;Object(a.useEffect)((function(){t(Object(Ie.c)())}),[t]),Object(a.useEffect)((function(){s&&(e(" Success",{appearance:"success",autoDismiss:!0}),t(Object(Ie.d)()))}),[s]);var u=Object(a.useState)(1),x=Object(l.a)(u,2),m=x[0],O=x[1],h=Object(a.useState)([]),p=Object(l.a)(h,2),f=p[0],g=p[1],v=r.length;Object(a.useEffect)((function(){g(r.slice(5*(m-1),5*m))}),[r,m]);var y=n.a.useState(""),w=Object(l.a)(y,2),C=w[0],k=w[1],T=n.a.useState([]),S=Object(l.a)(T,2),I=S[0],B=S[1],_=n.a.useState(""),F=Object(l.a)(_,2),M=F[0];F[1];Object(a.useEffect)((function(){var e=r.filter((function(e){return-1!=e.StatusName.toLowerCase().indexOf(C.toLowerCase())}));B(e)}),[C]),Object(a.useEffect)((function(){var e=r.filter((function(e){return e.WorkflowId==M}));B(e)}),[M]);return o?Object(N.jsx)("tr",{children:Object(N.jsx)("div",{className:"loader",children:"Loading..."})}):b?Object(N.jsx)("p",{children:"Unable to get Projects."}):Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsx)("div",{children:Object(N.jsx)("h2",{className:"text-2xl font-semibold leading-tight",children:" Status"})}),Object(N.jsxs)("div",{className:"my-2 flex justify-between sm:flex-row flex-col",children:[Object(N.jsx)("div",{className:"flex",children:Object(N.jsx)(j.b,{to:"/app/status-manager/create-status",children:Object(N.jsx)(P.Button,{children:"Create status"})})}),Object(N.jsxs)("div",{className:"flex relative",children:[Object(N.jsx)("span",{className:"h-full absolute inset-y-0 right-2 flex items-center pl-2",children:Object(N.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 fill-current text-gray-500",children:Object(N.jsx)("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"})})}),Object(N.jsx)("input",{placeholder:"Search",className:"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none",value:C,onChange:function(e){k(e.target.value)}})]})]}),Object(N.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:Object(N.jsxs)("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:[Object(N.jsxs)("table",{className:"min-w-full leading-normal",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status Name"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Action"})]})}),Object(N.jsx)("tbody",{children:""==C&&"All"==M||""==C&&""==M?r?f.map((function(e){return Object(N.jsx)(tt,{status:e},e.StatusId)})):Object(N.jsx)("div",{children:" NULL STATUS "}):I.map((function(e){return Object(N.jsx)(tt,{status:e},e.StatusId)}))})]}),Object(N.jsx)(P.TableFooter,{children:Object(N.jsx)(P.Pagination,{totalResults:v,resultsPerPage:5,onChange:function(e){O(e)},label:"Table navigation"})})]})})]})})};function st(e){var t=e.workflow_project,c=Object(d.b)(),s=Object(D.useToasts)().addToast;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("div",{className:"flex items-center",children:Object(N.jsx)(P.TableCell,{className:"ml-3",children:t.ProjectName})})}),Object(N.jsx)("td",{className:"px-5 py-5 text-center border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)(P.Badge,{className:"hover:bg-green-200 cursor-pointer",type:"success",onClick:function(e){return function(e,t,a){e.preventDefault(),c(Object(Ue.c)(t,a)),s("Delete Status Success",{appearance:"success",autoDismiss:!0})}(e,t.WorkflowId,t.ProjectKey)},children:"Delete"})})]})})}c(29);function at(e){var t=e.modalDialog,c=t.handleClose,n=t.data_workflow,r=Object(a.useState)([]),o=Object(l.a)(r,2),j=o[0],b=o[1];Object(a.useEffect)((function(){t&&(console.log(t),Q()({method:"get",url:"http://localhost:5001/api/projects/projectkey",responseType:"stream"}).then((function(e){console.log(e),b(e.data.Data)})))}),[]);var u=Object(d.b)(),x=Object(I.a)(),m=x.register,O=x.handleSubmit,h=Object(i.c)(ye.e),p=h.projects;h.loading,h.hasErrors;Object(a.useEffect)((function(){u(Object(ye.d)())}),[u]);var f=[];p.map((function(e){f.push(e.ProjectKey)})),null===j||void 0===j||j.map((function(e){f.push(e.ProjectKey)}));var g=p.filter((function(e){return!(null===j||void 0===j?void 0:j.some((function(t){return e.ProjectKey===t.ProjectKey})))})),v=g?g.map((function(e){return Object(N.jsx)("option",{value:e.ProjectKey,children:e.ProjectName},e.ProjectKey)})):"";return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(T,{title:"Grant Workflow",modalDialog:t,children:Object(N.jsxs)("form",{onSubmit:O((function(e){var t;p.map((function(c){c.ProjectKey==e.idproject&&(t=c.ProjectName)}));var s={idworkflow:n.WorkflowId.toString(),idproject:e.idproject,ProjectName:t,ProjectKey:e.idproject,WorkflowId:n.WorkflowId.toString()};u(Object(Ue.a)(s)),c()})),children:[Object(N.jsx)(C,{dividers:!0,className:"mx-12",children:Object(N.jsxs)("div",{className:"grid grid-cols-1 my-4",children:[Object(N.jsx)("label",{className:"uppercase md:text-sm text-xs text-gray-500 text-light",children:"Project"}),Object(N.jsx)("select",Object(s.a)(Object(s.a)({className:"py-2 px-3 rounded-md border border-green-500 mt-2 focus:outline-none focus:ring-1 focus:ring-green-700 focus:border-transparent"},m("idproject")),{},{children:v}))]})}),Object(N.jsxs)(k,{children:[Object(N.jsx)("div",{className:"hidden sm:block m-2",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:c,color:"secondary",children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block m-2",children:Object(N.jsx)(P.Button,{type:"submit",color:"primary",children:"Submit"})})]})]})})})}var nt=function(){var e=Object(i.c)(Ne.h).workflowUpdate;e.WorkflowId&&localStorage.setItem("Workflow",JSON.stringify(e));var t=JSON.parse(localStorage.getItem("Workflow")||"[]"),c=Object(d.b)(),s=Object(i.c)(fe.e),n=s.transitions,r=s.loading,o=s.hasErrors;Object(a.useEffect)((function(){c(Object(fe.c)(t.WorkflowId))}),[c]),localStorage.setItem("TransitionAll",JSON.stringify(n));var b=Object(a.useState)(1),u=Object(l.a)(b,2),x=u[0],m=u[1],O=Object(a.useState)([]),h=Object(l.a)(O,2),p=h[0],f=h[1],g=n.length;Object(a.useEffect)((function(){f(n.slice(5*(x-1),5*x))}),[n,x]);return r?Object(N.jsx)("tr",{children:Object(N.jsx)("div",{className:"loader",children:"Loading..."})}):o?Object(N.jsx)("p",{children:"Unable to get Transition."}):Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsx)("div",{children:Object(N.jsx)("h2",{className:"text-2xl font-semibold leading-tight",children:"Transition"})}),Object(N.jsx)("div",{className:"my-2 flex justify-between sm:flex-row flex-col",children:Object(N.jsx)("div",{className:"flex",children:Object(N.jsx)(j.b,{to:"/app/workflows-manager/transitions-manager/create-transitions",children:Object(N.jsx)(P.Button,{children:"Create Transition"})})})}),Object(N.jsx)("div",{className:"my-2 flex justify-between sm:flex-row flex-col",children:Object(N.jsx)("div",{className:"flex"})}),Object(N.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:Object(N.jsxs)("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:[Object(N.jsxs)("table",{className:"min-w-full leading-normal",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name Transition"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status 1"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status 2"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Action"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider"})]})}),Object(N.jsx)("tbody",{children:n?p.map((function(e){return Object(N.jsx)(ve,{transition:e},e.TransitionId)})):Object(N.jsx)("div",{children:"NULL"})})]}),Object(N.jsx)(P.TableFooter,{children:Object(N.jsx)(P.Pagination,{totalResults:g,resultsPerPage:5,onChange:function(e){m(e)},label:"Table navigation"})})]})})]})})},rt=c(14),lt=function(e){var t=e.projectIssueTypeScreen,c=e.openModal;return Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("div",{className:"flex items-center text-sm",children:Object(N.jsx)("div",{children:Object(N.jsx)("p",{className:"font-semibold",children:"".concat(t.ProjectName," (").concat(t.Project,")")})})})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)("div",{className:"flex items-center text-sm",children:Object(N.jsx)("div",{children:Object(N.jsx)("p",{className:"font-semibold",children:t.ScreenName})})})}),Object(N.jsx)(P.TableCell,{children:Object(N.jsx)(P.Badge,{className:"ml-1 hover:bg-red-200 cursor-pointer",type:"danger",onClick:function(){return c(t.Id)},children:"Delete"})})]},t.Id)},it=c(36);var ot=c(65),jt=c(258),dt=c(248),bt=c(249),ut=c(250),xt=c(251),mt=c(252),Ot=c(253);var ht=function(e){var t=e.modalDialog,c=Object(d.b)(),s=Object(I.a)(),a=s.register,n=s.handleSubmit,r=Object(i.c)(ye.e).projectUpdate,l=t.handleClose,o=function(e){var t=Object.assign({},r,e);c(Object(ye.i)({key:r.ProjectKey,data:t})),l()};return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(T,{title:"Details",modalDialog:t,handleSubmit:n(o),children:Object(N.jsxs)("form",{onSubmit:n(o),children:[Object(N.jsxs)(C,{dividers:!0,className:"mx-12",children:[Object(N.jsx)(S.a,{r:a,name:"ProjectName",label:"Name",value:r.ProjectName,required:!0}),Object(N.jsx)(S.a,{r:a,name:"ProjectUrl",label:"URL",value:r.ProjectUrl}),Object(N.jsxs)("div",{className:"mb-5 w-full relative z-0",children:[Object(N.jsx)(P.Textarea,{className:"pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 \r border-b-2 h-36 resize-none appearance-none focus:outline-none focus:ring-0 focus:border-green-800 border-gray-200",name:"name",placeholder:" ",defaultValue:r.ProjectDescription}),Object(N.jsx)("label",{htmlFor:"name",className:"absolute duration-300 \r top-3 origin-0 text-gray-500 -z-1",children:"Description"})]})]}),Object(N.jsx)(k,{children:Object(N.jsxs)("div",{className:"my-3 mx-5",children:[Object(N.jsx)($e.a,{onClick:l,color:"secondary",children:"Cancel"}),Object(N.jsx)($e.a,{type:"submit",color:"primary",children:"Submit"})]})})]})})})};var pt=function(e){var t=e.modalDialog,c=(Object(d.b)(),Object(I.a)()),s=c.register,a=c.handleSubmit,n=Object(i.c)(ye.e).projectUpdate,r=t.handleCloseViewProject,l=function(e){var t=Object.assign({},n,e);console.log(t),alert(n),r()};return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(T,{title:"Details",modalDialog:t,handleSubmit:a(l),children:Object(N.jsxs)("form",{onSubmit:a(l),children:[Object(N.jsxs)(C,{dividers:!0,className:"mx-12",children:[Object(N.jsx)(ce,{r:s,name:"ProjectName",label:"Name",value:n.ProjectName,required:!0}),Object(N.jsx)(ce,{r:s,name:"ProjectUrl",label:"URL",value:n.ProjectUrl,required:!0}),Object(N.jsx)(ce,{r:s,name:"ProjectLead",label:"Project Lead",value:n.ProjectLead,required:!0}),Object(N.jsxs)("div",{className:"mb-5 w-full relative z-0",children:[Object(N.jsx)("textarea",{className:"pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 \r border-b-2 h-36 resize-none appearance-none focus:outline-none focus:ring-0 focus:border-green-800 border-gray-200",name:"name",placeholder:" ",defaultValue:n.ProjectDescription,required:!0}),Object(N.jsx)("label",{htmlFor:"name",className:"absolute duration-300 \r top-3 origin-0 text-gray-500 -z-1",children:"Description"})]})]}),Object(N.jsx)(k,{children:Object(N.jsx)("div",{className:"my-3 mx-5",children:Object(N.jsx)($e.a,{onClick:r,color:"secondary",children:"Cancel"})})})]})})})},ft=function(e){var t=e.project,c=Object(D.useToasts)().addToast,s=Object(d.b)(),o=Object(r.g)(),b=Object(i.c)(Ne.h),u=(b.updateWor,b.updateSuccess,b.workflows);b.loading,b.hasErrors;Object(a.useEffect)((function(){s(Object(Ne.c)())}),[s]),console.log(u);var x,m=Object(a.useState)(!1),O=Object(l.a)(m,3),h=O[0],p=O[1],f=(O[2],JSON.parse(localStorage.getItem("WorkflowAll")||"[]"),JSON.parse(localStorage.getItem("IssuesAll")||"[]"));function g(){p(!1)}u.map((function(e){e.WorkflowId==t.WorkflowId&&(x=e.WorkflowName)}));var v=Object(i.c)(Te.h);console.log(v);var y=n.a.useState(!1),w=Object(l.a)(y,2),C=w[0],k=w[1],T=function(e,t){e.preventDefault(),s(Object(ye.g)(t)),k(!0)},S={open:C,handleOpen:T,handleClose:function(){k(!1)}},I=n.a.useState(!1),B=Object(l.a)(I,2),_=B[0],F=B[1],M={open:_,handleOpenViewProject:function(e,t){e.preventDefault(),s(Object(ye.g)(t)),F(!0)},handleCloseViewProject:function(){F(!1)}};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ht,{modalDialog:S}),Object(N.jsx)(pt,{modalDialog:M}),Object(N.jsxs)(P.TableRow,{children:[Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsxs)("div",{className:"flex items-center",children:[Object(N.jsx)("div",{className:"flex-shrink-0 w-10 h-10",children:Object(N.jsx)("img",{className:"w-full h-full rounded-full",src:"https://www.vhv.rs/dpng/d/614-6141793_planning-icon-png-test-transparent-png.png",alt:""})}),Object(N.jsx)("div",{className:"ml-3",children:Object(N.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:Object(N.jsx)(j.b,{to:"/app/IssuesByProject/".concat(t.ProjectKey),className:"relative cursor-pointer text-blue-400 whitespace-no-wrap",children:t.ProjectName})})})]})}),Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("span",{children:t.ProjectKey})}),Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("span",{children:t.ProjectUrl})}),Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("span",{children:t.ProjectLeadName})}),Object(N.jsx)(P.TableCell,{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:Object(N.jsx)("span",{children:x})}),Object(N.jsxs)(P.TableCell,{className:"px-5 py-5 text-center border-b border-gray-200 bg-white text-sm",children:[Object(N.jsx)(P.Badge,{type:"status",className:"hover:bg-blue-200 cursor-pointer",children:Object(N.jsx)(j.b,{to:"/app/project-user/".concat(t.ProjectKey,"-").concat(t.ProjectName),className:"relative cursor-pointer",children:"Access"})}),Object(N.jsx)(P.Badge,{className:"hover:bg-blue-200 cursor-pointer",type:"status",onClick:function(e){return function(e,t){e.preventDefault(),s(Object(Ne.f)(t)),o.push("/app/transitionsforproject-manager")}(e,t)},children:"View Workflow"}),Object(N.jsx)(P.Badge,{className:"hover:bg-green-200 cursor-pointer",type:"success",onClick:function(e){return T(e,t)},children:"Edit"}),Object(N.jsx)(P.Badge,{className:"hover:bg-red-200 cursor-pointer",type:"danger",onClick:function(){p(!0)},children:"Delete"}),Object(N.jsxs)(P.Modal,{isOpen:h,onClose:g,children:[Object(N.jsx)(P.ModalHeader,{children:"Delete Project"}),Object(N.jsx)(P.ModalBody,{children:"Are you sure DELETE this Project !"}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:g,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",onClick:function(e){return function(e,t){var a;f.map((function(e){e.Project==t&&(a=-5)})),-5==a?c("Must Delete All issue in this project!",{appearance:"error",autoDismiss:!0}):(p(!0),e.preventDefault(),s(Object(ye.c)(t)),c("Delete Success!",{appearance:"success",autoDismiss:!0}))}(e,t.ProjectKey)},children:Object(N.jsx)(P.Button,{children:"Accept"})}),Object(N.jsx)("div",{className:"block w-full sm:hidden",children:Object(N.jsx)(P.Button,{block:!0,size:"large",layout:"outline",onClick:g,children:"Cancel"})}),Object(N.jsx)("div",{className:"block w-full sm:hidden",children:Object(N.jsx)(P.Button,{block:!0,size:"large",children:"Accept"})})]})]})]})]},t.ProjectKey)]})};var gt=function(e){var t=e.modalDialog,c=Object(D.useToasts)().addToast,s=Object(d.b)(),a=(Object(i.c)(ye.e).projects,Object(I.a)()),n=a.register,l=a.handleSubmit,o=(Object(r.g)(),t.handleClose),j=JSON.parse(localStorage.getItem("ProjectAll")||"[]"),b=function(e){var t=0,a=0;j.map((function(c){c.ProjectKey==e.ProjectKey&&(t=-5),c.ProjectName==e.ProjectName&&(a=-5)})),-5==t?c("Key already exists, please choose another Key",{appearance:"error",autoDismiss:!0}):-5==a?c("Name already exists, please choose another Name",{appearance:"error",autoDismiss:!0}):(s(Object(ye.a)(e)),console.log(e),c("Create Workflow Success",{appearance:"success",autoDismiss:!0}),o())};return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(T,{title:"Details",modalDialog:t,handleSubmit:l(b),children:Object(N.jsxs)("form",{onSubmit:l(b),children:[Object(N.jsxs)(C,{dividers:!0,className:"mx-12",children:[Object(N.jsx)(S.a,{r:n,name:"ProjectName",label:"Name",required:!0}),Object(N.jsx)(S.a,{r:n,name:"ProjectKey",label:"Key",required:!0})]}),Object(N.jsxs)(k,{children:[Object(N.jsx)("div",{className:"hidden sm:block m-2",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:o,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block m-2",children:Object(N.jsx)(P.Button,{type:"submit",color:"primary",children:"Submit"})})]})]})})})},vt=function(){var e=JSON.parse(localStorage.getItem("WorkflowAll")||"[]"),t=Object(D.useToasts)().addToast,c=Object(d.b)(),s=Object(i.c)(ye.e),r=(s.updateWor,s.updateSuccess),o=s.projects,j=s.loading,b=s.hasErrors,u=Object(a.useState)(1),x=Object(l.a)(u,2),m=x[0],O=x[1],h=Object(a.useState)([]),p=Object(l.a)(h,2),f=p[0],g=p[1],v=o.length;Object(a.useEffect)((function(){c(Object(ye.d)())}),[c]),Object(a.useEffect)((function(){r&&(t("Success",{appearance:"success",autoDismiss:!0}),c(Object(ye.h)()))}),[r]),localStorage.setItem("ProjectAll",JSON.stringify(o)),Object(a.useEffect)((function(){g(o.slice(3*(m-1),3*m))}),[o,m]);var y=n.a.useState(""),w=Object(l.a)(y,2),C=w[0],k=w[1],T=n.a.useState([]),S=Object(l.a)(T,2),I=S[0],B=S[1],_=n.a.useState(""),F=Object(l.a)(_,2),M=F[0],E=F[1];Object(a.useEffect)((function(){var e=o.filter((function(e){return-1!=e.ProjectKey.toLowerCase().indexOf(C.toLowerCase())||-1!=e.ProjectName.toLowerCase().indexOf(C.toLowerCase())}));B(e)}),[C]),Object(a.useEffect)((function(){var e=o.filter((function(e){return e.WorkflowId==M}));B(e)}),[M]);var R=e.map((function(e){return Object(N.jsxs)("option",{value:e.WorkflowId,children:[e.WorkflowName,"(",e.WorkflowId,")"]},e.WorkflowId)})),A=n.a.useState(!1),L=Object(l.a)(A,2),U=L[0],W=L[1],K=function(){W(!0)},z={open:U,handleOpen:K,handleClose:function(){W(!1)}};return j?Object(N.jsx)("tr",{children:Object(N.jsx)("div",{className:"loader",children:"Loading..."})}):b?Object(N.jsx)("p",{children:"Unable to get Projects."}):Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsx)("div",{children:Object(N.jsx)("h2",{className:"text-2xl font-semibold leading-tight",children:"Projects"})}),Object(N.jsxs)("div",{className:"my-2 flex justify-between sm:flex-row flex-col",children:[Object(N.jsxs)("div",{className:"flex flex-row mb-1 sm:mb-0",children:[Object(N.jsx)("div",{className:"relative",children:Object(N.jsxs)(P.Select,{value:M,onChange:function(e){E(e.target.value)},className:"appearance-none h-full rounded-r border-t sm:rounded-r-none sm:border-r-0 border-r border-b block w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500",children:[Object(N.jsx)("option",{selected:!0}),Object(N.jsx)("option",{selected:!0,className:"h-4 w-4 fill-current text-blue-500",children:"All"}),Object(N.jsx)("option",{value:"0",className:"h-4 w-4 fill-current text-blue-500",children:"NULL"}),R]})}),Object(N.jsxs)("div",{className:"flex relative",children:[Object(N.jsx)("span",{className:"h-full absolute inset-y-0 right-2 flex items-center pl-2",children:Object(N.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 fill-current text-gray-500",children:Object(N.jsx)("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"})})}),Object(N.jsx)(P.Input,{placeholder:"Search for projects",className:"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-8 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none",value:C,onChange:function(e){k(e.target.value)}})]})]}),Object(N.jsxs)("div",{className:"flex",children:[Object(N.jsx)(gt,{modalDialog:z}),Object(N.jsx)(P.Button,{onClick:K,children:"Create Project"})]})]}),Object(N.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:Object(N.jsxs)("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:[Object(N.jsxs)("table",{className:"min-w-full leading-normal",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-green-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name Project"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-green-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Key"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-green-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"URL"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-green-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Project Lead"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-green-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Workflow"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-green-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Action"})]})}),Object(N.jsx)("tbody",{children:""==C&&"All"==M||""==C&&""==M?f.map((function(e){return Object(N.jsx)(ft,{project:e},e.ProjectKey)})):I.map((function(e){return Object(N.jsx)(ft,{project:e},e.ProjectKey)}))})]}),Object(N.jsx)(P.TableFooter,{children:Object(N.jsx)(P.Pagination,{totalResults:v,resultsPerPage:3,onChange:function(e){O(e)},label:"Table navigation"})})]})})]})})},Nt=[{path:"/user-manager",component:V,globalRole:"Admin"},{path:"/user-manager/create-user",component:J.a,globalRole:"Admin"},{path:"/permission-manager",component:$,globalRole:"Trusted"},{path:"/permission-manager/detail-permission",component:function(){var e=Object(i.c)(q.c).permissionUpdate,t=Object(D.useToasts)().addToast;e.Permission_Id&&localStorage.setItem("Permission",JSON.stringify(e));var c=JSON.parse(localStorage.getItem("Permission")||"[]"),s=Object(d.b)(),r=Object(i.c)(Y.e),o=r.permissionroles,j=(r.loading,r.hasErrors,r.updateMess),b=r.updateSuccess;Object(a.useEffect)((function(){s(Object(Y.d)(c.Permission_Id))}),[s]),Object(a.useEffect)((function(){b&&(t(j,{appearance:"success",autoDismiss:!0}),s(Object(Y.f)()))}),[b]);var u=n.a.useState(""),x=Object(l.a)(u,2),m=x[0],O=x[1],h=n.a.useState([]),p=Object(l.a)(h,2),f=p[0],g=p[1];Object(a.useEffect)((function(){var e=o.filter((function(e){return-1!=e.RoleName.toLowerCase().indexOf(m.toLowerCase())}));g(e)}),[m]);var v=n.a.useState(!1),y=Object(l.a)(v,2),w=y[0],C=y[1],k=function(e){e.preventDefault(),C(!0)},T={open:w,handleOpen:k,handleClose:function(){C(!1)},data_permission:c,fulldata:o};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ae,{modalDialog:T}),Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{className:"text-2xl font-semibold leading-tight",children:c.Permission_Name}),Object(N.jsx)("p",{className:" font-semibold leading-tight",children:c.Permission_Description})]}),Object(N.jsxs)("div",{className:"my-2 flex justify-between sm:flex-row flex-col",children:[Object(N.jsx)("div",{className:"flex flex-row mb-1 sm:mb-0",children:Object(N.jsxs)("div",{className:"flex relative",children:[Object(N.jsx)("span",{className:"h-full absolute inset-y-0 right-2 flex items-center pl-2",children:Object(N.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 fill-current text-gray-500",children:Object(N.jsx)("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"})})}),Object(N.jsx)("input",{placeholder:"Search",className:"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none",value:m,onChange:function(e){O(e.target.value)}})]})}),Object(N.jsx)("div",{className:"flex",children:Object(N.jsx)("a",{onClick:function(e){return k(e)},children:Object(N.jsx)(P.Button,{children:"Add role"})})})]}),Object(N.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:Object(N.jsx)("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:Object(N.jsx)(P.TableContainer,{className:"mb-8",children:Object(N.jsxs)(P.Table,{className:"min-w-full leading-normal",children:[Object(N.jsx)(P.TableHeader,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(P.TableCell,{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role Name"}),Object(N.jsx)(P.TableCell,{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Action"})]})}),Object(N.jsx)(P.TableBody,{children:""==m?o.map((function(e){return Object(N.jsx)(ee,{permission_role:e},e.RoleId)})):f.map((function(e){return Object(N.jsx)(ee,{permission_role:e},e.RoleId)}))})]})})})})]})})]})},globalRole:"Trusted"},{path:"/role-manager",component:le,globalRole:"Trusted"},{path:"/role-manager/create-role",component:function(){var e=Object(I.a)(),t=e.register,c=e.handleSubmit,s=Object(r.g)();return Object(N.jsx)("div",{className:"w-full h-full pt-16",children:Object(N.jsxs)("div",{className:"max-w-xl px-8 py-8 border-0 shadow-lg rounded-xl h-auto bg-white mx-auto",children:[Object(N.jsx)("h1",{className:"text-2xl font-bold pb-8",children:"Create Project Role"}),Object(N.jsx)("hr",{className:"mb-5"}),Object(N.jsx)("div",{className:"px-6",children:Object(N.jsxs)("form",{onSubmit:c((function(e){console.log(e),ie.a.createRole(e).then((function(){alert("Create Role Success"),s.goBack()})).catch((function(e){return alert(e)}))})),children:[Object(N.jsx)(S.a,{r:t,name:"rolename",label:"Role Name",required:!0,placeholder:"Admin"}),Object(N.jsx)(S.a,{r:t,name:"roledescription",label:"Description",placeholder:"Type ..."}),Object(N.jsx)("div",{className:"w-full mt-10 mb-5 px-10",children:Object(N.jsx)("input",{type:"submit",value:"Create Role",className:"bg-purple-600 rounded-md py-2 \r text-white text-xl w-full"})})]})})]})})},globalRole:"Trusted"},{path:"/projects",component:vt,globalRole:"Member"},{path:"/project-user/:keyProject-:nameProject",component:function(){var e=Object(D.useToasts)().addToast,t=window.location.pathname.split(/[/,-]/),c=t[t.length-2],s=t[t.length-1],n=Object(d.b)(),r=Object(i.c)(oe.e),o=r.updateMess,j=r.updateSuccess,b=r.projectUserRoles;r.loading,r.hasErrors,Object(a.useEffect)((function(){n(Object(oe.d)(c))}),[n]),Object(a.useEffect)((function(){j&&(e(o,{appearance:"success",autoDismiss:!0}),n(Object(oe.f)()))}),[j]);var u=Object(a.useState)(!1),x=Object(l.a)(u,2),m=x[0],O=x[1],h=function(e){e.preventDefault(),O(!0)},p={open:m,handleOpen:h,handleClose:function(){O(!1)},projectkey:c,listUser:b};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(me,{modalDialog:p}),Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{className:"text-3xl font-semibold leading-tight",children:"Access Project"}),Object(N.jsx)("h2",{className:"text-2xl font-semibold leading-tight",children:s})]}),Object(N.jsxs)("div",{className:"my-2 flex justify-between sm:flex-row flex-col",children:[Object(N.jsx)("div",{className:"flex flex-row mb-1 sm:mb-0"}),Object(N.jsx)("div",{className:"flex",children:Object(N.jsx)("a",{onClick:function(e){return h(e)},children:Object(N.jsx)(P.Button,{children:"Add User"})})})]}),Object(N.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:Object(N.jsx)("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:Object(N.jsx)(P.TableContainer,{className:"mb-8",children:Object(N.jsxs)(P.Table,{className:"min-w-full leading-normal",children:[Object(N.jsx)(P.TableHeader,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(P.TableCell,{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),Object(N.jsx)(P.TableCell,{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),Object(N.jsx)(P.TableCell,{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),Object(N.jsx)(P.TableCell,{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Action"})]})}),Object(N.jsx)(P.TableBody,{children:b.map((function(e){return Object(N.jsx)(ue,{dataItem:e,projectkey:c},e.UserId)}))})]})})})})]})})]})},globalRole:"Member"},{path:"/transitionsforproject-manager",component:ke,globalRole:"Member"},{path:"/workflows-manager/transitions-manager/create-transitions",component:function(e){var t=Object(D.useToasts)().addToast,c=Object(d.b)(),n=Object(i.c)(Ie.f),l=(n.updateMess,n.updateSuccess,n.statuss);n.loading,n.hasErrors,Object(a.useEffect)((function(){c(Object(Ie.c)())}),[c]),console.log(l),e.fulldata;var o=JSON.parse(localStorage.getItem("Status")||"[]"),j=JSON.parse(localStorage.getItem("Workflow")||"[]"),b=JSON.parse(localStorage.getItem("TransitionAll")||"[]");console.log(o);var u=Object(I.a)(),x=u.register,m=u.handleSubmit,O=Object(r.g)(),h=l.map((function(e){return Object(N.jsx)("option",{value:e.StatusId,children:e.StatusName},e.Status1Id)}));console.log(h);var p=l.filter((function(e){return!l.some((function(t){return e.Status1Id===t.StatusId}))}));console.log(p);var f=p.map((function(e){return Object(N.jsx)("option",{value:e.StatusId,children:e.StatusName},e.Status2Id)}));return Object(N.jsx)("div",{className:"w-full h-full pt-16",children:Object(N.jsxs)("div",{className:"max-w-xl px-8 py-8 border-0 shadow-lg rounded-xl h-auto bg-white mx-auto",children:[Object(N.jsx)("h1",{className:"text-2xl font-bold pb-8",children:"Create Transition"}),Object(N.jsx)("hr",{className:"mb-5"}),Object(N.jsx)("div",{className:"px-6",children:Object(N.jsxs)("form",{onSubmit:m((function(e){if(console.log(e),e.Status1Id==e.Status2Id)t("STATUS1 must be different from STATUS2",{appearance:"error",autoDismiss:!0});else{var c=0;if(b.map((function(t){t.Status1Id==e.Status1Id&&t.Status2Id==e.Status2Id&&(c=-5)})),-5!=c){var s,a;l.map((function(t){console.log(t),t.StatusId==e.Status1Id&&(s=t.StatusName)})),l.map((function(t){console.log(t),t.StatusId==e.Status2Id&&(a=t.StatusName)})),console.log(s),console.log("kkkkk");var n={Status1Id:e.Status1Id,Status2Id:e.Status2Id,Status1Name:s,Status2Name:a,TransitionName:e.TransitionName,WorkflowId:e.WorkflowId};console.log(n),ge.a.createTransition(n).then((function(){t("Create Transition Success",{appearance:"success",autoDismiss:!0}),O.goBack()})).catch((function(e){return alert(e)}))}else t("Transition is existed",{appearance:"error",autoDismiss:!0})}})),children:[Object(N.jsx)(S.a,{r:x,name:"WorkflowId",label:"Workflow ID",required:!0,value:j.WorkflowId}),Object(N.jsx)(S.a,{r:x,name:"TransitionName",label:"Transition Name",required:!0}),"Status 1           :",Object(N.jsx)(P.Select,Object(s.a)(Object(s.a)({className:"py-2 px-3 rounded-md border border-white-500 mt-2 focus:outline-none focus:ring-1 focus:ring-green-700 focus:border-transparent"},x("Status1Id")),{},{children:h})),"Status 2            :",Object(N.jsx)(P.Select,Object(s.a)(Object(s.a)({className:"py-2 px-3 rounded-md border border-white-500 mt-2 focus:outline-none focus:ring-1 focus:ring-green-700 focus:border-transparent"},x("Status2Id")),{},{children:f})),Object(N.jsx)("div",{className:"w-full mt-10 mb-5 px-10",children:Object(N.jsx)(P.Button,{layout:"outline",size:"large",type:"submit",className:"rounded-md py-2 \r text-white text-xl w-full ",children:"Create Transition"})})]})})]})})},globalRole:"Trusted"},{path:"/issues",component:function(){var e=Object(i.b)(),t=Object(i.c)(Te.h),c=Object(i.c)((function(e){return e.issues.status})),s=Object(a.useState)(!1),n=Object(l.a)(s,2),r=n[0],j=n[1],d=Object(a.useState)(),b=Object(l.a)(d,2),u=b[0],x=b[1],m=Object(i.c)((function(e){return e.issues.error})),O=Object(i.c)(ye.f),h=Object(i.c)((function(e){return e.projects.loading})),p=O.map((function(e){return Object(N.jsx)("option",{value:e.ProjectKey,children:e.ProjectName},e.ProjectKey)})),f=Object(a.useState)(""),g=Object(l.a)(f,2),v=g[0],y=g[1],w=Object(i.c)(Se.e),C=Object(i.c)((function(e){return e.issueTypes.status})),k=w.map((function(e){return Object(N.jsx)("option",{value:e.Name,children:e.Name},e.Id)})),T=Object(a.useState)(""),S=Object(l.a)(T,2),I=S[0],D=S[1],B=Object(i.c)((function(e){return e.statuss.statuss})),_=Object(i.c)((function(e){return e.statuss.loading})),F=B.map((function(e){return Object(N.jsx)("option",{value:e.StatusName,children:e.StatusName},e.StatusId)})),M=Object(a.useState)(""),E=Object(l.a)(M,2),R=E[0],A=E[1],L=Object(i.c)((function(e){return e.users.users})),U=Object(i.c)((function(e){return e.users.loading})),W=L.map((function(e){return Object(N.jsx)("option",{value:e.User_Full_Name,children:e.User_Full_Name},e.User_Id)})),K=Object(a.useState)(""),z=Object(l.a)(K,2),H=z[0],V=z[1],J=Object(a.useState)(""),q=Object(l.a)(J,2),Y=q[0],G=q[1],Q=Object(a.useState)(""),X=Object(l.a)(Q,2),Z=X[0],$=X[1];localStorage.setItem("IssuesAll",JSON.stringify(t));var ee,te=Object(a.useState)(1),ce=Object(l.a)(te,2),se=ce[0],ae=ce[1],ne=Object(a.useState)([]),re=Object(l.a)(ne,2),le=re[0],ie=re[1],oe=Object(a.useState)(t.length),je=Object(l.a)(oe,2),de=je[0],be=je[1];function ue(e){j(!0),x(e)}function xe(){j(!1)}if(Object(a.useEffect)((function(){"idle"===c&&e(Object(Te.e)()),"idle"===C&&e(Object(Se.d)()),0===B.length&&e(Object(Ie.c)()),0===L.length&&e(Object(o.c)())}),[c,C,e]),Object(a.useEffect)((function(){0===O.length&&!1===h&&e(Object(ye.d)());var c=t;if(v&&(c=c.filter((function(e){return e.Project===v}))),I&&(c=c.filter((function(e){return e.Issue_Type_Name===I}))),R&&(c=c.filter((function(e){return e.Status===R}))),H&&(c=c.filter((function(e){var t,c;return(null===(t=e.Fields)||void 0===t||null===(c=t.find((function(e){return"Assignee"===e.Name})))||void 0===c?void 0:c.Value)===H}))),Y){var s=new Date(Y);c=c.filter((function(e){var t,c,a=new Date(null===(t=e.Fields)||void 0===t||null===(c=t.find((function(e){return"Due Date"===e.Name})))||void 0===c?void 0:c.Value);return!!a&&a>=s}))}if(Z){var a=new Date(Z);c=c.filter((function(e){var t,c,s=new Date(null===(t=e.Fields)||void 0===t||null===(c=t.find((function(e){return"Due Date"===e.Name})))||void 0===c?void 0:c.Value);return!!s&&s<=a}))}be(c.length),ie(c.slice(10*(se-1),10*se))}),[t,se,v,I,R,H,Y,Z]),"loading"===c||!0===h||"loading"===C||!0===_||!0===U)ee=Object(N.jsx)("div",{className:"loader",children:"Loading..."});else if("succeeded"===c&&!1===h&&"succeeded"===C&&!1===_&&!1===U){var me=le.map((function(e){return Object(N.jsx)(Be,{issue:e,openModal:ue},e.Id)}));ee=Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsxs)("div",{className:"mb-5 my-2 flex justify-between sm:flex-row flex-col",children:[Object(N.jsx)("h2",{className:"text-2xl font-semibold leading-tight",children:"Issues"}),Object(N.jsxs)("div",{className:"flex justify-between sm:flex-row flex-col",children:[Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{className:"text-1xl font-semibold leading-tight",children:"Project:"}),Object(N.jsxs)(P.Select,{className:"mt-1",value:v,onChange:function(e){return y(e.target.value)},children:[Object(N.jsx)("option",{value:""}),p]})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{className:"text-1xl font-semibold leading-tight",children:"Issue type:"}),Object(N.jsxs)(P.Select,{className:"mt-1",value:I,onChange:function(e){return D(e.target.value)},children:[Object(N.jsx)("option",{value:""}),k]})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{className:"text-1xl font-semibold leading-tight",children:"Status:"}),Object(N.jsxs)(P.Select,{className:"mt-1",value:R,onChange:function(e){return A(e.target.value)},children:[Object(N.jsx)("option",{value:""}),F]})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{className:"text-1xl font-semibold leading-tight",children:"Assignee:"}),Object(N.jsxs)(P.Select,{className:"mt-1",value:H,onChange:function(e){return V(e.target.value)},children:[Object(N.jsx)("option",{value:""}),W]})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{className:"text-1xl font-semibold leading-tight",children:"From date:"}),Object(N.jsx)(P.Input,{type:"date",className:"mt-1",value:Y,onChange:function(e){return G(e.target.value)}})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{className:"text-1xl font-semibold leading-tight",children:"To date:"}),Object(N.jsx)(P.Input,{type:"date",className:"mt-1",value:Z,onChange:function(e){return $(e.target.value)}})]})]})]}),Object(N.jsxs)(P.TableContainer,{children:[Object(N.jsxs)(P.Table,{children:[Object(N.jsx)(P.TableHeader,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(P.TableCell,{children:"Name"}),Object(N.jsx)(P.TableCell,{children:"Project"}),Object(N.jsx)(P.TableCell,{children:"Issue type"}),Object(N.jsx)(P.TableCell,{children:"Status"}),Object(N.jsx)(P.TableCell,{children:"Assignee"}),Object(N.jsx)(P.TableCell,{children:"Due Date"}),Object(N.jsx)(P.TableCell,{children:"Action"})]})}),Object(N.jsx)(P.TableBody,{children:me})]}),Object(N.jsx)(P.TableFooter,{children:Object(N.jsx)(P.Pagination,{totalResults:de,resultsPerPage:10,label:"Table navigation",onChange:function(e){ae(e)}})})]}),Object(N.jsxs)(P.Modal,{isOpen:r,onClose:xe,children:[Object(N.jsx)(P.ModalHeader,{children:"Delete ?"}),Object(N.jsx)(P.ModalBody,{children:"You're about to permanently this and all of its data. If you're not sure, you can close this instead."}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:xe,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{onClick:function(t){return function(t,c){t.preventDefault(),e(Object(Te.c)({Id:c})),xe()}(t,u)},children:"Accept"})})]})]})]})})}else"failed"===c&&(ee=Object(N.jsx)("div",{children:m}));return Object(N.jsx)("section",{className:"issues-list",children:ee})},globalRole:"Member"},{path:"/IssuesByProject/:project",component:function(e){var t=e.match.params.project,c=Object(i.b)(),s=Object(i.c)(Te.h),n=Object(i.c)((function(e){return e.issues.status})),r=Object(i.c)((function(e){return e.issues.error})),o=Object(a.useState)(!1),j=Object(l.a)(o,2),d=j[0],b=j[1],u=Object(a.useState)(),x=Object(l.a)(u,2),m=x[0],O=x[1],h=Object(a.useState)(1),p=Object(l.a)(h,2),f=p[0],g=p[1],v=Object(a.useState)([]),y=Object(l.a)(v,2),w=y[0],C=y[1];Object(a.useEffect)((function(){"idle"===n&&c(Object(Te.e)())}),[n,c]);var k,T=s.filter((function(e){return e.Project===t})),S=T.length;function I(e){b(!0),O(e)}function D(){b(!1)}if(Object(a.useEffect)((function(){C(T.slice(10*(f-1),10*f))}),[s,f]),"loading"===n)k=Object(N.jsx)("div",{className:"loader",children:"Loading..."});else if("succeeded"===n){var B=w.map((function(e){return Object(N.jsx)(_e,{issue:e,openModal:I},e.Id)}));k=Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsx)("div",{className:"mb-5 my-2 flex justify-between sm:flex-row flex-col",children:Object(N.jsx)("h2",{className:"text-2xl font-semibold leading-tight",children:"Issues"})}),Object(N.jsxs)(P.TableContainer,{children:[Object(N.jsxs)(P.Table,{children:[Object(N.jsx)(P.TableHeader,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(P.TableCell,{children:"Name"}),Object(N.jsx)(P.TableCell,{children:"Project"}),Object(N.jsx)(P.TableCell,{children:"Issue type"}),Object(N.jsx)(P.TableCell,{children:"Status"}),Object(N.jsx)(P.TableCell,{children:"Assignee"}),Object(N.jsx)(P.TableCell,{children:"Due Date"}),Object(N.jsx)(P.TableCell,{children:"Action"})]})}),Object(N.jsx)(P.TableBody,{children:B})]}),Object(N.jsx)(P.TableFooter,{children:Object(N.jsx)(P.Pagination,{totalResults:S,resultsPerPage:10,label:"Table navigation",onChange:function(e){g(e)}})})]}),Object(N.jsxs)(P.Modal,{isOpen:d,onClose:D,children:[Object(N.jsx)(P.ModalHeader,{children:"Delete ?"}),Object(N.jsx)(P.ModalBody,{children:"You're about to permanently this and all of its data. If you're not sure, you can close this instead."}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:D,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{onClick:function(e){return function(e,t){e.preventDefault(),c(Object(Te.c)({Id:t})),D()}(e,m)},children:"Accept"})})]})]})]})})}else"failed"===n&&(k=Object(N.jsx)("div",{children:r}));return Object(N.jsx)("section",{className:"issues-list",children:k})},globalRole:"Member"},{path:"/Screens",component:function(){var e,t=Object(D.useToasts)().addToast,c=Object(i.b)(),n=Object(i.c)(Fe.e),r=Object(i.c)(Me.c),o=Object(i.c)(Ee.e),j=Object(i.c)((function(e){return e.screens.status})),d=Object(i.c)((function(e){return e.customFields.status})),b=Object(i.c)((function(e){return e.screenCustomFields.status})),u=Object(i.c)((function(e){return e.screens.error})),x=Object(i.c)((function(e){return e.screens.success})),m=Object(a.useState)(!1),O=Object(l.a)(m,2),h=O[0],p=O[1],f=Object(a.useState)(),g=Object(l.a)(f,2),v=g[0],y=g[1],w=(Object(i.c)((function(e){return e.screenCustomFields.error})),Object(i.c)((function(e){return e.customFields.error}))),C=Object(a.useState)(1),k=Object(l.a)(C,2),T=k[0],S=k[1],I=Object(a.useState)([]),B=Object(l.a)(I,2),_=B[0],F=B[1],M=n.length;function E(e){p(!0),y(e)}function R(){p(!1)}if(Object(a.useEffect)((function(){"idle"===j&&c(Object(Fe.d)()),"idle"===b&&c(Object(Me.b)()),"idle"===d&&c(Object(Ee.d)()),u&&(t(u,{appearance:"error",autoDismiss:!0}),c(Object(Fe.f)({error:null}))),x&&(t(x,{appearance:"success",autoDismiss:!0}),c(Object(Fe.g)({success:null})))}),[j,b,d,c,u,x]),Object(a.useEffect)((function(){F(n.slice(2*(T-1),2*T))}),[n,T]),"loading"===j||"loading"===b||"loading"===d)e=Object(N.jsx)("div",{className:"loader",children:"Loading..."});else if("succeeded"===j&&"succeeded"===b&&"succeeded"===d){var A=_.map((function(e){var t=r.filter((function(t){return(null===t||void 0===t?void 0:t.Screen)==e.Id})),c=o.filter((function(e){return t.some((function(t){return e.Id===t.Custom_Field}))})),a=[];return c.forEach((function(e){t.forEach((function(t){e.Id===t.Custom_Field&&a.push(Object(s.a)(Object(s.a)({},e),{},{Id:t.Id}))}))})),Object(N.jsx)(Le,{screen:e,listCustomFields:a,openModal:E},e.Id)}));e=Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsxs)("div",{className:"mb-5 my-2 flex justify-between sm:flex-row flex-col",children:[Object(N.jsx)("h2",{className:"text-2xl font-semibold leading-tight",children:"Screens"}),Object(N.jsx)(Re,{})]}),Object(N.jsxs)(P.TableContainer,{children:[Object(N.jsxs)(P.Table,{children:[Object(N.jsx)(P.TableHeader,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(P.TableCell,{children:"Name"}),Object(N.jsx)(P.TableCell,{children:"Description"}),Object(N.jsx)(P.TableCell,{children:"Custom fields"}),Object(N.jsx)(P.TableCell,{children:"Action"})]})}),Object(N.jsx)(P.TableBody,{children:A})]}),Object(N.jsx)(P.TableFooter,{children:Object(N.jsx)(P.Pagination,{totalResults:M,resultsPerPage:2,label:"Table navigation",onChange:function(e){S(e)}})})]}),Object(N.jsxs)(P.Modal,{isOpen:h,onClose:R,children:[Object(N.jsx)(P.ModalHeader,{children:"Delete ?"}),Object(N.jsx)(P.ModalBody,{children:"You're about to permanently this and all of its data. If you're not sure, you can close this instead."}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:R,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{onClick:function(e){return function(e,t){e.preventDefault(),c(Object(Fe.c)({Id:t})),R()}(e,v)},children:"Accept"})})]})]})]})})}else"failed"!==j&&"failed"!==b&&"failed"!==d||(e=Object(N.jsx)("div",{children:w}));return Object(N.jsx)("section",{className:"screens-list",children:e})},globalRole:"Trusted"},{path:"/customFields",component:function(){var e,t=Object(D.useToasts)().addToast,c=Object(i.b)(),s=Object(i.c)(Ee.e),n=Object(i.c)((function(e){return e.customFields.status})),r=Object(i.c)((function(e){return e.customFields.error})),o=Object(i.c)((function(e){return e.customFields.success})),j=Object(a.useState)(!1),d=Object(l.a)(j,2),b=d[0],u=d[1],x=Object(a.useState)(),m=Object(l.a)(x,2),O=m[0],h=m[1],p=Object(a.useState)(1),f=Object(l.a)(p,2),g=f[0],v=f[1],y=Object(a.useState)([]),w=Object(l.a)(y,2),C=w[0],k=w[1],T=s.length;function S(e){u(!0),h(e)}function I(){u(!1)}if(Object(a.useEffect)((function(){"idle"===n&&c(Object(Ee.d)()),r&&(t(r,{appearance:"error",autoDismiss:!0}),c(Object(Ee.f)({error:null}))),o&&(t(o,{appearance:"success",autoDismiss:!0}),c(Object(Ee.g)({success:null})))}),[n,c,r,o]),Object(a.useEffect)((function(){k(s.slice(10*(g-1),10*g))}),[s,g]),"loading"===n)e=Object(N.jsx)("div",{className:"loader",children:"Loading..."});else if("succeeded"===n){console.log(C,"hehe2");var B=C.map((function(e){return Object(N.jsx)(Ye,{customField:e,openModal:S},e.Id)}));e=Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsxs)("div",{className:"mb-5 my-2 flex justify-between sm:flex-row flex-col",children:[Object(N.jsx)("h2",{className:"text-2xl font-semibold leading-tight",children:"Custom fields"}),Object(N.jsx)(Ve,{})]}),Object(N.jsxs)(P.TableContainer,{children:[Object(N.jsxs)(P.Table,{children:[Object(N.jsx)(P.TableHeader,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(P.TableCell,{children:"Name"}),Object(N.jsx)(P.TableCell,{children:"Field type"}),Object(N.jsx)(P.TableCell,{children:"Description"}),Object(N.jsx)(P.TableCell,{children:"Action"})]})}),Object(N.jsx)(P.TableBody,{children:B})]}),Object(N.jsx)(P.TableFooter,{children:Object(N.jsx)(P.Pagination,{totalResults:T,resultsPerPage:10,label:"Table navigation",onChange:function(e){v(e)}})})]}),Object(N.jsxs)(P.Modal,{isOpen:b,onClose:I,children:[Object(N.jsx)(P.ModalHeader,{children:"Delete ?"}),Object(N.jsx)(P.ModalBody,{children:"You're about to permanently this and all of its data. If you're not sure, you can close this instead."}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:I,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{onClick:function(e){return function(e,t){e.preventDefault(),c(Object(Ee.c)({Id:t})),I()}(e,O)},children:"Accept"})})]})]})]})})})}else"failed"===n&&(e=Object(N.jsx)("div",{children:r}));return Object(N.jsx)("section",{className:"customFields-list",children:e})},globalRole:"Trusted"},{path:"/issueTypes",component:function(){var e,t=Object(D.useToasts)().addToast,c=Object(i.b)(),n=Object(i.c)(Se.e),r=Object(i.c)(Ge.e),o=Object(i.c)(Fe.e),j=Object(i.c)(ye.f),d=Object(i.c)((function(e){return e.issueTypes.status})),b=Object(i.c)((function(e){return e.projectIssueTypeScreens.status})),u=Object(i.c)((function(e){return e.screens.status})),x=Object(i.c)((function(e){return e.projects.loading})),m=Object(i.c)((function(e){return e.issueTypes.error})),O=Object(i.c)((function(e){return e.issueTypes.success})),h=Object(a.useState)(!1),p=Object(l.a)(h,2),f=p[0],g=p[1],v=Object(a.useState)(),y=Object(l.a)(v,2),w=y[0],C=y[1],k=(Object(i.c)((function(e){return e.projectIssueTypeScreens.error})),Object(i.c)((function(e){return e.screens.error})),Object(a.useState)(1)),T=Object(l.a)(k,2),S=T[0],I=T[1],B=Object(a.useState)([]),_=Object(l.a)(B,2),F=_[0],M=_[1],E=n.length;function R(e){g(!0),C(e)}function A(){g(!1)}if(Object(a.useEffect)((function(){"idle"===d&&c(Object(Se.d)()),"idle"===b&&c(Object(Ge.d)()),"idle"===u&&c(Object(Fe.d)()),0===j.length&&!1===x&&c(Object(ye.d)()),m&&(t(m,{appearance:"error",autoDismiss:!0}),c(Object(Se.f)({error:null}))),O&&(t(O,{appearance:"success",autoDismiss:!0}),c(Object(Se.g)({success:null})))}),[d,b,u,c,m,O]),Object(a.useEffect)((function(){M(n.slice(10*(S-1),10*S))}),[n,S]),"loading"===d||"loading"===b||"loading"===u||!0===x)e=Object(N.jsx)("div",{className:"loader",children:"Loading..."});else if("succeeded"===d&&"succeeded"===b&&"succeeded"===u&&!1===x){var L=[];r.forEach((function(e){o.forEach((function(t){e.Screen===t.Id&&L.push(Object(s.a)(Object(s.a)({},e),{},{ScreenName:t.Name}))}))})),L.forEach((function(e){j.forEach((function(t){e.Project===t.ProjectKey&&(e.ProjectName=t.ProjectName)}))}));var U=F.map((function(e){var t=L.filter((function(t){return t.Issue_Type===e.Id}));return Object(N.jsx)(Ze,{issueType:e,projectIssueTypeScreensHaveName:t,openModal:R},e.Id)}));e=Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsxs)("div",{className:"mb-5 my-2 flex justify-between sm:flex-row flex-col",children:[Object(N.jsx)("h2",{className:"text-2xl font-semibold leading-tight",children:"Issue types"}),Object(N.jsx)(Qe,{})]}),Object(N.jsxs)(P.TableContainer,{children:[Object(N.jsxs)(P.Table,{children:[Object(N.jsx)(P.TableHeader,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(P.TableCell,{children:"Name"}),Object(N.jsx)(P.TableCell,{children:"Icon"}),Object(N.jsx)(P.TableCell,{children:"Description"}),Object(N.jsx)(P.TableCell,{children:"Action"})]})}),Object(N.jsx)(P.TableBody,{children:U})]}),Object(N.jsx)(P.TableFooter,{children:Object(N.jsx)(P.Pagination,{totalResults:E,resultsPerPage:10,label:"Table navigation",onChange:function(e){I(e)}})})]}),Object(N.jsxs)(P.Modal,{isOpen:f,onClose:A,children:[Object(N.jsx)(P.ModalHeader,{children:"Delete ?"}),Object(N.jsx)(P.ModalBody,{children:"You're about to permanently this and all of its data. If you're not sure, you can close this instead."}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:A,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{onClick:function(e){return function(e,t){e.preventDefault(),c(Object(Se.c)({Id:t})),A()}(e,w)},children:"Accept"})})]})]})]})})}else"failed"===d&&(e=Object(N.jsx)("div",{children:m}));return Object(N.jsx)("section",{className:"issueTypes-list",children:e})},globalRole:"Trusted"},{path:"/issueTypes/projectIssueTypeScreens/:issueTypeId",component:function(){var e,t,c=Object(D.useToasts)().addToast,n=Object(r.h)(),o=null===(e=n.state)||void 0===e?void 0:e.issueType,j=Object(a.useState)(null===(t=n.state)||void 0===t?void 0:t.projectIssueTypeScreensHaveName),d=Object(l.a)(j,2),b=d[0],u=d[1],x=Object(i.b)(),m=Object(i.c)(Fe.e),O=Object(i.c)(ye.f),h=O.filter((function(e){return!b.some((function(t){return e.ProjectKey===t.Project}))})),p=m.map((function(e){return Object(N.jsx)("option",{value:e.Id,children:e.Name},e.Id)})),f=h.map((function(e){return Object(N.jsx)("option",{value:e.ProjectKey,children:e.ProjectName},e.ProjectKey)})),g=Object(a.useState)(""),v=Object(l.a)(g,2),y=v[0],w=v[1],C=Object(a.useState)(""),k=Object(l.a)(C,2),T=k[0],S=k[1],I=Object(a.useState)("idle"),B=Object(l.a)(I,2),_=B[0],F=B[1],M=[y,T].every(Boolean)&&"idle"===_,E=function(){var e=Object(pe.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M){e.next=16;break}return e.prev=1,F("pending"),w(""),S(""),e.next=7,x(Object(Ge.a)({Project:T,Issue_Type:o.Id,Screen:Number(y)})).then((function(e){var t=[e.payload.Data],c=[];t.forEach((function(e){m.forEach((function(t){e.Screen===t.Id&&c.push(Object(s.a)(Object(s.a)({},e),{},{ScreenName:t.Name}))}))})),c.forEach((function(e){O.forEach((function(t){e.Project===t.ProjectKey&&(e.ProjectName=t.ProjectName)}))})),u((function(e){return[].concat(Object(rt.a)(e),c)}))}));case 7:e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Failed to save the customField: ",e.t0);case 13:return e.prev=13,F("idle"),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),R=Object(i.c)((function(e){return e.projectIssueTypeScreens.status})),A=Object(i.c)((function(e){return e.projectIssueTypeScreens.error})),L=Object(i.c)((function(e){return e.projectIssueTypeScreens.success})),U=Object(a.useState)(!1),W=Object(l.a)(U,2),K=W[0],z=W[1],H=Object(a.useState)(),V=Object(l.a)(H,2),J=V[0],q=V[1],Y=Object(a.useState)(1),G=Object(l.a)(Y,2),Q=G[0],X=G[1],Z=Object(a.useState)([]),$=Object(l.a)(Z,2),ee=$[0],te=$[1],ce=b.length;function se(e){z(!0),q(e)}function ae(){z(!1)}Object(a.useEffect)((function(){A&&(c(A,{appearance:"error",autoDismiss:!0}),x(Object(Ge.f)({error:null}))),L&&(c(L,{appearance:"success",autoDismiss:!0}),x(Object(Ge.g)({success:null})))}),[R,x,A,L]),Object(a.useEffect)((function(){te(b.slice(10*(Q-1),10*Q))}),[Q,b]);var ne,re=function(e){var t=b.filter((function(t){return t.Id!==e}));u(t)},le=null===ee||void 0===ee?void 0:ee.map((function(e){return Object(N.jsx)(lt,{projectIssueTypeScreen:e,openModal:se},e.Id)}));return ne=Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsxs)("div",{className:"mb-5 my-2 flex justify-between sm:flex-row flex-col",children:[Object(N.jsx)("h2",{className:"text-2xl font-semibold leading-tight",children:"Issue type: ".concat(o.Name)}),Object(N.jsxs)("div",{className:"flex justify-between sm:flex-row flex-col",children:[Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{className:"text-1xl font-semibold leading-tight",children:"Choose a screen:"}),Object(N.jsxs)(P.Select,{className:"mt-1",value:y,onChange:function(e){return w(e.target.value)},children:[Object(N.jsx)("option",{value:""}),p]})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{className:"text-1xl font-semibold leading-tight",children:"Choose a project:"}),Object(N.jsxs)(P.Select,{className:"mt-1",value:T,onChange:function(e){return S(e.target.value)},children:[Object(N.jsx)("option",{value:""}),f]})]}),Object(N.jsx)(P.Label,{className:"m-2",children:Object(N.jsx)(P.Button,{className:"mt-6",onClick:E,disabled:!M,children:"Save"})})]})]}),Object(N.jsxs)(P.TableContainer,{children:[Object(N.jsxs)(P.Table,{children:[Object(N.jsx)(P.TableHeader,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(P.TableCell,{children:"Project"}),Object(N.jsx)(P.TableCell,{children:"Screen"}),Object(N.jsx)(P.TableCell,{children:"Action"})]})}),Object(N.jsx)(P.TableBody,{children:le})]}),Object(N.jsx)(P.TableFooter,{children:Object(N.jsx)(P.Pagination,{totalResults:ce,resultsPerPage:10,label:"Table navigation",onChange:function(e){X(e)}})})]}),Object(N.jsxs)(P.Modal,{isOpen:K,onClose:ae,children:[Object(N.jsx)(P.ModalHeader,{children:"Delete ?"}),Object(N.jsx)(P.ModalBody,{children:"You're about to permanently this and all of its data. If you're not sure, you can close this instead."}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:ae,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{onClick:function(e){return function(e,t){e.preventDefault(),x(Object(Ge.c)({Id:t})).then((function(e){return re(e.payload.Data.Id)})),ae()}(e,J)},children:"Accept"})})]})]})]})}),Object(N.jsx)("section",{className:"projectIssueTypeScreens-list",children:ne})},globalRole:"Member"},{path:"/status-manager",component:ct,globalRole:"Trusted"},{path:"/status-manager/create-status",component:function(){var e=Object(D.useToasts)().addToast,t=Object(I.a)(),c=t.register,s=t.handleSubmit,a=Object(r.g)();return Object(N.jsx)("div",{className:"w-full h-full pt-16",children:Object(N.jsxs)("div",{className:"max-w-xl px-8 py-8 border-0 shadow-lg rounded-xl h-auto bg-white mx-auto",children:[Object(N.jsx)("h1",{className:"text-2xl font-bold pb-8",children:"Create Project Status"}),Object(N.jsx)("hr",{className:"mb-5"}),Object(N.jsx)("div",{className:"px-6",children:Object(N.jsxs)("form",{onSubmit:s((function(t){console.log(t),it.a.createStatus(t).then((function(){e("Create Status Success",{appearance:"success",autoDismiss:!0}),a.goBack()})).catch((function(t){return e("The Name Stastus is Existed",{appearance:"error",autoDismiss:!0})}))})),children:[Object(N.jsx)(S.a,{r:c,name:"StatusName",label:"Status Name",required:!0}),Object(N.jsx)(S.a,{r:c,name:"StatusDescription",label:"Description"}),Object(N.jsx)("div",{className:"w-full mt-10 mb-10 px-10",children:Object(N.jsx)(P.Button,{layout:"outline",size:"large",type:"submit",className:"rounded-md py-2 \r text-white text-xl w-full ",children:"Create Status"})})]})})]})})},globalRole:"Trusted"},{path:"/workflows-manager",component:ze,globalRole:"Trusted"},{path:"/workflows-manager/add-workflows",component:function(){var e=Object(D.useToasts)().addToast,t=Object(I.a)(),c=t.register,s=t.handleSubmit,a=Object(r.g)();return Object(N.jsx)("div",{className:"w-full h-full pt-16",children:Object(N.jsxs)("div",{className:"max-w-xl px-8 py-8 border-0 shadow-lg rounded-xl h-auto bg-white mx-auto",children:[Object(N.jsx)("h1",{className:"text-2xl font-bold pb-8",children:"Create Workflow"}),Object(N.jsx)("hr",{className:"mb-5"}),Object(N.jsx)("div",{className:"px-6",children:Object(N.jsxs)("form",{onSubmit:s((function(t){console.log(t),Ce.a.createWorkflow(t).then((function(){e("Create Workflow Success",{appearance:"success",autoDismiss:!0}),a.goBack()})).catch((function(t){return e("The name workflow is exsited!",{appearance:"error",autoDismiss:!0})}))})),children:[Object(N.jsx)(S.a,{r:c,name:"WorkflowName",label:"Workflow Name",required:!0}),Object(N.jsx)(S.a,{r:c,name:"WorkflowDescription",label:"Description"}),Object(N.jsx)("div",{className:"w-full mt-10 mb-5 px-10",children:Object(N.jsx)(P.Button,{layout:"outline",size:"large",type:"submit",className:"rounded-md py-2 \r text-white text-xl w-full ",children:"Create Workflow"})})]})})]})})},globalRole:"Trusted"},{path:"/workflows-manager/create-workflows",component:function(){var e=Object(i.c)(Ne.h).workflowUpdate;e.WorkflowId&&localStorage.setItem("Workflow",JSON.stringify(e));var t=JSON.parse(localStorage.getItem("Workflow")||"[]"),c=Object(d.b)(),s=Object(i.c)(Ue.e),r=s.workflowprojects;s.loading,s.hasErrors,Object(a.useEffect)((function(){c(Object(Ue.d)(t.WorkflowId))}),[c]);var o=n.a.useState(!1),j=Object(l.a)(o,2),b=j[0],u=j[1],x=function(e){e.preventDefault(),u(!0)},m={open:b,handleOpen:x,handleClose:function(){u(!1)},data_workflow:t,fulldata:r};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(at,{modalDialog:m}),Object(N.jsx)("div",{className:"container mx-auto px-4 mb-16 sm:px-8",children:Object(N.jsxs)("div",{className:"py-8",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{className:"text-2xl font-semibold leading-tight",children:t.WorkflowName}),Object(N.jsx)("p",{className:" font-semibold leading-tight",children:t.WorkflowDescription})]}),Object(N.jsx)("div",{className:"my-2 flex justify-between sm:flex-row flex-col",children:Object(N.jsx)("div",{className:"flex",children:Object(N.jsx)("a",{onClick:function(e){return x(e)},children:Object(N.jsx)("button",{className:"bg-white border shadow-sm px-3 py-1.5 rounded-md hover:text-green-500 text-gray-700",children:"Add project"})})})}),Object(N.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:Object(N.jsx)("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:Object(N.jsxs)("table",{className:"min-w-full leading-normal",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Project Name"}),Object(N.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Action"})]})}),Object(N.jsx)("tbody",{children:r.map((function(e){return Object(N.jsx)(st,{workflow_project:e},e.ProjectKey)}))})]})})})]})})]})},globalRole:"Trusted"},{path:"/workflows-manager/transitions-manager",component:nt,globalRole:"Trusted"},{path:"/profile",component:function(){var e=Object(d.b)(),t=Object(i.c)(ot.c),c=t.inforUser,s=(t.success,Object(I.a)()),a=s.register,n=s.handleSubmit;return Object(N.jsx)("div",{children:Object(N.jsx)(jt.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(N.jsx)(dt.a,{maxWidth:"lg",children:Object(N.jsxs)(bt.a,{container:!0,spacing:3,children:[Object(N.jsx)(bt.a,{item:!0,lg:12,md:12,xs:12,children:Object(N.jsxs)(ut.a,{children:[Object(N.jsx)(xt.a,{children:Object(N.jsxs)(jt.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(N.jsx)(_.a,{sx:{height:100,width:100},children:"A"}),Object(N.jsx)(v.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:c.User_Full_Name}),Object(N.jsx)(v.a,{color:"textSecondary",variant:"body1",children:"Vi\u1ec7t Nam"})]})}),Object(N.jsx)(mt.a,{})]})}),Object(N.jsx)(bt.a,{item:!0,lg:12,md:12,xs:12,children:Object(N.jsx)("form",{autoComplete:"off",onSubmit:n((function(t){e(Object(o.f)({id:c.User_Id,data:t}))})),children:Object(N.jsxs)(ut.a,{children:[Object(N.jsx)(Ot.a,{subheader:"The information can be edited",title:"Profile"}),Object(N.jsx)(mt.a,{}),Object(N.jsx)(xt.a,{children:Object(N.jsxs)(bt.a,{container:!0,spacing:3,children:[Object(N.jsx)(bt.a,{item:!0,md:12,xs:12,children:Object(N.jsx)(ce,{r:a,fullWidth:!0,label:"Full name",name:"User_Full_Name",required:!0,value:c.User_Full_Name,variant:"outlined"})}),Object(N.jsx)(bt.a,{item:!0,md:12,xs:12,children:Object(N.jsx)(ce,{r:a,fullWidth:!0,label:"User name",name:"lastName",value:c.User_Name,variant:"outlined"})}),Object(N.jsx)(bt.a,{item:!0,md:12,xs:12,children:Object(N.jsx)(ce,{r:a,fullWidth:!0,label:"Email Address",name:"email",value:c.User_Email,variant:"outlined"})}),Object(N.jsx)(bt.a,{item:!0,md:12,xs:12,children:Object(N.jsx)(ce,{r:a,fullWidth:!0,label:"Phone Number",name:"phone",value:"0852578535",variant:"outlined"})}),Object(N.jsx)(bt.a,{item:!0,md:12,xs:12,children:Object(N.jsx)(ce,{r:a,fullWidth:!0,label:"Country",name:"country",value:"Viet Nam",variant:"outlined"})})]})}),Object(N.jsx)(mt.a,{}),Object(N.jsx)(jt.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:Object(N.jsx)("div",{className:" mt-10 mb-5 px-10",children:Object(N.jsx)("input",{type:"submit",value:"Update User",className:"bg-green-600 rounded-md py-2 \r text-white text-xl "})})})]})})})]})})})})},globalRole:"Member"}],yt=[{path:"/app/user-manager",icon:"OutlinePersonIcon",name:"User Manager",globalRole:"Admin"},{path:"/app/permission-manager",icon:"ForbiddenIcon",name:"Permission Project",globalRole:"Trusted"},{path:"/app/role-manager",icon:"UserIcon",name:"Role Manager",globalRole:"Trusted"},{path:"/app/workflows-manager",icon:"PeopleIcon",name:"Workflows Manager",globalRole:"Trusted"},{path:"/app/customFields",icon:"PagesIcon",name:"CustomFields",globalRole:"Trusted"},{path:"/app/issueTypes",icon:"MoneyIcon",name:"IssueTypes",globalRole:"Trusted"},{path:"/app/status-manager",icon:"PagesIcon",name:"Status",globalRole:"Trusted"},{path:"/app/Screens",icon:"ModalsIcon",name:"Screens",globalRole:"Trusted"}],wt=["icon"];function Ct(e){var t=e.icon,c=Object(b.a)(e,wt),a=W[t];return Object(N.jsx)(a,Object(s.a)({},c))}var kt=function(e){var t=e.route,c=Object(a.useState)(!1),s=Object(l.a)(c,2),n=s[0],r=s[1];return Object(N.jsxs)("li",{className:"relative px-6 py-3",children:[Object(N.jsxs)("button",{className:"inline-flex items-center justify-between w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200",onClick:function(){r(!n)},"aria-haspopup":"true",children:[Object(N.jsxs)("span",{className:"inline-flex items-center",children:[Object(N.jsx)(Ct,{className:"w-5 h-5","aria-hidden":"true",icon:t.icon}),Object(N.jsx)("span",{className:"ml-4",children:t.name})]}),Object(N.jsx)(W.DropdownIcon,{className:"w-4 h-4","aria-hidden":"true"})]}),Object(N.jsx)(P.Transition,{show:n,enter:"transition-all ease-in-out duration-300",enterFrom:"opacity-25 max-h-0",enterTo:"opacity-100 max-h-xl",leave:"transition-all ease-in-out duration-300",leaveFrom:"opacity-100 max-h-xl",leaveTo:"opacity-0 max-h-0",children:Object(N.jsx)("ul",{className:"p-2 mt-2 space-y-2 overflow-hidden text-sm font-medium text-gray-500 rounded-md shadow-inner bg-gray-50 dark:text-gray-400 dark:bg-gray-900","aria-label":"submenu",children:t.routes.map((function(e){return Object(N.jsx)("li",{className:"px-2 py-1 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200",children:Object(N.jsx)(j.b,{className:"w-full",to:e.path,children:e.name})},e.name)}))})})]},t.name)},Tt=["icon"];function St(e){var t=e.icon,c=Object(b.a)(e,Tt),a=W[t];return Object(N.jsx)(a,Object(s.a)({},c))}var It=function(){var e=Object(i.c)(ot.c),t=e.inforUser,c=e.success,s=[];return c&&(1==t.Is_Admin&&yt.map((function(e){"Trusted"==e.globalRole&&s.push(e)})),0==t.Is_Admin&&(s=yt)),Object(N.jsx)("div",{className:"py-4 text-gray-500 dark:text-gray-400",children:Object(N.jsx)("ul",{children:s.map((function(e){return e.routes?Object(N.jsx)(kt,{route:e},e.name):Object(N.jsx)("li",{className:"relative px-6 py-3",children:Object(N.jsxs)(j.c,{exact:!0,to:e.path,className:"inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200",activeClassName:"text-gray-800 dark:text-gray-100",children:[Object(N.jsx)(r.b,{path:e.path,exact:e.exact,children:Object(N.jsx)("span",{className:"absolute inset-y-0 left-0 w-1 bg-purple-600 rounded-tr-lg rounded-br-lg","aria-hidden":"true"})}),Object(N.jsx)(St,{className:"w-5 h-5","aria-hidden":"true",icon:e.icon}),Object(N.jsx)("span",{className:"ml-4",children:e.name})]})},e.name)}))})})};var Dt=function(e){return Object(N.jsx)("aside",{className:"z-30 flex-shrink-0 hidden w-64 overflow-y-auto bg-white dark:bg-gray-800 lg:block",children:Object(N.jsx)(It,{})})},Pt=c(72);var Bt=function(){var e=Object(a.useContext)(Pt.a),t=e.isSidebarOpen,c=e.closeSidebar;return Object(N.jsx)(P.Transition,{show:t,children:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(P.Transition,{enter:"transition ease-in-out duration-150",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(N.jsx)(P.Backdrop,{onClick:c})}),Object(N.jsx)(P.Transition,{enter:"transition ease-in-out duration-150",enterFrom:"opacity-0 transform -translate-x-20",enterTo:"opacity-100",leave:"transition ease-in-out duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0 transform -translate-x-20",children:Object(N.jsx)("aside",{className:"fixed inset-y-0 z-50 flex-shrink-0 w-64 mt-16 overflow-y-auto bg-white dark:bg-gray-800 lg:hidden",children:Object(N.jsx)(It,{})})})]})})};var _t=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Dt,{}),Object(N.jsx)(Bt,{})]})},Ft=function(){var e=Object(D.useToasts)().addToast,t=Object(I.a)(),c=t.register,n=t.handleSubmit,r=t.reset,o=Object(a.useState)(""),j=Object(l.a)(o,2),d=j[0],b=j[1],u=Object(a.useState)(""),x=Object(l.a)(u,2),m=x[0],O=x[1],h=Object(a.useState)(""),p=Object(l.a)(h,2),f=p[0],g=p[1],v=Object(a.useState)(""),y=Object(l.a)(v,2),w=y[0],C=y[1],k=Object(a.useState)("idle"),T=Object(l.a)(k,2),S=T[0],B=T[1],_=Object(a.useState)(!1),F=Object(l.a)(_,2),M=F[0],E=F[1],R=Object(i.c)((function(e){return e.issues.success})),A=Object(i.c)((function(e){return e.issues.error})),L=Object(i.b)(),U=Object(i.c)(Te.i),W=Object(i.c)(Te.j),K=U.map((function(e){return e.Project_Name})).filter((function(e,t,c){return c.indexOf(e)===t})),z=U.filter((function(e){return e.Project_Name===f})),H=K.map((function(e){return Object(N.jsx)("option",{value:e,children:e},e)})),V=W.map((function(e){return Object(N.jsx)("option",{value:e.User_Full_Name,children:e.User_Full_Name},e.User_Id)})),J=z.map((function(e){return Object(N.jsx)("option",{value:e.Issue_Type_Name,children:e.Issue_Type_Name},e.Issue_Type_Name)})),q=Object(i.c)((function(e){return e.issues.statusAddIssue})),Y=Object(i.c)((function(e){return e.issues.customFields}));Object(a.useEffect)((function(){if("idle"===q&&L(Object(Te.f)()),[f,w].every(Boolean)){var t=U.find((function(e){return e.Project_Name===f&&e.Issue_Type_Name===w})).Screen;t&&L(Object(Te.d)({Id:t}));var c=U.find((function(e){return e.Project_Name===f})).Project;c&&L(Object(Te.g)({project:c}))}A&&(e(A,{appearance:"error",autoDismiss:!0}),L(Object(Te.k)({error:null}))),R&&(e(R,{appearance:"success",autoDismiss:!0}),L(Object(Te.l)({success:null})))}),[q,L,f,w,A,R]);var G,Q=[d,m,f,w].every(Boolean)&&"idle"===S,X=function(){var e=Object(pe.a)(he.a.mark((function e(t){var c,a,n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q){e.next=20;break}return e.prev=1,B("pending"),b(""),O(""),c=U.find((function(e){return e.Project_Name===f&&e.Issue_Type_Name===w})),a=Y.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{Value:t[e.Name],Issue:m})})),r(),e.next=10,L(Object(Te.a)({Key:m,Name:d,Project:c.Project,Issue_Type:c.Issue_Type,Icon:c.Issue_Type_Icon,Fields:a}));case 10:n=e.sent,Object(De.d)(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Failed to save the issue: ",e.t0);case 17:return e.prev=17,B("idle"),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})));return function(t){return e.apply(this,arguments)}}();function Z(){E(!1)}return Y&&0!==Y.length&&(G=Y.map((function(e){switch(e.Field_Type){case"Text":return Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:e.Name}),Object(N.jsx)(P.Input,Object(s.a)({className:"mt-1"},c(e.Name)))]},e.Custom_Field);case"Date":return Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:e.Name}),Object(N.jsx)(P.Input,Object(s.a)({type:"date",className:"mt-1"},c(e.Name)))]},e.Custom_Field);case"Text area":return Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:e.Name}),Object(N.jsx)(P.Textarea,Object(s.a)({className:"mt-1",rows:"3"},c(e.Name)))]},e.Custom_Field);case"People":return Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:e.Name}),Object(N.jsxs)(P.Select,Object(s.a)(Object(s.a)({className:"mt-1"},c(e.Name)),{},{children:[Object(N.jsx)("option",{value:""}),V]}))]},e.Custom_Field)}}))),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{children:Object(N.jsx)(P.Button,{onClick:function(){E(!0)},children:"Create"})}),Object(N.jsxs)(P.Modal,{isOpen:M,onClose:Z,children:[Object(N.jsx)(P.ModalHeader,{className:"m-2",children:"Add a issue"}),Object(N.jsxs)(P.ModalBody,{class:"overflow-auto h-80",children:[Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Name"}),Object(N.jsx)(P.Input,{className:"mt-1",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Key"}),Object(N.jsx)(P.Input,{className:"mt-1",value:m,onChange:function(e){return O(e.target.value)}})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Project"}),Object(N.jsxs)(P.Select,{className:"mt-1",value:f,onChange:function(e){g(e.target.value),C("")},children:[Object(N.jsx)("option",{value:""}),H]})]}),Object(N.jsxs)(P.Label,{className:"m-2",children:[Object(N.jsx)("span",{children:"Issue type"}),Object(N.jsxs)(P.Select,{className:"mt-1",value:w,onChange:function(e){return C(e.target.value)},children:[Object(N.jsx)("option",{value:""}),J]})]}),G]}),Object(N.jsxs)(P.ModalFooter,{children:[Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{layout:"outline",onClick:Z,children:"Cancel"})}),Object(N.jsx)("div",{className:"hidden sm:block",children:Object(N.jsx)(P.Button,{onClick:n(X),disabled:!Q,children:"Accept"})})]})]})]})},Mt=c(16);var Et=function(){var e=Object(a.useContext)(P.WindmillContext),t=e.mode,c=e.toggleMode,s=Object(a.useContext)(Pt.a).toggleSidebar,n=Object(a.useState)(!1),i=Object(l.a)(n,2),o=i[0],b=i[1],u=Object(a.useState)(!1),x=Object(l.a)(u,2),m=x[0],O=x[1],h=Object(a.useState)(!1),p=Object(l.a)(h,2),f=p[0],g=p[1];Object(a.useEffect)((function(){g(!!localStorage.getItem("accessToken"))}));var v=Object(r.g)(),y=function(){var e=Object(pe.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt.a.logout().then((function(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),w(Object(ot.d)())}));case 2:return e.next=4,v.push("/login");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=Object(d.b)();return Object(N.jsx)("header",{className:"z-40 py-4 bg-white shadow-bottom dark:bg-gray-800",children:Object(N.jsxs)("div",{className:"container flex items-center justify-between h-full px-6 mx-auto text-purple-600 dark:text-purple-300",children:[Object(N.jsx)("button",{className:"p-1 mr-5 -ml-1 rounded-md lg:hidden focus:outline-none focus:shadow-outline-purple",onClick:s,"aria-label":"Menu",children:Object(N.jsx)(W.MenuIcon,{className:"w-6 h-6","aria-hidden":"true"})}),Object(N.jsx)(W.LayersIcon,{className:"w-10 h-10","aria-hidden":"true"}),Object(N.jsx)("a",{className:"ml-6 text-lg font-bold text-gray-800 dark:text-gray-200",href:"#",children:"Jira"}),Object(N.jsx)(j.b,{to:"/app/projects",children:Object(N.jsx)("a",{href:!0,className:"ml-6 text-lg font-bold text-gray-800 dark:text-gray-200",children:"Projects"})}),Object(N.jsx)(j.b,{to:"/app/issues",children:Object(N.jsx)("a",{href:!0,className:"ml-6 text-lg font-bold text-gray-800 dark:text-gray-200",children:"Issues"})}),Object(N.jsx)("a",{className:"ml-4",children:f&&Object(N.jsx)(Ft,{})}),Object(N.jsx)("div",{className:"flex justify-center flex-1 lg:mr-32",children:Object(N.jsxs)("div",{className:"relative w-full max-w-xl mr-6 focus-within:text-purple-500",children:[Object(N.jsx)("div",{className:"absolute inset-y-0 flex items-center pl-2",children:Object(N.jsx)(W.SearchIcon,{className:"w-4 h-4","aria-hidden":"true"})}),Object(N.jsx)(P.Input,{className:"pl-8 text-gray-700",placeholder:"Search for projects","aria-label":"Search"})]})}),Object(N.jsxs)("ul",{className:"flex items-center flex-shrink-0 space-x-6",children:[Object(N.jsx)("li",{className:"flex",children:Object(N.jsx)("button",{className:"rounded-md focus:outline-none focus:shadow-outline-purple",onClick:c,"aria-label":"Toggle color mode",children:"dark"===t?Object(N.jsx)(W.SunIcon,{className:"w-5 h-5","aria-hidden":"true"}):Object(N.jsx)(W.MoonIcon,{className:"w-5 h-5","aria-hidden":"true"})})}),Object(N.jsxs)("li",{className:"relative",children:[Object(N.jsxs)("button",{className:"relative align-middle rounded-md focus:outline-none focus:shadow-outline-purple",onClick:function(){b(!o)},"aria-label":"Notifications","aria-haspopup":"true",children:[Object(N.jsx)(W.BellIcon,{className:"w-5 h-5","aria-hidden":"true"}),Object(N.jsx)("span",{"aria-hidden":"true",className:"absolute top-0 right-0 inline-block w-3 h-3 transform translate-x-1 -translate-y-1 bg-red-600 border-2 border-white rounded-full dark:border-gray-800"})]}),Object(N.jsxs)(P.Dropdown,{align:"right",isOpen:o,onClose:function(){return b(!1)},children:[Object(N.jsxs)(P.DropdownItem,{tag:"a",href:"#",className:"justify-between",children:[Object(N.jsx)("span",{children:"Messages"}),Object(N.jsx)(P.Badge,{type:"danger",children:"13"})]}),Object(N.jsxs)(P.DropdownItem,{tag:"a",href:"#",className:"justify-between",children:[Object(N.jsx)("span",{children:"Sales"}),Object(N.jsx)(P.Badge,{type:"danger",children:"2"})]}),Object(N.jsx)(P.DropdownItem,{onClick:function(){return alert("Alerts!")},children:Object(N.jsx)("span",{children:"Alerts"})})]})]}),Object(N.jsxs)("li",{className:"relative",children:[Object(N.jsx)("button",{className:"rounded-full focus:shadow-outline-purple focus:outline-none",onClick:function(){O(!m)},"aria-label":"Account","aria-haspopup":"true",children:Object(N.jsx)(P.Avatar,{className:"align-middle",src:"https://images.unsplash.com/photo-1502378735452-bc7d86632805?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=200&fit=max&s=aa3a807e1bbdfd4364d1f449eaa96d82",alt:"","aria-hidden":"true"})}),Object(N.jsxs)(P.Dropdown,{align:"right",isOpen:m,onClose:function(){return O(!1)},children:[Object(N.jsx)(j.b,{to:"/app/profile",children:Object(N.jsxs)(P.DropdownItem,{tag:"a",href:"#",children:[Object(N.jsx)(W.OutlinePersonIcon,{className:"w-4 h-4 mr-3","aria-hidden":"true"}),Object(N.jsx)("span",{children:"Profile"})]})}),Object(N.jsxs)(P.DropdownItem,{tag:"a",href:"#",children:[Object(N.jsx)(W.OutlineCogIcon,{className:"w-4 h-4 mr-3","aria-hidden":"true"}),Object(N.jsx)("span",{children:"Settings"})]}),Object(N.jsxs)(P.DropdownItem,{onClick:y,children:[Object(N.jsx)(W.OutlineLogoutIcon,{className:"w-4 h-4 mr-3","aria-hidden":"true"}),Object(N.jsx)("span",{children:"Log out"})]})]})]})]})]})})},Rt=c(86),At=Object(a.lazy)((function(){return c.e(5).then(c.bind(null,255))}));t.default=function(){var e=Object(d.b)();Object(a.useEffect)((function(){e(Object(ot.b)())}),[]);var t,c=Object(i.c)(ot.c),n=c.inforUser,l=c.success,o=[];l&&(0!=n.Is_Admin&&1!=n.Is_Admin||(t=Object(N.jsx)(_t,{})),2==n.Is_Admin&&Nt.map((function(e,t){"Member"==e.globalRole&&o.push(e)})),0==n.Is_Admin&&(o=Nt),1==n.Is_Admin&&Nt.map((function(e,t){"Member"!=e.globalRole&&"Trusted"!=e.globalRole||o.push(e)})));var j=Object(a.useContext)(Pt.a),b=j.isSidebarOpen,u=j.closeSidebar,x=Object(r.h)();return Object(a.useEffect)((function(){u()}),[x]),Object(N.jsx)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 ".concat(b&&"overflow-hidden"),children:Object(N.jsxs)("div",{className:"flex flex-col flex-1 w-full",children:[Object(N.jsx)(Et,{}),Object(N.jsxs)("div",{className:"flex",children:[t,Object(N.jsx)("div",{className:"w-full",children:Object(N.jsx)(a.Suspense,{fallback:Object(N.jsx)(Rt.a,{}),children:Object(N.jsxs)(r.d,{children:[o.map((function(e,t){return e.component?Object(N.jsx)(r.b,{exact:!0,path:"/app".concat(e.path),render:function(t){return Object(N.jsx)(e.component,Object(s.a)({},t))}},t):null})),Object(N.jsx)(r.a,{exact:!0,from:"/app",to:"/app/projects"}),Object(N.jsx)(r.b,{component:At})]})})})]})]})})}}}]);
//# sourceMappingURL=4.6e757797.chunk.js.map