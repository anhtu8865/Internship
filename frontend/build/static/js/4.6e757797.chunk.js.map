{"version":3,"sources":["components/DialogModal.jsx","components/User/UpdateUserModal.jsx","components/User/UserItem.jsx","pages/UsersManager.jsx","components/Permission/PermissionItem.jsx","pages/PermissionManager.jsx","components/Permission/PermissionRoleItem.jsx","components/Form/FormInput.jsx","components/Permission/UpdateRolePermission.jsx","components/Role/UpdateRoleModal.jsx","components/Role/RoleItem.jsx","pages/RolesManager.jsx","components/ProjectUser/ProjectUserItems.jsx","components/ProjectUser/AddUserToProject.jsx","components/Transition/TransitionItem.jsx","components/Transition/TransitionItemForProject.jsx","pages/TransitionManagerForProject.jsx","components/Issue/UpdateIssueForm.js","pages/Issues.js","pages/IssuesByProject.js","components/Screen/AddScreenForm.js","components/Screen/UpdateScreenForm.js","pages/Screens.js","pages/UpdateWorkflow.jsx","components/Workflow/WorkflowItem.jsx","pages/Workflows.jsx","components/CustomField/AddCustomFieldForm.js","components/CustomField/UpdateCustomFieldForm.js","pages/CustomFields.js","components/IssueType/AddIssueTypeForm.js","components/IssueType/UpdateIssueTypeForm.js","pages/IssueTypes.js","components/Status/UpdateStatusModal.jsx","components/Status/StatusItem.jsx","pages/StatusManager.jsx","components/Workflow/WorkflowProjectItem.jsx","components/Workflow/UpdateWorkflowModal.jsx","pages/TransitionManager.jsx","pages/ProjectIssueTypeScreens.js","components/Project/UpdateProjectModal.jsx","components/Project/ViewProject.jsx","components/Project/ProjectItem.jsx","components/Project/CreateProjectModal.jsx","pages/Projects.jsx","routes/index.js","pages/DetailPermission.jsx","pages/CreateRole.jsx","pages/ProjectUserRole.jsx","pages/AddTransition.jsx","pages/CreateStatus.jsx","pages/AddWorkflow.jsx","pages/CreateWorkflow.jsx","pages/Profile.jsx","routes/sidebar.js","components/Sidebar/SidebarSubmenu.js","components/Sidebar/SidebarContent.js","components/Sidebar/DesktopSidebar.js","components/Sidebar/MobileSidebar.js","components/Sidebar/index.js","components/Issue/AddIssueForm.js","components/Header2.js","containers/Layout.js"],"names":["DialogTitle","withStyles","theme","root","margin","padding","spacing","closeButton","position","right","top","color","palette","grey","props","children","classes","onClose","other","disableTypography","className","Typography","variant","IconButton","onClick","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","DialogModal","title","modalDialog","open","handleSubmit","handleClose","Dialog","fullWidth","maxWidth","id","UpdateUserModal","dispatch","useAppDispatch","addToast","useToasts","useForm","register","useSelector","usersSelector","userUpdate","updateMess","updateSuccess","onSubmit","data","updateUser","User_Id","appearance","autoDismiss","dividers","type","r","name","label","value","User_Full_Name","required","layout","colours","blue","orange","purple","red","lime","blueGrey","useStyles","makeStyles","backgroundColor","Math","floor","random","length","UserItem","user","globalrole","React","useState","openUpdate","setOpenUpdate","handleOpenUpdate","e","preventDefault","setUserUpdate","modalUpdate","handleOpen","Is_Admin","result","User_Name","split","forEach","letter","push","Avatar","Ava","User_Email","userId","confirm","deleteUser","deleteConfirm","Users","users","loading","hasErrors","useEffect","fetchUsers","setState","searchTerm","setSearchTerm","searchResults","setSearchResults","selectTerm","setSelectTerm","results","filter","person","toLowerCase","indexOf","resultsSelect","onChange","target","selected","viewBox","d","placeholder","to","map","PermissionItem","permission","history","useHistory","permissionroles_temp","setResult","permissionApi","getPrmissionRole","Permission_Id","then","Data","Permission_Name","Permission_Description","temp","RoleName","RoleId","setPermissionUpdate","PermissionManager","permissionsSelector","permissions","fetchPermissions","PermissionRoleItem","permission_role","PermissionId","deleteRoleInPermission","FormInput","defaultValue","htmlFor","displayName","UpdateRolePermission","fulldata","data_permission","rolesSelector","roles","fetchRoles","options","item1","some","item2","Role_Id","option","Role_Name","role_name","idrole","postdata","idpermission","toString","AddRoleToPermission","UpdateRoleModal","roleUpdate","updateRole","Role_Description","RoleItem","role","setRoleUpdate","rolenamesub","roledescription","roleId","deleteRole","Roles","ProjectUserItems","dataItem","projectkey","setroleId","UserName","UserMail","projectKey","UserId","roleIdNew","ProjectUserRoleApi","updateRoleUserInProject","res","Msg","catch","err","response","dataDelete","ProjectKey","AddUserProject","listUser","options_user","arrUser","setarrUser","AddUserToProject","components","IndicatorSeparator","isMulti","item","styles","dropdownIndicator","base","control","provided","state","boxShadow","border","menuPortal","zIndex","TransitionItem","transition","axios","method","url","TransitionId","responseType","console","log","isModalOpen","setIsModalOpen","closeModal","TransitionName","Status1Name","Status2Name","isOpen","deleteTransition","block","size","TransitionItemForProject","TransitionManagerForProject","project","workflowUpdate","workflowsSelector","localStorage","setItem","JSON","stringify","parse","getItem","fullData","a","WorkflowId","axiosGet","transitionsSelector","transitions","getDataByIdWorkflow","pageTable1","setPageTable1","dataTable1","setDataTable1","totalResults","slice","dispatch1","worklfows","loading1","hasErrors1","getDataNameByIdWorkflow","WorkflowName","WorkflowDescription","resultsPerPage","p","UpdateIssueForm","issue","useDispatch","reset","Name","setName","Key","key","Project","Project_Name","projectName","Issue_Type_Name","issueTypeName","Status","status","setStatus","editRequestStatus","setEditRequestStatus","userList","selectUserList","fetchUserList","canSave","every","Boolean","onSaveIssueClicked","newIssue","Fields","Value","updateIssue","resultAction","unwrapResult","error","inputFields","userOptions","transitionOptions","Transitions","Name_Status2","Name_Transition","Id_Transition","Field_Type","class","disabled","IssueExcerpt","openModal","find","Id","AddScreenForm","description","setDescription","addRequestStatus","setAddRequestStatus","onSaveScreenClicked","addNewScreen","Description","rows","UpdateScreenForm","screen","updateRequestStatus","setUpdateRequestStatus","updateScreen","ScreenExcerpt","listCustomFields","customField","pathname","UpdateWorkflowModal","updateWorkflow","WorkflowItem","workflow","workflowprojects_temp","workflowApi","getWorkflowProject","handleOpenUpdateWorkflow","setWorkflowUpdate","ProjectName","handleOpenTransition","deleteWorkflow","WorkflowManager","updateWor","workflows","fetchWorkflows","fieldTypes","AddCustomFieldForm","fieldType","setFieldType","onSaveCustomFieldClicked","addNewCustomField","fieldTypesOptions","UpdateCustomFieldForm","updateCustomField","CustomFieldExcerpt","AddIssueTypeForm","icon","setIcon","onSaveIssueTypeClicked","addNewIssueType","Icon","UpdateIssueTypeForm","issueType","updateIssueType","IssueTypeExcerpt","projectIssueTypeScreensHaveName","UpdateStatusModal","statusUpdate","statussSelector","updateStatus","StatusId","StatusName","StatusDescription","Button","StatusItem","setStatusUpdate","statusId","deleteStatus","Statuss","statuss","fetchStatuss","WorkflowProjectItem","workflow_project","deleteProjectInWorkflow","UpdateProjectWorkflow","data_workflow","projectsSelector","projects","fetchProjects","id_project","project_name","idproject","idworkflow","AddProjectToWorkflow","TransitionManager","ProjectIssueTypeScreenExcerpt","projectIssueTypeScreen","ScreenName","UpdateProjectModal","projectUpdate","formData","Object","assign","updateProject","ProjectUrl","ProjectDescription","ViewProject","handleCloseViewProject","alert","ProjectLead","ProjectItem","WorkflowNa","temp1","issues","selectAllIssues","setProjectUpdate","openView","setOpenView","modalView","handleOpenViewProject","src","alt","ProjectLeadName","project_key","bool","deleteProject","CreateProjectModal","bool1","createProject","Projects","option1s","openCreate","setOpenCreate","handleOpenCreate","modalCreate","routes","path","component","UsersManager","globalRole","CreateUser","permissionUpdate","permissionRolesSelector","permissionroles","fetchPermissionRoles","temp_role","RolesManager","roleApi","createRole","goBack","window","location","projectname","projectUserRolesSelector","projectUserRoles","fetchProjectUserRole","openAddUser","setopenAddUser","handleAddUser","projectUserRole","temp2","Status1Id","fil","option2s","Status2Id","statusname1","statusname2","postData","TransitionApi","createTransition","issueStatus","setId","selectAllProjects","projectStatus","projectsOptions","setProject","issueTypes","selectAllIssueTypes","issueTypeStatus","issueTypesOptions","setIssueType","statuses","statusesLoading","statusesOptions","usersLoading","usersOptions","setUser","fromDate","setFromDate","toDate","setToDate","content","page","setPage","setData","setTotalResults","fetchIssues","fetchIssueTypes","filteredIssues","date","Date","date2","tbody","deleteIssue","match","params","screens","selectAllScreens","screenCustomFields","selectAllScreenCustomFields","customFields","selectAllCustomFields","screenStatus","customFieldStatus","screenCustomFieldStatus","success","errorCustomFields","fetchScreens","fetchScreenCustomFields","fetchCustomFields","setErrorNull","setSuccessNull","listCustomFieldsId","row","Screen","Custom_Field","element","ele","deleteScreen","deleteCustomField","projectIssueTypeScreens","selectAllProjectIssueTypeScreens","projectIssueTypeScreenStatus","fetchProjectIssueTypeScreens","Issue_Type","deleteIssueType","useLocation","setRows","filteredProjects","filteredScreensOptions","filteredProjectsOptions","setScreen","onSaveClicked","addNewProjectIssueTypeScreen","Number","payload","oldArray","deleteRow","deleteProjectIssueTypeScreen","statusApi","createStatus","Workflows","WorkflowApi","createWorkflow","workflowProjectsSelector","workflowprojects","fetchWorkflowProjects","temp_project","Transition","inforUserSelector","inforUser","Box","sx","minHeight","py","Container","Grid","container","lg","md","xs","Card","CardContent","alignItems","display","flexDirection","height","width","gutterBottom","Divider","autoComplete","CardHeader","subheader","justifyContent","Icons","SidebarSubmenu","route","isDropdownMenuOpen","setIsDropdownMenuOpen","show","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","SidebarContent","routesAdmin","exact","activeClassName","DesktopSidebar","MobileSidebar","useContext","SidebarContext","isSidebarOpen","closeSidebar","Sidebar","AddIssueForm","setKey","setProjectName","setIssueTypeName","index","self","filteredIssueTypes","statusAddIssue","found","Issue","addNewIssue","Issue_Type_Icon","Header","WindmillContext","mode","toggleMode","toggleSidebar","isNotificationsMenuOpen","setIsNotificationsMenuOpen","isProfileMenuOpen","setIsProfileMenuOpen","isLogged","setIsLogged","Logout","userApi","logout","removeItem","href","align","tag","Page404","lazy","Layout","getMe","sidebar","router_temp","i","Header2","fallback","ThemedSuspense","render","from"],"mappings":"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","file":"static/js/4.6e757797.chunk.js","sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport React from 'react'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle'\r\nimport MuiDialogContent from '@material-ui/core/DialogContent'\r\nimport MuiDialogActions from '@material-ui/core/DialogActions'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n})\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n\r\n  const { children, classes, onClose, ...other } = props\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton\r\n          aria-label=\"close\"\r\n          className={classes.closeButton}\r\n          onClick={onClose}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  )\r\n})\r\n\r\nexport const DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent)\r\n\r\nexport const DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions)\r\n\r\nfunction DialogModal({children, title, modalDialog, handleSubmit}) {\r\n  const { open, handleClose } = modalDialog\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        fullWidth={true}\r\n        maxWidth=\"sm\"\r\n        onClose={handleClose}\r\n        aria-labelledby=\"customized-dialog-title\"\r\n        open={open}\r\n      >\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n          {title}\r\n        </DialogTitle>\r\n        {children}\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\nexport default DialogModal\r\n","import React from 'react'\r\nimport DialogModal from '../DialogModal'\r\nimport FormInput from '../Form/FormInputNew'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useSelector } from 'react-redux'\r\nimport { useAppDispatch } from '../../store'\r\nimport { usersSelector, updateUser } from '../../slices/users'\r\nimport { DialogActions, DialogContent } from '../DialogModal'\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport {\r\n  Button,\r\n} from '@windmill/react-ui'\r\n\r\n\r\nfunction UpdateUserModal({ modalDialog }) {\r\n  const dispatch = useAppDispatch()\r\n  const { addToast } = useToasts()\r\n  const { register, handleSubmit } = useForm()\r\n  const { userUpdate, updateMess, updateSuccess } = useSelector(usersSelector)\r\n  const { handleClose } = modalDialog\r\n  const onSubmit = (data) => {\r\n    dispatch(updateUser({ id: userUpdate.User_Id, data }))\r\n    if (updateSuccess) {\r\n      addToast(updateMess, {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n      })\r\n    }\r\n    handleClose()\r\n  }\r\n  return (\r\n    <>\r\n      <DialogModal\r\n        title=\"Details\"\r\n        modalDialog={modalDialog}\r\n        // handleSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <DialogContent dividers className=\"mx-12\">\r\n            <FormInput\r\n              type=\"text\"\r\n              r={register}\r\n              name=\"User_Full_Name\"\r\n              label={'Name'}\r\n              value={userUpdate.User_Full_Name}\r\n              required\r\n            />\r\n            <FormInput\r\n              r={register}\r\n              name=\"User_Password\"\r\n              label={'Password (Để trống nếu không thay đổi)'}\r\n            />\r\n            <div className=\"grid grid-cols-1 my-4\">\r\n              <label className=\"uppercase md:text-sm text-xs text-gray-500 text-light\">\r\n                Global Role\r\n              </label>\r\n              <select\r\n                className=\"py-2 px-3 rounded-md border border-purple-500 mt-2 focus:outline-none focus:ring-1 focus:ring-purple-700 focus:border-transparent\"\r\n                {...register('globalrole')}\r\n              >\r\n                <option value=\"0\">Admin</option>\r\n                <option value=\"1\">Trusted</option>\r\n                <option value=\"2\">Member</option>\r\n              </select>\r\n            </div>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <div className=\"hidden sm:block m-2\">\r\n              <Button layout=\"outline\" onClick={handleClose}>\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n            <div className=\"hidden sm:block m-2\">\r\n              <Button type=\"submit\" color=\"primary\">\r\n                Submit\r\n              </Button>\r\n            </div>\r\n          </DialogActions>\r\n        </form>\r\n      </DialogModal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UpdateUserModal\r\n","import React from 'react'\r\n// import { Link } from 'react-router-dom'\r\nimport { useAppDispatch } from '../../store'\r\nimport {\r\n  usersSelector,\r\n  deleteUser,\r\n  setUserUpdate,\r\n  \r\n} from '../../slices/users'\r\nimport UpdateUserModal from './UpdateUserModal';\r\nimport { useSelector } from 'react-redux'\r\nimport { TableCell, TableRow, Button, Badge } from '@windmill/react-ui'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport {\r\n  orange,\r\n  purple,\r\n  red,\r\n  blue,\r\n  lime,\r\n  blueGrey,\r\n} from '@material-ui/core/colors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { EditIcon, TrashIcon } from '../../icons'\r\nimport { useToasts } from 'react-toast-notifications'\r\n\r\n//list colour\r\nconst colours = [\r\n  blue[800],\r\n  orange[500],\r\n  purple[800],\r\n  red[800],\r\n  lime[500],\r\n  blueGrey[800],\r\n]\r\n//random color\r\nconst getColour = () => colours[Math.floor(Math.random() * colours.length)]\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  backgroundColor: {\r\n    color: '#fff',\r\n    backgroundColor: getColour(),\r\n  },\r\n}))\r\n\r\nconst UserItem = ({ user }) => {\r\n  const dispatch = useAppDispatch()\r\n  const {  updateMess, updateSuccess } = useSelector(usersSelector)\r\n  const { addToast } = useToasts()\r\n\r\n  //delete user from list user\r\n  function deleteConfirm(e, userId) {\r\n    e.preventDefault()\r\n    if (confirm('Delete?')) {\r\n      dispatch(deleteUser(userId))\r\n    }\r\n  }\r\n  //update user\r\n  const [openUpdate, setOpenUpdate] = React.useState(false)\r\n  const handleOpenUpdate = (e, user) => {\r\n    e.preventDefault()\r\n    dispatch(setUserUpdate(user))\r\n    setOpenUpdate(true)\r\n  }\r\n  const handleCloseUpdate = () => {\r\n    setOpenUpdate(false)\r\n  }\r\n  const modalUpdate = {\r\n    open: openUpdate,\r\n    handleOpen: handleOpenUpdate,\r\n    handleClose: handleCloseUpdate,\r\n  }\r\n  //load role\r\n  let globalrole\r\n  if (user.Is_Admin == '0' || user.globalrole == '0') {\r\n    globalrole = 'Admin'\r\n  }\r\n  if (user.Is_Admin == '1' || user.globalrole == '1') {\r\n    globalrole = 'Trusted'\r\n  }\r\n  if (user.Is_Admin == '2' || user.globalrole == '2') {\r\n    globalrole = 'Member'\r\n  }\r\n\r\n  ////get avatar user\r\n  const classes = useStyles()\r\n  const Ava = () => {\r\n      let result = []\r\n      user.User_Name.split('').forEach((letter) => {\r\n        result.push(letter)\r\n      })\r\n      return <Avatar className={classes.backgroundColor}>{result[0]}</Avatar>\r\n    }\r\n  \r\n\r\n  return (\r\n    <>\r\n      <UpdateUserModal modalDialog={modalUpdate} />\r\n      <TableRow key={user.User_Id}>\r\n        <TableCell>\r\n          <div className=\"flex items-center\">\r\n            <div >{Ava()}</div>\r\n            <div className=\"ml-3\">\r\n              <p >\r\n                {user.User_Full_Name}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </TableCell>\r\n        <TableCell>\r\n          <span>{user.User_Name}</span>\r\n        </TableCell>\r\n        <TableCell>\r\n          <span>{user.User_Email}</span>\r\n        </TableCell>\r\n        <TableCell>\r\n          <span>{globalrole}</span>\r\n        </TableCell>\r\n        <TableCell>\r\n          <Badge\r\n            className=\"hover:bg-green-200 cursor-pointer\"\r\n            type={'success'}\r\n            onClick={(e) => handleOpenUpdate(e, user)}\r\n          >\r\n            Edit\r\n          </Badge>\r\n          <Badge\r\n            className=\"ml-1 hover:bg-red-200 cursor-pointer\"\r\n            type={'danger'}\r\n            onClick={(e) => deleteConfirm(e, user.User_Id)}\r\n          >\r\n            Delete\r\n          </Badge>\r\n\r\n          {/* <Badge className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\">\r\n            <Badge\r\n              aria-hidden\r\n              className=\"absolute inset-0 bg-green-200 opacity-50 rounded-full\"\r\n            />\r\n            <a\r\n              onClick={(e) => handleOpenUpdate(e, user)}\r\n              className=\"relative cursor-pointer\"\r\n            >\r\n              Edit\r\n            </a>\r\n          </Badge>\r\n          <Badge className=\"relative inline-block px-3 py-1 ml-1.5 font-semibold text-green-900 leading-tight\">\r\n            <Badge\r\n              aria-hidden\r\n              className=\"absolute inset-0 bg-red-400 opacity-50 rounded-full\"\r\n            />\r\n            <a\r\n              onClick={(e) => deleteConfirm(e, user.User_Id)}\r\n              className=\"relative cursor-pointer text-red-900\"\r\n            >\r\n              Delete\r\n            </a>\r\n          </Badge> */}\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UserItem\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { fetchUsers, usersSelector, setState } from '../slices/users'\r\nimport { Link } from 'react-router-dom'\r\nimport UserItem from '../components/User/UserItem'\r\nimport { useAppDispatch } from '../store'\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableBody,\r\n  TableRow,\r\n  TableFooter,\r\n  TableContainer,\r\n  Button,\r\n  Pagination,\r\n  Select\r\n} from '@windmill/react-ui'\r\nimport { useToasts } from 'react-toast-notifications'\r\n\r\nconst Users = () => {\r\n  const dispatch = useAppDispatch()\r\n  const { addToast } = useToasts()\r\n\r\n  const { users, loading, hasErrors, updateMess, updateSuccess } =\r\n    useSelector(usersSelector)\r\n\r\n  //get data user\r\n  useEffect(() => {\r\n    dispatch(fetchUsers())\r\n  }, [dispatch])\r\n  //notification delete,update\r\n  useEffect(() => {\r\n    if (updateSuccess) {\r\n      addToast(updateMess, {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n      })\r\n      dispatch(setState())\r\n    }\r\n  }, [updateSuccess])\r\n\r\n  //search user\r\n  //setup search\r\n  const [searchTerm, setSearchTerm] = React.useState('')\r\n  const [searchResults, setSearchResults] = React.useState([])\r\n  //setup select \r\n  const [selectTerm, setSelectTerm] = React.useState('')\r\n  const handleChange = (e) => {\r\n    setSearchTerm(e.target.value)\r\n  }\r\n  const handleSelect = (e) =>{\r\n    setSelectTerm(e.target.value)\r\n  }\r\n  useEffect(() => {\r\n    const results = users.filter(\r\n      (person) =>\r\n        person.User_Name.toLowerCase().indexOf(searchTerm.toLowerCase()) !=\r\n          -1 ||\r\n        person.User_Email.toLowerCase().indexOf(searchTerm.toLowerCase()) !=\r\n          -1 ||\r\n        person.User_Full_Name.toLowerCase().indexOf(searchTerm.toLowerCase()) !=\r\n          -1\r\n    )\r\n    setSearchResults(results)\r\n  }, [searchTerm])\r\n  useEffect(() => {\r\n    const resultsSelect = users.filter(\r\n      (person) => person.Is_Admin == selectTerm\r\n    )\r\n    setSearchResults(resultsSelect)\r\n  }, [selectTerm])\r\n  //render user\r\n  const renderUsers = () => {\r\n    if (\r\n      (searchTerm == '' && selectTerm == 'All') ||\r\n      (searchTerm == '' && selectTerm == '')\r\n    ) {\r\n      return users.map((user) => <UserItem key={user.User_Id} user={user} />)\r\n    } else {\r\n      return searchResults.map((user) => (\r\n        <UserItem key={user.User_Id} user={user} />\r\n      ))\r\n    }\r\n  }\r\n  if (loading) {\r\n    return (\r\n      <tr>\r\n        <div className=\"loader\">Loading...</div>\r\n      </tr>\r\n    )\r\n  }\r\n  if (hasErrors) return <p>Unable to get Users.</p>\r\n  return (\r\n    <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n      <div className=\"py-8\">\r\n        <div>\r\n          <h1 className=\"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200\">\r\n            Users Manager\r\n          </h1>\r\n        </div>\r\n        <div className=\"my-2 flex justify-between sm:flex-row flex-col\">\r\n          <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n            <div className=\"relative\">\r\n              <Select\r\n                value={selectTerm}\r\n                onChange={handleSelect}\r\n                className=\"appearance-none h-full rounded-r border-t sm:rounded-r-none sm:border-r-0 border-r border-b block w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500\"\r\n              >\r\n                <option selected >All</option>\r\n                <option value=\"0\">User Admin</option>\r\n                <option value=\"1\">User Trusted</option>\r\n                <option value=\"2\">User Member</option>\r\n              </Select>\r\n            </div>\r\n            {/* Ô search */}\r\n            <div className=\"flex relative\">\r\n              <span className=\"h-full absolute inset-y-0 right-2 flex items-center pl-2\">\r\n                <svg\r\n                  viewBox=\"0 0 24 24\"\r\n                  className=\"h-4 w-4 fill-current text-gray-500\"\r\n                >\r\n                  <path d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\"></path>\r\n                </svg>\r\n              </span>\r\n              <input\r\n                placeholder=\"Search\"\r\n                className=\"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\r\n                value={searchTerm}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex\">\r\n            <Link to=\"user-manager/create-user\">\r\n              <Button>Create User</Button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n          <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n            <TableContainer className=\"mb-8\">\r\n              <Table className=\"min-w-full leading-normal\">\r\n                <TableHeader>\r\n                  <tr>\r\n                    <TableCell>Full name</TableCell>\r\n                    <TableCell>Username</TableCell>\r\n                    <TableCell>Email</TableCell>\r\n                    <TableCell>Role</TableCell>\r\n                    <TableCell>Action</TableCell>\r\n                  </tr>\r\n                </TableHeader>\r\n                <TableBody>{renderUsers()}</TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAppDispatch } from '../../store'\r\nimport { useSelector } from 'react-redux'\r\nimport axios from 'axios'\r\nimport {\r\n  fetchPermissionRoles,\r\n  permissionRolesSelector,\r\n} from '../../slices/per-role'\r\nimport { TableCell, TableRow, Button, Badge } from '@windmill/react-ui'\r\n\r\nimport { useHistory } from 'react-router-dom'\r\nimport { setPermissionUpdate } from '../../slices/permission'\r\nimport permissionApi from '../../api/permissionApi'\r\nconst PermissionItem = ({ permission }) => {\r\n  const dispatch = useAppDispatch()\r\n  const history = useHistory()\r\n\r\n  const [permissionroles_temp, setResult] = useState([])\r\n  useEffect(() => {\r\n    if (permission) {\r\n      permissionApi.getPrmissionRole(permission.Permission_Id).then((data) => {\r\n        setResult(data.Data)\r\n      })\r\n    }\r\n  }, [])\r\n\r\n  //get permission to detail\r\n  const handleOpenUpdate = (e, permission) => {\r\n    e.preventDefault()\r\n    dispatch(setPermissionUpdate(permission))\r\n    history.push('permission-manager/detail-permission')\r\n  }\r\n\r\n  const renderPermissionRole = () => {\r\n    if (permissionroles_temp != null) {\r\n      return permissionroles_temp.map((temp) => (\r\n        <li key={temp.RoleId}>{temp.RoleName}</li>\r\n      ))\r\n    } else {\r\n      return <li></li>\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      {/* <RoleModal modalDialog={modalUpdate} /> */}\r\n      <TableRow key={permission.Permission_Id}>\r\n        <TableCell>\r\n          <span>{permission.Permission_Name}</span>\r\n        </TableCell>\r\n        <TableCell>\r\n          <span>{permission.Permission_Description}</span>\r\n        </TableCell>\r\n        <TableCell>\r\n          <ul>{renderPermissionRole()}</ul>\r\n        </TableCell>\r\n\r\n        <TableCell >\r\n          {/* <span className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\">\r\n            <span\r\n              aria-hidden\r\n              className=\"absolute inset-0 bg-green-200 opacity-50 rounded-full\"\r\n            />\r\n            <a\r\n              onClick={(e) => handleOpenUpdate(e, permission)}\r\n              className=\"relative cursor-pointer\"\r\n            >\r\n              Edit\r\n            </a>\r\n          </span> */}\r\n          <Badge\r\n            className=\"hover:bg-green-200 cursor-pointer\"\r\n            type={'success'}\r\n            onClick={(e) => handleOpenUpdate(e, permission)}\r\n          >\r\n            Edit\r\n          </Badge>\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PermissionItem\r\n","import React, { useEffect } from 'react'\r\nimport { fetchPermissions, permissionsSelector } from '../slices/permission'\r\nimport {\r\n  fetchPermissionRoles,\r\n  permissionRolesSelector,\r\n} from '../slices/per-role'\r\nimport { useAppDispatch } from '../store'\r\nimport { useSelector } from 'react-redux'\r\nimport PermissionItem from '../components/Permission/PermissionItem'\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableBody,\r\n  TableRow,\r\n  TableFooter,\r\n  TableContainer,\r\n  Button,\r\n  Pagination,\r\n} from '@windmill/react-ui'\r\nconst PermissionManager = () => {\r\n  const dispatch = useAppDispatch()\r\n  const { permissions, loading, hasErrors } = useSelector(permissionsSelector)\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchPermissions())\r\n  }, [dispatch])\r\n\r\n  const renderPermission = () => {\r\n    return permissions.map((permission) => (\r\n      <PermissionItem key={permission.Permission_Id} permission={permission} />\r\n    ))\r\n  }\r\n  if (loading) {\r\n    return (\r\n      <tr>\r\n        <div className=\"loader\">Loading...</div>\r\n      </tr>\r\n    )\r\n  }\r\n  if (hasErrors) return <p>Unable to get Permission.</p>\r\n  return (\r\n    <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n      <div className=\"py-8\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-semibold leading-tight\">Permission</h2>\r\n        </div>\r\n        <div className=\"my-2 flex justify-between sm:flex-row flex-col\">\r\n          <div className=\"flex\"></div>\r\n        </div>\r\n        <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n          <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n            <TableContainer className=\"mb-8\">\r\n              <Table className=\"min-w-full leading-normal\">\r\n                <TableHeader>\r\n                  <tr>\r\n                    <TableCell>Name Permission</TableCell>\r\n                    <TableCell>Description</TableCell>\r\n                    <TableCell>Grant to</TableCell>\r\n                    <TableCell>Action</TableCell>\r\n                  </tr>\r\n                </TableHeader>\r\n                <TableBody>{renderPermission()}</TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default PermissionManager\r\n","import React from 'react'\r\nimport { useAppDispatch } from '../../store'\r\nimport { deleteRoleInPermission } from '../../slices/per-role'\r\nimport { TableCell, TableRow, Badge } from '@windmill/react-ui'\r\n\r\nexport default function PermissionRoleItem({ permission_role }) {\r\n\r\n  const dispatch = useAppDispatch()\r\n\r\n  function deleteConfirm(e, PermissionId, RoleId) {\r\n    e.preventDefault()\r\n    if (confirm('Delete?')) {\r\n      dispatch(deleteRoleInPermission(PermissionId,RoleId))\r\n    }\r\n  }\r\n\r\n\r\n  \r\n  return (\r\n    <>\r\n      {/* <RoleModal modalDialog={modalUpdate} /> */}\r\n      <TableRow>\r\n        <TableCell>\r\n          <span>{permission_role.RoleName}</span>\r\n        </TableCell>\r\n        <TableCell>\r\n          <Badge\r\n            className=\"ml-1 hover:bg-red-200 cursor-pointer\"\r\n            type={'danger'}\r\n            onClick={(e) =>\r\n              deleteConfirm(\r\n                e,\r\n                permission_role.PermissionId,\r\n                permission_role.RoleId\r\n              )\r\n            }\r\n          >\r\n            Delete\r\n          </Badge>\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  )\r\n}\r\n","/* eslint-disable no-unused-vars */\r\nimport React from 'react';\r\n\r\n// class FormInput extends Component {\r\n  // constructor(props) {\r\n  //   super(props);\r\n  //   //Chá»‰ Ä‘á»‹nh má»™t state\r\n  //   // this.state = { data: \"\" }\r\n  // }\r\n\r\n  // onChangeVal = (event) => {\r\n  //   // this.setState({data:event.target.value}, () => console.log(this.state.data))\r\n  //   this.setState({data:event.target.value})\r\n  //   // console.log(this.state.data)\r\n  // }\r\n\r\n//   render() {\r\n//     return (\r\n//       <div className=\"mb-5 w-full relative z-0\">\r\n//         <input className=\"pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 \r\n//       border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-black border-gray-200\"\r\n//           type={this.props.type} onChange={this.props.onChangeVal} placeholder=\" \" required />\r\n//         <label htmlFor=\"name\" className=\"absolute duration-300 \r\n//       top-3 origin-0 text-gray-500 -z-1\">{this.props.text}</label>\r\n//       </div>\r\n//     )\r\n//   }\r\n// }\r\n\r\nconst FormInput = ({r, name, label, required, type, value}) => (\r\n  <div className=\"mb-5 w-full relative z-0\">\r\n    <input className=\"pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 \r\n    border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-green-800 border-gray-200\" \r\n    type={type}\r\n    defaultValue={value}\r\n    placeholder=\" \" {...r(name, { required })}/>\r\n    <label htmlFor=\"name\" className=\"absolute duration-300 \r\n    top-3 origin-0 text-gray-500 -z-1\">{label}</label>\r\n  </div>\r\n);\r\n\r\nFormInput.displayName = 'FormInput'\r\n\r\nexport default FormInput","import React, { useEffect } from 'react'\r\nimport DialogModal from '../DialogModal'\r\nimport { DialogActions, DialogContent } from '../DialogModal'\r\nimport FormInput from '../Form/FormInput'\r\nimport { Button } from '@windmill/react-ui'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useAppDispatch } from '../../store'\r\nimport { AddRoleToPermission } from '../../slices/per-role'\r\nimport { fetchRoles, rolesSelector } from '../../slices/roles'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport default function UpdateRolePermission({ modalDialog }) {\r\n  const { handleClose, fulldata, data_permission } = modalDialog\r\n  const dispatch = useAppDispatch()\r\n\r\n  const { register, handleSubmit } = useForm()\r\n  const { roles, loading, hasErrors } = useSelector(rolesSelector)\r\n  useEffect(() => {\r\n    dispatch(fetchRoles())\r\n  }, [dispatch])\r\n\r\n  const onSubmit = (data) => {\r\n    let role_name\r\n    roles.map((temp) => {\r\n      if (temp.Role_Id == data.idrole) {\r\n        role_name = temp.Role_Name\r\n      }\r\n    })\r\n    //data gửi qua slice\r\n    const postdata = {\r\n      idpermission: data_permission.Permission_Id.toString(), //props\r\n      idrole: data.idrole,\r\n      RoleName: role_name,\r\n      RoleId: data.idrole,\r\n      PermissionId: data_permission.Permission_Id.toString(),\r\n    }\r\n    dispatch(AddRoleToPermission(postdata))\r\n    handleClose()\r\n  }\r\n  //filter role which permission don't aleardy\r\n\r\n   \r\n   const temp = roles.filter(\r\n     (item1) => !fulldata.some((item2) => item1.Role_Id === item2.RoleId)\r\n   )\r\n  var options = temp.map((option) => {\r\n    return (\r\n      <option key={option.Role_Id} value={option.Role_Id}>\r\n        {option.Role_Name}\r\n      </option>\r\n    )\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <DialogModal\r\n        title=\"Grant Permission\"\r\n        modalDialog={modalDialog}\r\n        // handleSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <DialogContent dividers className=\"mx-12\">\r\n            <div className=\"grid grid-cols-1 my-4\">\r\n              <label className=\"uppercase md:text-sm text-xs text-gray-500 text-light\">\r\n                Project Role\r\n              </label>\r\n              <select\r\n                className=\"py-2 px-3 rounded-md border border-purple-500 mt-2 focus:outline-none focus:ring-1 focus:ring-purple-700 focus:border-transparent\"\r\n                {...register('idrole')}\r\n              >\r\n                {options}\r\n              </select>\r\n            </div>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <div className=\"hidden sm:block m-2\">\r\n              <Button layout=\"outline\" onClick={handleClose}>\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n            <div className=\"hidden sm:block m-2\">\r\n              <Button type=\"submit\" color=\"primary\">\r\n                Submit\r\n              </Button>\r\n            </div>\r\n          </DialogActions>\r\n        </form>\r\n      </DialogModal>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport DialogModal from '../DialogModal'\r\nimport FormInput from '../Form/FormInputNew'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useSelector } from 'react-redux'\r\nimport { useAppDispatch } from '../../store'\r\nimport { rolesSelector,updateRole } from '../../slices/roles'\r\nimport { DialogActions, DialogContent } from '../DialogModal'\r\nimport { Button } from '@windmill/react-ui'\r\n\r\nfunction UpdateRoleModal({ modalDialog }) {\r\n\r\n\r\n  const dispatch = useAppDispatch()\r\n  const { register, handleSubmit } = useForm()\r\n  const { roleUpdate } = useSelector(rolesSelector)\r\n\r\n  const { handleClose } = modalDialog\r\n  const onSubmit = (data) => {\r\n    dispatch(updateRole({ id: roleUpdate.Role_Id, data }))\r\n    handleClose()\r\n  }\r\n  return (\r\n    <>\r\n      <DialogModal\r\n        title=\"Role\"\r\n        modalDialog={modalDialog}\r\n        handleSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <DialogContent dividers className=\"mx-12\">\r\n            <FormInput\r\n              r={register}\r\n              name=\"rolenamesub\"\r\n              label={'Role Name'}\r\n              value={roleUpdate.Role_Name}\r\n              required\r\n            />\r\n            <FormInput\r\n              r={register}\r\n              name=\"roledescription\"\r\n              label={'Description'}\r\n              value={roleUpdate.Role_Description}\r\n              placeholder=\"Type ...\"\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <div className=\"hidden sm:block m-2\">\r\n              <Button layout=\"outline\" onClick={handleClose}>\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n            <div className=\"hidden sm:block m-2\">\r\n              <Button type=\"submit\" color=\"primary\">\r\n                Submit\r\n              </Button>\r\n            </div>\r\n          </DialogActions>\r\n        </form>\r\n      </DialogModal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UpdateRoleModal\r\n","import React, { useEffect, useCallback } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAppDispatch } from '../../store'\r\nimport {\r\n  deleteRole,\r\n  setRoleUpdate,\r\n} from '../../slices/roles'\r\nimport RoleModal from './UpdateRoleModal';\r\nimport { TableCell, TableRow, Badge } from '@windmill/react-ui'\r\n\r\n\r\nconst RoleItem = ({ role }) => {\r\n  const dispatch = useAppDispatch()\r\n  const deleteConfirm = ((e, roleId) => {\r\n      e.preventDefault()\r\n      if (confirm('Delete?')) {\r\n        dispatch(deleteRole(roleId)) \r\n      }\r\n    }\r\n  )\r\n   \r\n  \r\n  const [openUpdate, setOpenUpdate] = React.useState(false)\r\n\r\n  const handleOpenUpdate = (e, role) => {\r\n    e.preventDefault()\r\n    dispatch(setRoleUpdate(role))\r\n    setOpenUpdate(true)\r\n  }\r\n  const handleCloseUpdate = () => {\r\n    setOpenUpdate(false)\r\n  }\r\n  const modalUpdate = {\r\n    open: openUpdate,\r\n    handleOpen: handleOpenUpdate,\r\n    handleClose: handleCloseUpdate,\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <RoleModal modalDialog={modalUpdate} />\r\n      <TableRow key={role.Role_Id}>\r\n        <TableCell>\r\n          <span>{role.Role_Name || role.rolenamesub}</span>\r\n        </TableCell>\r\n        <TableCell>\r\n          <span>{role.Role_Description || role.roledescription}</span>\r\n        </TableCell>\r\n\r\n        <TableCell>\r\n          <Badge\r\n            className=\"hover:bg-green-200 cursor-pointer\"\r\n            type={'success'}\r\n            onClick={(e) => handleOpenUpdate(e, role)}\r\n          >\r\n            Edit\r\n          </Badge>\r\n          {/* <span className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\">\r\n            <span\r\n              aria-hidden\r\n              className=\"absolute inset-0 bg-green-200 opacity-50 rounded-full\"\r\n            />\r\n            <a\r\n              onClick={(e) => handleOpenUpdate(e, role)}\r\n              className=\"relative cursor-pointer\"\r\n            >\r\n              Edit\r\n            </a>\r\n          </span> */}\r\n          <Badge\r\n            className=\"ml-1 hover:bg-red-200 cursor-pointer\"\r\n            type={'danger'}\r\n            onClick={(e) => deleteConfirm(e, role.Role_Id)}\r\n          >\r\n            Delete\r\n          </Badge>\r\n          {/* <span className=\"relative inline-block px-3 ml-1.5 py-1 font-semibold text-green-900 leading-tight\">\r\n            <span\r\n              aria-hidden\r\n              className=\"absolute inset-0 bg-red-400 opacity-50 rounded-full\"\r\n            />\r\n            <a\r\n              onClick={(e) => deleteConfirm(e, role.Role_Id)}\r\n              className=\"relative cursor-pointer text-red-900\"\r\n            >\r\n              Delete\r\n            </a>\r\n          </span> */}\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default RoleItem\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { fetchRoles, rolesSelector, setState } from '../slices/roles'\r\nimport { Link } from 'react-router-dom'\r\nimport RoleItem from '../components/Role/RoleItem'\r\nimport { useAppDispatch } from '../store'\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableBody,\r\n  TableRow,\r\n  TableFooter,\r\n  TableContainer,\r\n  Button,\r\n  Pagination,\r\n} from '@windmill/react-ui'\r\nimport { useToasts } from 'react-toast-notifications'\r\n\r\nconst Roles = () => {\r\n  const dispatch = useAppDispatch()\r\n  const { addToast } = useToasts()\r\n  //roles\r\n  const { updateMess, updateSuccess, roles, loading, hasErrors } =\r\n    useSelector(rolesSelector)\r\n  useEffect(() => {\r\n    dispatch(fetchRoles())\r\n  }, [dispatch])\r\n  //notification delete,update\r\n  useEffect(() => {\r\n    if (updateSuccess) {\r\n      addToast(updateMess, {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n      })\r\n      dispatch(setState())\r\n    }\r\n  }, [updateSuccess])\r\n  //search role\r\n  //setup search\r\n  const [searchTerm, setSearchTerm] = React.useState('')\r\n  const [searchResults, setSearchResults] = React.useState([])\r\n  const handleChange = (e) => {\r\n    setSearchTerm(e.target.value)\r\n  }\r\n  useEffect(() => {\r\n    const results = roles.filter(\r\n      (role) =>\r\n        role.Role_Name.toLowerCase().indexOf(searchTerm.toLowerCase()) != -1\r\n    )\r\n    setSearchResults(results)\r\n  }, [searchTerm])\r\n  //render roles\r\n  const renderRole = () => {\r\n    if (searchTerm == '') { //get full data\r\n      return roles.map((role) => <RoleItem key={role.Role_Id} role={role} />)\r\n    } else {//after using search \r\n      return searchResults.map((role) => (\r\n        <RoleItem key={role.Role_Id} role={role} />\r\n      ))\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <tr>\r\n        <div className=\"loader\">Loading...</div>\r\n      </tr>\r\n    )\r\n  }\r\n  if (hasErrors) return <p>Unable to get Roles.</p>\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n      <div className=\"py-8\">\r\n        <div>\r\n          <div>\r\n            <h1 className=\"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200\">\r\n              Project Role\r\n            </h1>\r\n          </div>\r\n        </div>\r\n        <div className=\"my-2 flex justify-between sm:flex-row flex-col\">\r\n          <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n        \r\n            {/* Ô search */}\r\n            <div className=\"flex relative\">\r\n              <span className=\"h-full absolute inset-y-0 right-2 flex items-center pl-2\">\r\n                <svg\r\n                  viewBox=\"0 0 24 24\"\r\n                  className=\"h-4 w-4 fill-current text-gray-500\"\r\n                >\r\n                  <path d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\"></path>\r\n                </svg>\r\n              </span>\r\n              <input\r\n                placeholder=\"Search\"\r\n                className=\"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\r\n                value={searchTerm}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"flex flex-row mb-1 sm:mb-0\"></div>\r\n          <div className=\"flex\">\r\n            <Link to=\"role-manager/create-role\">\r\n              <Button>Create role</Button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n          <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n            <TableContainer className=\"mb-8\">\r\n              <Table className=\"min-w-full leading-normal\">\r\n                <TableHeader>\r\n                  <tr>\r\n                    <TableCell >\r\n                      Role Name\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      Description\r\n                    </TableCell>\r\n                    <TableCell >\r\n                      Action\r\n                    </TableCell>\r\n                  </tr>\r\n                </TableHeader>\r\n                <TableBody>{renderRole()}</TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Roles\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useAppDispatch } from '../../store'\r\nimport { deleteUser, setRoleUpdate } from '../../slices/pro-user-role'\r\nimport { fetchRoles, rolesSelector } from '../../slices/roles'\r\nimport { useSelector } from 'react-redux'\r\nimport ProjectUserRoleApi from '../../api/pro-user-roleApi'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport {\r\n  orange,\r\n  purple,\r\n  red,\r\n  blue,\r\n  lime,\r\n  blueGrey,\r\n} from '@material-ui/core/colors'\r\nimport { TableCell, TableRow, Button } from '@windmill/react-ui'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport { Select } from '@windmill/react-ui'\r\n\r\n//list colour\r\nconst colours = [\r\n  blue[800],\r\n  orange[500],\r\n  purple[800],\r\n  red[800],\r\n  lime[500],\r\n  blueGrey[800],\r\n]\r\n//random color\r\nconst getColour = () => colours[Math.floor(Math.random() * colours.length)]\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  backgroundColor: {\r\n    color: '#fff',\r\n    backgroundColor: getColour(),\r\n  },\r\n}))\r\nexport default function ProjectUserItems({ dataItem, projectkey }) {\r\n  const dispatch = useAppDispatch()\r\n  const { addToast } = useToasts()\r\n\r\n  //delete user project\r\n  function deleteConfirm(e, userId) {\r\n    let dataDelete = {\r\n      UserId: userId,\r\n      ProjectKey: projectkey,\r\n    }\r\n    e.preventDefault()\r\n    if (confirm('Delete?')) {\r\n      dispatch(deleteUser(dataDelete))\r\n    }\r\n  }\r\n  const [roleId, setroleId] = useState(dataItem.RoleId)\r\n  //load role\r\n  const { roles, loading, hasErrors } = useSelector(rolesSelector)\r\n  useEffect(() => {\r\n    dispatch(fetchRoles())\r\n  }, [dispatch])\r\n  //render role\r\n  var options = roles.map((option) => {\r\n    return (\r\n      <option key={option.Role_Id} value={option.Role_Id}>\r\n        {option.Role_Name}\r\n      </option>\r\n    )\r\n  })\r\n  //update role for user\r\n  const handleChange = (e) => {\r\n    setroleId(e.target.value)\r\n    let data = {\r\n      projectKey: projectkey,\r\n      userId: dataItem.UserId.toString(),\r\n      roleIdNew: e.target.value,\r\n    }\r\n    ProjectUserRoleApi.updateRoleUserInProject(data)\r\n      .then((res) => {\r\n        addToast(res.Msg, {\r\n          appearance: 'success',\r\n          autoDismiss: true,\r\n        })\r\n        \r\n      })\r\n      .catch((err) => {\r\n         addToast(err.response.data.Msg, {\r\n           appearance: 'error',\r\n           autoDismiss: true,\r\n         })\r\n      })\r\n  }\r\n\r\n  ////get avatar user\r\n  const classes = useStyles()\r\n  const Ava = () => {\r\n    let result = []\r\n    dataItem.UserName.split('').forEach((letter) => {\r\n      result.push(letter)\r\n    })\r\n    return <Avatar className={classes.backgroundColor}>{result[0]}</Avatar>\r\n  }\r\n  return (\r\n    <>\r\n      {/* <UpdateUserModal modalDialog={modalUpdate} /> */}\r\n      <TableRow key={dataItem.UserId}>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0 w-10 h-10\">{Ava()}</div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-gray-900 whitespace-no-wrap\">\r\n                {dataItem.UserName}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </TableCell>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n          <p className=\"text-gray-900 whitespace-no-wrap\">\r\n            {dataItem.UserMail}\r\n          </p>\r\n        </TableCell>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n          <p className=\"text-gray-900 whitespace-no-wrap\">\r\n            <Select\r\n              className=\"py-2 px-3 rounded-md border border-purple-500 mt-1\"\r\n              value={roleId}\r\n              onChange={handleChange}\r\n            >\r\n              {options}\r\n            </Select>\r\n          </p>\r\n        </TableCell>\r\n        <td className=\"px-5 py-5 border-b text-center border-gray-200 bg-white text-sm\">\r\n          <span className=\"relative inline-block px-3 py-1 ml-1.5 font-semibold text-green-900 leading-tight\">\r\n            <span\r\n              aria-hidden\r\n              className=\"absolute inset-0 bg-red-400 opacity-50 rounded-full\"\r\n            />\r\n            <a\r\n              onClick={(e) => deleteConfirm(e, dataItem.UserId)}\r\n              className=\"relative cursor-pointer text-red-900\"\r\n            >\r\n              Delete\r\n            </a>\r\n          </span>\r\n        </td>\r\n      </TableRow>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport DialogModal from '../DialogModal'\r\nimport { DialogActions, DialogContent } from '../DialogModal'\r\nimport { Button } from '@windmill/react-ui'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useAppDispatch } from '../../store'\r\nimport { AddUserToProject } from '../../slices/pro-user-role'\r\nimport { fetchRoles, rolesSelector } from '../../slices/roles'\r\nimport { fetchUsers, usersSelector } from '../../slices/users'\r\nimport { useSelector } from 'react-redux'\r\nimport FormInput from '../Form/FormInput'\r\nimport React_Select from 'react-select'\r\nimport {  Select } from '@windmill/react-ui'\r\n\r\nexport default function AddUserProject({ modalDialog }) {\r\n  const { handleClose, projectkey, listUser } = modalDialog\r\n  const { register, handleSubmit } = useForm()\r\n  const dispatch = useAppDispatch()\r\n  //load user\r\n  const { users } = useSelector(usersSelector)\r\n  useEffect(() => {\r\n    dispatch(fetchUsers())\r\n  }, [dispatch])\r\n  const temp = users.filter(\r\n    (item1) => !listUser.some((item2) => item1.User_Id === item2.UserId)\r\n  )\r\n  //options user\r\n  const options_user = temp.map((user) => ({\r\n    value: user.User_Id,\r\n    label: user.User_Name,\r\n  }))\r\n\r\n  //load role\r\n  const { roles } = useSelector(rolesSelector)\r\n  useEffect(() => {\r\n    dispatch(fetchRoles())\r\n  }, [dispatch])\r\n  //options role\r\n  const options_role = roles.map((option) => ({\r\n    value: option.Role_Id,\r\n    label: option.Role_Name,\r\n  }))\r\n  var options = roles.map((option) => {\r\n    return (\r\n      <option key={option.Role_Id} value={option.Role_Id}>\r\n        {option.Role_Name}\r\n      </option>\r\n    )\r\n  })\r\n  \r\n  //arr user selected\r\n  const [arrUser, setarrUser] = useState([])\r\n  const onchangeSelect = (item) => {\r\n    setarrUser(item)\r\n  }\r\n  //submit\r\n  const onSubmit = (data) => {\r\n    let role_name\r\n    roles.map((temp) => {\r\n      if (temp.Role_Id == data.idrole) {\r\n        role_name = temp.Role_Name\r\n      }\r\n    })\r\n    arrUser.map((user) => {\r\n      const postdata = {\r\n        userId: user.value.toString(),\r\n        roleId: data.idrole,\r\n        projectKey: projectkey,\r\n        RoleName: role_name,\r\n      }\r\n      dispatch(AddUserToProject(postdata))\r\n    })\r\n    handleClose()\r\n  }\r\n  return (\r\n    <>\r\n      <DialogModal\r\n        title=\"Grant Permission\"\r\n        modalDialog={modalDialog}\r\n        // handleSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <DialogContent dividers className=\"mx-12\">\r\n            <div className=\"grid grid-cols-1 my-4\">\r\n              <label className=\"uppercase md:text-sm text-xs text-gray-500 text-light\">\r\n                Name\r\n              </label>\r\n              <React_Select\r\n                components={{\r\n                  IndicatorSeparator: () => null,\r\n                }}\r\n                isMulti\r\n                name=\"userId\"\r\n                options={options_user}\r\n                onChange={onchangeSelect}\r\n                className=\"py-2 px-3 rounded-md border border-purple-500 mt-1 \"\r\n                styles={{\r\n                  dropdownIndicator: (base) => ({\r\n                    ...base,\r\n                    padding: 0,\r\n                    // Custom colour\r\n                  }),\r\n                  control: (provided, state) => ({\r\n                    ...provided,\r\n                    boxShadow: 'none',\r\n                    border: 'none',\r\n                  }),\r\n                  menuPortal: (styles) => ({ ...styles, zIndex: 1000 }),\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"grid grid-cols-1 my-4\">\r\n              <label className=\"mt-4\">\r\n                <span> Project Role</span>\r\n              </label>\r\n              <Select\r\n                className=\"py-2 px-3 rounded-md border border-purple-500 mt-1\"\r\n                {...register('idrole')}\r\n              >\r\n                {options}\r\n              </Select>\r\n            </div>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <div className=\"hidden sm:block m-2\">\r\n              <Button layout=\"outline\" onClick={handleClose}>\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n            <div className=\"hidden sm:block m-2\">\r\n              <Button type=\"submit\" color=\"primary\">\r\n                Submit\r\n              </Button>\r\n            </div>\r\n          </DialogActions>\r\n        </form>\r\n      </DialogModal>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAppDispatch } from '../../store'\r\nimport { useSelector } from 'react-redux'\r\nimport axios from 'axios'\r\nimport {\r\n  fetchTransitionStatuss,\r\n  transitionStatussSelector,\r\n} from '../../slices/tra-sta'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { setTransitionUpdate } from '../../slices/transition'\r\nimport transitionApi from '../../api/transitionApi'\r\nimport { deleteTransition } from '../../slices/transition'\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport { TableCell, TableRow, Button,Table, ModalHeader, ModalBody,ModalFooter,Modal,Badge } from '@windmill/react-ui'\r\n\r\nconst TransitionItem = ({ transition }) => {\r\n  const {addToast} = useToasts()\r\n  const dispatch = useAppDispatch()\r\n  const history = useHistory()\r\n\r\n  const [transitionstatuss_temp, setResult] = useState([])\r\n  useEffect(() => {\r\n    if (transition) {\r\n      // transitionApi.getTransitionStatus(transition.TransitionId).then((data) => {\r\n      //   console.log(data.Data)\r\n      //   setResult(data.Data)\r\n      axios({\r\n        method: 'get',\r\n        url: 'http://localhost:5001/api/transition/transition-status?id=' + transition.TransitionId,\r\n        responseType: 'stream'\r\n      })\r\n        .then(function (response) {\r\n          console.log(response)\r\n          setResult(response.data.Data)\r\n        });\r\n      \r\n    }\r\n  }, [])\r\n\r\n  //get transition to detail\r\n  const handleOpenUpdate = (e, transition) => {\r\n    e.preventDefault()\r\n    dispatch(setTransitionUpdate(transition))\r\n    history.push('/app/workflows-manager/transitions-manager/create-transitions')\r\n  }\r\n  const handleOpenTransition = (e, transition) => {\r\n    e.preventDefault()\r\n    \r\n    history.goBack()\r\n  }\r\n\r\n  const renderTransitionStatus = () => {\r\n    if (transitionstatuss_temp != null) {\r\n      console.log(transitionstatuss_temp)\r\n      return transitionstatuss_temp.map((temp) => (\r\n        <li key={temp.StatusId}>{temp.StatusName}</li>\r\n      ))\r\n    } else {\r\n      return <li></li>\r\n    }\r\n  }\r\n  \r\n  const [isModalOpen, setIsModalOpen, deleteP] = useState(false)\r\n\r\n  function openModal() {\r\n    setIsModalOpen(true)\r\n  }\r\n \r\n\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  function deleteConfirm(e, TransitionId) {\r\n    e.preventDefault()\r\n    \r\n      dispatch(deleteTransition(TransitionId))\r\n      addToast(\"Delete Transition Success\", {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n      })\r\n    \r\n  }\r\n  return (\r\n    <>\r\n      {/* <StatusModal modalDialog={modalUpdate} /> */}\r\n      <TableRow key={transition.TransitionId}>\r\n        <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-gray-900 whitespace-no-wrap\">\r\n                <Link to=\"#\">\r\n                  <a className=\"text-black-400 whitespace-no-wrap\">\r\n                    {transition.TransitionName} \r\n                    \r\n                  </a>\r\n                  <a className=\"text-red-400 whitespace-no-wrap\">\r\n                    ({transition.TransitionId})\r\n                    \r\n                  </a>\r\n                </Link>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </td>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n          \r\n          <span>{transition.Status1Name}</span>\r\n        </TableCell>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n          \r\n          <span>{transition.Status2Name}</span>\r\n        </TableCell>\r\n        \r\n\r\n        <TableCell className=\"px-5 py-5 text-center border-b border-gray-200 bg-white text-sm\">\r\n          {/* <span className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\">\r\n            <span\r\n              aria-hidden\r\n              className=\"absolute inset-0 bg-green-200 opacity-50 rounded-full\"\r\n            />\r\n            <a\r\n              onClick={(e) => handleOpenUpdate(e, transition)}\r\n              className=\"relative cursor-pointer\"\r\n            >\r\n              Add Status\r\n            </a>\r\n          </span> */}\r\n          \r\n         \r\n          <Badge \r\n              className=\"hover:bg-red-200 cursor-pointer\"\r\n              type={'danger'}\r\n              onClick={openModal}\r\n          >\r\n              Delete\r\n          </Badge>\r\n          <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n        <ModalHeader>Delete Transition</ModalHeader>\r\n        <ModalBody>\r\n          Are you sure DELETE this Transition!\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          {/* I don't like this approach. Consider passing a prop to ModalFooter\r\n           * that if present, would duplicate the buttons in a way similar to this.\r\n           * Or, maybe find some way to pass something like size=\"large md:regular\"\r\n           * to Button\r\n           */}\r\n          <div className=\"hidden sm:block\">\r\n            <Button layout=\"outline\" onClick={closeModal}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n          <div className=\"hidden sm:block\" onClick={(e) => deleteConfirm(e, transition.TransitionId)}>\r\n            <Button>Accept</Button>\r\n          </div>\r\n          <div className=\"block w-full sm:hidden\">\r\n            <Button block size=\"large\" layout=\"outline\" onClick={closeModal}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n          <div className=\"block w-full sm:hidden\">\r\n            <Button block size=\"large\">\r\n              Accept\r\n            </Button>\r\n          </div>\r\n        </ModalFooter>\r\n      </Modal>\r\n          {/* <span className=\"relative inline-block px-3 ml-1.5 py-1 font-semibold text-green-900 leading-tight\">\r\n                <span\r\n                  aria-hidden\r\n                  className=\"absolute inset-0 bg-red-400 opacity-50 rounded-full\"\r\n                />\r\n                <a\r\n                  // onClick={(e) => deleteConfirm(e,status.Status_Id)}\r\n                  className=\"relative cursor-pointer text-red-900\"\r\n                >\r\n                  Delete\r\n                </a>\r\n              </span> */}\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TransitionItem\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAppDispatch } from '../../store'\r\nimport { useSelector } from 'react-redux'\r\nimport axios from 'axios'\r\nimport {\r\n  fetchTransitionStatuss,\r\n  transitionStatussSelector,\r\n} from '../../slices/tra-sta'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { setTransitionUpdate } from '../../slices/transition'\r\nimport transitionApi from '../../api/transitionApi'\r\nimport { deleteTransition } from '../../slices/transition'\r\nimport { TableCell, TableRow, Button,Table, ModalHeader, ModalBody,ModalFooter,Modal,Badge } from '@windmill/react-ui'\r\n\r\nconst TransitionItemForProject = ({ transition }) => {\r\n  const dispatch = useAppDispatch()\r\n  const history = useHistory()\r\n\r\n  const [transitionstatuss_temp, setResult] = useState([])\r\n  useEffect(() => {\r\n    if (transition) {\r\n      // transitionApi.getTransitionStatus(transition.TransitionId).then((data) => {\r\n      //   console.log(data.Data)\r\n      //   setResult(data.Data)\r\n      axios({\r\n        method: 'get',\r\n        url: 'http://localhost:5001/api/transition/transition-status?id=' + transition.TransitionId,\r\n        responseType: 'stream'\r\n      })\r\n        .then(function (response) {\r\n          console.log(response)\r\n          setResult(response.data.Data)\r\n        });\r\n      \r\n    }\r\n  }, [])\r\n\r\n  //get transition to detail\r\n  const handleOpenUpdate = (e, transition) => {\r\n    e.preventDefault()\r\n    dispatch(setTransitionUpdate(transition))\r\n    history.push('/create-transitions')\r\n  }\r\n  const handleOpenTransition = (e, transition) => {\r\n    e.preventDefault()\r\n    \r\n    history.push('/transitions-manager')\r\n  }\r\n\r\n  const renderTransitionStatus = () => {\r\n    if (transitionstatuss_temp != null) {\r\n      console.log(transitionstatuss_temp)\r\n      return transitionstatuss_temp.map((temp) => (\r\n        <li key={temp.StatusId}>{temp.StatusName}</li>\r\n      ))\r\n    } else {\r\n      return <li></li>\r\n    }\r\n  }\r\n  function deleteConfirm(e, TransitionId) {\r\n    e.preventDefault()\r\n    if (confirm('Delete?')) {\r\n      dispatch(deleteTransition(TransitionId))\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      {/* <StatusModal modalDialog={modalUpdate} /> */}\r\n      <TableRow key={transition.TransitionId}>\r\n      <TableCell className=\"px-5 py-5 font-semibold border-b border-gray-200 bg-white text-sm\">\r\n          \r\n          <span>{transition.TransitionName}({transition.TransitionId})</span>\r\n        </TableCell>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n          \r\n          <span>{transition.Status1Name}</span>\r\n        </TableCell>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n          \r\n          <span>{transition.Status2Name}</span>\r\n        </TableCell>\r\n        \r\n\r\n        <td className=\"px-5 py-5 text-center border-b border-gray-200 bg-white text-sm\">\r\n          {/* <span className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\">\r\n            <span\r\n              aria-hidden\r\n              className=\"absolute inset-0 bg-green-200 opacity-50 rounded-full\"\r\n            />\r\n            <a\r\n              onClick={(e) => handleOpenUpdate(e, transition)}\r\n              className=\"relative cursor-pointer\"\r\n            >\r\n              Add Status\r\n            </a>\r\n          </span> */}\r\n          \r\n        \r\n          {/* <span className=\"relative inline-block px-3 ml-1.5 py-1 font-semibold text-green-900 leading-tight\">\r\n                <span\r\n                  aria-hidden\r\n                  className=\"absolute inset-0 bg-red-400 opacity-50 rounded-full\"\r\n                />\r\n                <a\r\n                  // onClick={(e) => deleteConfirm(e,status.Status_Id)}\r\n                  className=\"relative cursor-pointer text-red-900\"\r\n                >\r\n                  Delete\r\n                </a>\r\n              </span> */}\r\n        </td>\r\n      </TableRow>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TransitionItemForProject\r\n","import React, { useEffect, useState } from 'react'\r\nimport { fetchTransitions,getDataByIdWorkflow,transitionsSelector } from '../slices/transition'\r\nimport { fetchTransitionStatuss,transitionStatussSelector } from '../slices/tra-sta'\r\nimport { useAppDispatch } from '../store'\r\nimport { useSelector } from 'react-redux'\r\nimport TransitionItem from '../components/Transition/TransitionItem'\r\nimport { Link } from 'react-router-dom'\r\nimport { workflowsSelector } from '../slices/workflows'\r\nimport { projectsSelector } from '../slices/projects'\r\nimport TransitionItemForProject from '../components/Transition/TransitionItemForProject'\r\nimport workflowApi from '../api/workflowApi' \r\nimport axios from 'axios'\r\nimport { getDataNameByIdWorkflow } from '../slices/workflows'\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableBody,\r\n  TableRow,\r\n  TableFooter,\r\n  TableContainer,\r\n  Button,\r\n  Pagination,\r\n  Select\r\n} from '@windmill/react-ui'\r\nconst  TransitionManagerForProject= (project) => {\r\n\r\n  const {workflowUpdate} = useSelector(workflowsSelector)\r\n\r\n    localStorage.setItem('Project', JSON.stringify(workflowUpdate))\r\n  \r\n  let temp = JSON.parse(localStorage.getItem('Project') || '[]' )\r\n  console.log(temp)\r\n  \r\n  const [fullData, setResult] = useState({})\r\n  useEffect( () => {\r\n  \r\n      // transitionApi.getTransitionStatus(transition.TransitionId).then((data) => {\r\n      //   console.log(data.Data)\r\n      //   setResult(data.Data)\r\n      console.log(\"kkkk\")      \r\n      const axiosGet = async() => axios({\r\n        method: 'get',\r\n        url: 'http://localhost:5001/api/workflows?id=' + temp.WorkflowId,\r\n        responseType: 'stream'\r\n      })\r\n        .then(function (response) {\r\n          \r\n          if(response.data.Data)\r\n          setResult(response.data.Data[0])\r\n        });\r\n      \r\n        axiosGet();\r\n  }, [])  \r\n    \r\n    const dispatch = useAppDispatch()\r\n    const { transitions,loading, hasErrors } = useSelector(transitionsSelector)\r\n   useEffect(() => {\r\n    \r\n    dispatch(getDataByIdWorkflow(temp.WorkflowId)) \r\n    }, [dispatch])\r\n    // setup pages control for every table\r\n  const [pageTable1, setPageTable1] = useState(1)\r\n  // setup data for every table \r\n  const [dataTable1, setDataTable1] = useState([])\r\n  // pagination setup\r\n  const resultsPerPage =5\r\n  const totalResults = transitions.length\r\n  // pagination change control\r\n  function onPageChangeTable1(p) {\r\n    setPageTable1(p)\r\n  }\r\n  // on page change, load new sliced data\r\n  // here you would make another server request for new data\r\n  useEffect(() => {\r\n    setDataTable1(transitions.slice((pageTable1 - 1) * resultsPerPage, pageTable1 * resultsPerPage))\r\n  }, [transitions, pageTable1])\r\n    const renderTransition = () =>\r\n       {    if(transitions)\r\n            return dataTable1.map((transition)=>\r\n            <TransitionItemForProject key={transition.TransitionId} transition={transition} />\r\n        )\r\n        else return <div>NULL</div>\r\n    }\r\n    const dispatch1 = useAppDispatch()\r\n    const{worklfows, loading1, hasErrors1} = useSelector(workflowsSelector)\r\n    useEffect(() => {\r\n      dispatch1(getDataNameByIdWorkflow(temp.WorkflowId))\r\n    }, [dispatch1])\r\n    console.log(worklfows)\r\n \r\n  \r\n  \r\n    if (loading) {\r\n      return (\r\n        <tr>\r\n          <div className=\"loader\">Loading...</div>\r\n        </tr>\r\n      )\r\n    }\r\n\r\n    if (hasErrors) return <p>Unable to get Transition.</p>\r\n    return (\r\n        <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n        <div className=\"py-8\">\r\n        <div>\r\n            <h1 className=\"text-2xl font-semibold leading-tight\">{fullData.WorkflowName}</h1>\r\n            \r\n          </div>\r\n          <div>\r\n            <h2 className=\"text-2xl font-semibold leading-tight\"> {fullData.WorkflowDescription}</h2>\r\n            \r\n          </div>\r\n          <div className=\"my-2 flex justify-between sm:flex-row flex-col\">\r\n          <div className=\"flex\">\r\n            \r\n            {/* <Link to=\"/invite-user\">\r\n              <button className=\"bg-white border shadow-sm px-3 py-1.5 rounded-md hover:text-green-500 text-gray-700 ml-1\">\r\n                Invite Users\r\n              </button>\r\n            </Link> */}\r\n          </div>\r\n        </div>\r\n          <div className=\"my-2 flex justify-between sm:flex-row flex-col\">\r\n            <div className=\"flex\">\r\n              {/* <Link to=\"/create-statuss\">\r\n                <button className=\"bg-white border shadow-sm px-3 py-1.5 rounded-md hover:text-green-500 text-gray-700\">\r\n                  Create status\r\n                </button>\r\n              </Link> */}\r\n              {/* <Link to=\"/invite-user\">\r\n                <button className=\"bg-white border shadow-sm px-3 py-1.5 rounded-md hover:text-green-500 text-gray-700 ml-1\">\r\n                  Invite Users\r\n                </button>\r\n              </Link> */}\r\n            </div>\r\n          </div>\r\n          <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n            <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n              <table className=\"min-w-full leading-normal\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Name Transition (ID)\r\n                    </th>\r\n                    \r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Status 1\r\n                    </th>\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Status 2\r\n                    </th>\r\n                   \r\n                    {/* <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Group name\r\n                    </th> */}\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      {/* Action */}\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>{renderTransition()}</tbody>\r\n              </table>\r\n              <Pagination\r\n            totalResults={totalResults}\r\n            resultsPerPage={resultsPerPage}\r\n            onChange={onPageChangeTable1}\r\n            label=\"Table navigation\"\r\n          />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\nexport default TransitionManagerForProject","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { unwrapResult } from '@reduxjs/toolkit'\r\nimport { updateIssue } from '../../slices/issues'\r\nimport {\r\n  selectIssueById,\r\n  selectUserList,\r\n  fetchUserList,\r\n} from '../../slices/issues'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n  Input,\r\n  Label,\r\n  Select,\r\n  Textarea,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button,\r\n  Badge,\r\n} from '@windmill/react-ui'\r\n\r\nexport const UpdateIssueForm = ({ issue }) => {\r\n  const dispatch = useDispatch()\r\n  const { register, handleSubmit, reset } = useForm()\r\n  const [name, setName] = useState(issue.Name)\r\n  const [key, setKey] = useState(issue.Key)\r\n  const [project, setProject] = useState(issue.Project)\r\n  const [projectName, setProjectName] = useState(issue.Project_Name)\r\n  const [issueTypeName, setIssueTypeName] = useState(issue.Issue_Type_Name)\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n\r\n  const [status, setStatus] = useState(issue.Status)\r\n  const [editRequestStatus, setEditRequestStatus] = useState('idle')\r\n  const userList = useSelector(selectUserList)\r\n  useEffect(() => {\r\n    if (isModalOpen) {\r\n      dispatch(fetchUserList({ project: project }))\r\n    }\r\n  }, [dispatch, isModalOpen])\r\n  const onNameChanged = (e) => setName(e.target.value)\r\n  const onStatusChanged = (e) => setStatus(e.target.value)\r\n  const canSave =\r\n    [name, key, status].every(Boolean) && editRequestStatus === 'idle'\r\n  const history = useHistory()\r\n  const onSaveIssueClicked = async (data) => {\r\n    if (canSave) {\r\n      try {\r\n        const newIssue = { ...issue, Key: key, Name: name, Status: status }\r\n        newIssue.Fields = newIssue.Fields\r\n          ? newIssue.Fields.map((item) => ({\r\n              ...item,\r\n              Value: data[item.Name],\r\n            }))\r\n          : []\r\n        setEditRequestStatus('pending')\r\n        const resultAction = await dispatch(updateIssue(newIssue))\r\n        unwrapResult(resultAction)\r\n      } catch (err) {\r\n        console.error('Failed to save the issue: ', err)\r\n        setName(issue.Name)\r\n        reset({})\r\n      } finally {\r\n        setEditRequestStatus('idle')\r\n        closeModal()\r\n      }\r\n    }\r\n  }\r\n  function openModal() {\r\n    setIsModalOpen(true)\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  const userOptions = userList.map((item) => (\r\n    <option key={item.User_Id} value={item.User_Full_Name}>\r\n      {item.User_Full_Name}\r\n    </option>\r\n  ))\r\n  const transitionOptions = issue.Transitions?.map((item) => (\r\n    <option key={item.Id_Transition} value={item.Name_Status2}>\r\n      {`${item.Name_Transition} -> ${item.Name_Status2}`}\r\n    </option>\r\n  ))\r\n  let inputFields\r\n  if (issue.Fields && issue.Fields.length !== 0) {\r\n    inputFields = issue.Fields.map((item) => {\r\n      switch (item.Field_Type) {\r\n        case 'Text':\r\n          return (\r\n            <Label key={item.Name} className=\"m-2\">\r\n              <span>{item.Name}</span>\r\n              <Input\r\n                className=\"mt-1\"\r\n                {...register(item.Name)}\r\n                defaultValue={item.Value}\r\n              />\r\n            </Label>\r\n          )\r\n        case 'Date':\r\n          return (\r\n            <Label key={item.Name} className=\"m-2\">\r\n              <span>{item.Name}</span>\r\n              <Input\r\n                type=\"date\"\r\n                className=\"mt-1\"\r\n                {...register(item.Name)}\r\n                defaultValue={item.Value}\r\n              />\r\n            </Label>\r\n          )\r\n        case 'Text area':\r\n          return (\r\n            <Label key={item.Name} className=\"m-2\">\r\n              <span>{item.Name}</span>\r\n              <Textarea\r\n                className=\"mt-1\"\r\n                {...register(item.Name)}\r\n                defaultValue={item.Value}\r\n              />\r\n            </Label>\r\n          )\r\n        case 'People':\r\n          return (\r\n            <Label key={item.Name} className=\"m-2\">\r\n              <span>{item.Name}</span>\r\n              <Select\r\n                className=\"mt-1\"\r\n                {...register(item.Name)}\r\n                defaultValue={item.Value}\r\n              >\r\n                <option value=\"\"></option>\r\n                {userOptions}\r\n              </Select>\r\n            </Label>\r\n          )\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Badge\r\n        className=\"hover:bg-green-200 cursor-pointer\"\r\n        type={'success'}\r\n        onClick={openModal}\r\n      >\r\n        Edit\r\n      </Badge>\r\n\r\n      <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n        <ModalHeader className=\"m-2\">Edit a issue</ModalHeader>\r\n        <ModalBody class=\"overflow-auto h-80\">\r\n          <Label className=\"m-2\">\r\n            <span>Name</span>\r\n            <Input className=\"mt-1\" value={name} onChange={onNameChanged} />\r\n          </Label>\r\n          <Label className=\"m-2\">\r\n            <span>Key</span>\r\n            <Input className=\"mt-1\" value={key} disabled={true} />\r\n          </Label>\r\n          <Label className=\"m-2\">\r\n            <span>Project</span>\r\n            <Input\r\n              className=\"mt-1\"\r\n              placeholder=\"Jane Doe\"\r\n              value={projectName}\r\n              disabled={true}\r\n            />\r\n          </Label>\r\n          <Label className=\"m-2\">\r\n            <span>Issue type</span>\r\n            <Input\r\n              className=\"mt-1\"\r\n              placeholder=\"Jane Doe\"\r\n              value={issueTypeName}\r\n              disabled={true}\r\n            />\r\n          </Label>\r\n\r\n          <Label className=\"m-2\">\r\n            <span>{status}</span>\r\n            <Select className=\"mt-1\" value=\"\" onChange={onStatusChanged}>\r\n              <option value=\"\"></option>\r\n              {transitionOptions}\r\n            </Select>\r\n          </Label>\r\n          {inputFields}\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <div className=\"hidden sm:block\">\r\n            <Button layout=\"outline\" onClick={closeModal}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n          <div className=\"hidden sm:block\">\r\n            <Button\r\n              onClick={handleSubmit(onSaveIssueClicked)}\r\n              disabled={!canSave}\r\n            >\r\n              Accept\r\n            </Button>\r\n          </div>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { selectAllIssues, fetchIssues, deleteIssue } from '../slices/issues'\r\nimport { fetchProjects, selectAllProjects } from '../slices/projects'\r\nimport { selectAllIssueTypes, fetchIssueTypes } from '../slices/issueTypes'\r\nimport { fetchStatuss } from '../slices/statuss'\r\nimport { fetchUsers } from '../slices/users'\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button,\r\n  TableBody,\r\n  TableContainer,\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableRow,\r\n  TableFooter,\r\n  Avatar,\r\n  Badge,\r\n  Pagination,\r\n  Label,\r\n  Select,\r\n  Input,\r\n} from '@windmill/react-ui'\r\nimport { UpdateIssueForm } from '../components/Issue/UpdateIssueForm'\r\n\r\nconst IssueExcerpt = ({ issue, openModal }) => {\r\n  return (\r\n    <TableRow key={issue.Id}>\r\n      <TableCell>\r\n        <div className=\"flex items-center text-sm\">\r\n          <div>\r\n            <p className=\"font-semibold\">{`${issue.Name} (${issue.Key})`}</p>\r\n          </div>\r\n        </div>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">{`${issue.Project_Name} (${issue.Project})`}</span>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">{issue.Issue_Type_Name}</span>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">{issue.Status}</span>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">\r\n          {issue.Fields?.find((item) => item.Name === 'Assignee')?.Value}\r\n        </span>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">\r\n          {issue.Fields?.find((item) => item.Name === 'Due Date')?.Value}\r\n        </span>\r\n      </TableCell>\r\n      <TableCell>\r\n        <UpdateIssueForm issue={issue} />\r\n        <Badge\r\n          className=\"ml-1 hover:bg-red-200 cursor-pointer\"\r\n          type={'danger'}\r\n          onClick={() => openModal(issue.Id)}\r\n        >\r\n          Delete\r\n        </Badge>\r\n      </TableCell>\r\n    </TableRow>\r\n    //  <td className=\"px-5 py-5 text-center border-b border-gray-200 bg-white text-sm\">\r\n    //   <span className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\">\r\n    //     <span\r\n    //       aria-hidden\r\n    //       className=\"absolute inset-0 bg-green-200 opacity-50 rounded-full\"\r\n    //     />\r\n    //     <Link\r\n    //       to={`/editIssue/${issue.Id}`}\r\n    //       className=\"relative cursor-pointer\"\r\n    //     >\r\n    //       Edit\r\n    //     </Link>\r\n    //   </span>\r\n  )\r\n}\r\n\r\nexport const Issues = () => {\r\n  const dispatch = useDispatch()\r\n  const issues = useSelector(selectAllIssues)\r\n  const issueStatus = useSelector((state) => state.issues.status)\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const [id, setId] = useState()\r\n  const error = useSelector((state) => state.issues.error)\r\n  const projects = useSelector(selectAllProjects)\r\n  const projectStatus = useSelector((state) => state.projects.loading)\r\n  const projectsOptions = projects.map((project) => (\r\n    <option key={project.ProjectKey} value={project.ProjectKey}>\r\n      {project.ProjectName}\r\n    </option>\r\n  ))\r\n  const [project, setProject] = useState('')\r\n  const onProjectChanged = (e) => setProject(e.target.value)\r\n  const issueTypes = useSelector(selectAllIssueTypes)\r\n  const issueTypeStatus = useSelector((state) => state.issueTypes.status)\r\n  const issueTypesOptions = issueTypes.map((issueType) => (\r\n    <option key={issueType.Id} value={issueType.Name}>\r\n      {issueType.Name}\r\n    </option>\r\n  ))\r\n  const [issueType, setIssueType] = useState('')\r\n  const onIssueTypeChanged = (e) => setIssueType(e.target.value)\r\n\r\n  const statuses = useSelector((state) => state.statuss.statuss)\r\n  const statusesLoading = useSelector((state) => state.statuss.loading)\r\n  const statusesOptions = statuses.map((status) => (\r\n    <option key={status.StatusId} value={status.StatusName}>\r\n      {status.StatusName}\r\n    </option>\r\n  ))\r\n  const [status, setStatus] = useState('')\r\n  const onStatusChanged = (e) => setStatus(e.target.value)\r\n\r\n  const users = useSelector((state) => state.users.users)\r\n  const usersLoading = useSelector((state) => state.users.loading)\r\n  const usersOptions = users.map((user) => (\r\n    <option key={user.User_Id} value={user.User_Full_Name}>\r\n      {user.User_Full_Name}\r\n    </option>\r\n  ))\r\n  const [user, setUser] = useState('')\r\n  const onUserChanged = (e) => setUser(e.target.value)\r\n  const [fromDate, setFromDate] = useState('')\r\n  const onFromDateChanged = (e) => setFromDate(e.target.value)\r\n  const [toDate, setToDate] = useState('')\r\n  const onToDateChanged = (e) => setToDate(e.target.value)\r\n  localStorage.setItem('IssuesAll', JSON.stringify(issues))\r\n  const [page, setPage] = useState(1)\r\n  const [data, setData] = useState([])\r\n  // pagination setup\r\n  const resultsPerPage = 10\r\n  const [totalResults, setTotalResults] = useState(issues.length)\r\n\r\n  // pagination change control\r\n  function onPageChange(p) {\r\n    setPage(p)\r\n  }\r\n  useEffect(() => {\r\n    if (issueStatus === 'idle') {\r\n      dispatch(fetchIssues())\r\n    }\r\n    if (issueTypeStatus === 'idle') {\r\n      dispatch(fetchIssueTypes())\r\n    }\r\n    if (statuses.length === 0) {\r\n      dispatch(fetchStatuss())\r\n    }\r\n    if (users.length === 0) {\r\n      dispatch(fetchUsers())\r\n    }\r\n  }, [issueStatus, issueTypeStatus, dispatch])\r\n  useEffect(() => {\r\n    if (projects.length === 0 && projectStatus === false) {\r\n      dispatch(fetchProjects())\r\n    }\r\n    let filteredIssues = issues\r\n    if (project)\r\n      filteredIssues = filteredIssues.filter((item) => item.Project === project)\r\n    if (issueType)\r\n      filteredIssues = filteredIssues.filter(\r\n        (item) => item.Issue_Type_Name === issueType\r\n      )\r\n    if (status)\r\n      filteredIssues = filteredIssues.filter((item) => item.Status === status)\r\n    if (user)\r\n      filteredIssues = filteredIssues.filter(\r\n        (item) =>\r\n          item.Fields?.find((item) => item.Name === 'Assignee')?.Value === user\r\n      )\r\n    if (fromDate) {\r\n      const date = new Date(fromDate)\r\n      filteredIssues = filteredIssues.filter((item) => {\r\n        let date2 = new Date(\r\n          item.Fields?.find((item) => item.Name === 'Due Date')?.Value\r\n        )\r\n        return date2 ? date2 >= date : false\r\n      })\r\n    }\r\n    if (toDate) {\r\n      const date = new Date(toDate)\r\n      filteredIssues = filteredIssues.filter((item) => {\r\n        let date2 = new Date(\r\n          item.Fields?.find((item) => item.Name === 'Due Date')?.Value\r\n        )\r\n        return date2 ? date2 <= date : false\r\n      })\r\n    }\r\n    setTotalResults(filteredIssues.length)\r\n    setData(\r\n      filteredIssues.slice((page - 1) * resultsPerPage, page * resultsPerPage)\r\n    )\r\n  }, [issues, page, project, issueType, status, user, fromDate, toDate])\r\n  function openModal(id) {\r\n    setIsModalOpen(true)\r\n    setId(id)\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  function deleteConfirm(e, Id) {\r\n    e.preventDefault()\r\n    dispatch(deleteIssue({ Id }))\r\n    closeModal()\r\n  }\r\n  let content\r\n\r\n  if (\r\n    issueStatus === 'loading' ||\r\n    projectStatus === true ||\r\n    issueTypeStatus === 'loading' ||\r\n    statusesLoading === true ||\r\n    usersLoading === true\r\n  ) {\r\n    content = <div className=\"loader\">Loading...</div>\r\n  } else if (\r\n    issueStatus === 'succeeded' &&\r\n    projectStatus === false &&\r\n    issueTypeStatus === 'succeeded' &&\r\n    statusesLoading === false &&\r\n    usersLoading === false\r\n  ) {\r\n    let tbody = data.map((issue) => {\r\n      return <IssueExcerpt key={issue.Id} issue={issue} openModal={openModal} />\r\n    })\r\n    content = (\r\n      <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n        <div className=\"py-8\">\r\n          <div className=\"mb-5 my-2 flex justify-between sm:flex-row flex-col\">\r\n            <h2 className=\"text-2xl font-semibold leading-tight\">Issues</h2>\r\n            <div className=\"flex justify-between sm:flex-row flex-col\">\r\n              <Label className=\"m-2\">\r\n                <span className=\"text-1xl font-semibold leading-tight\">\r\n                  Project:\r\n                </span>\r\n                <Select\r\n                  className=\"mt-1\"\r\n                  value={project}\r\n                  onChange={onProjectChanged}\r\n                >\r\n                  <option value=\"\"></option>\r\n                  {projectsOptions}\r\n                </Select>\r\n              </Label>\r\n              <Label className=\"m-2\">\r\n                <span className=\"text-1xl font-semibold leading-tight\">\r\n                  Issue type:\r\n                </span>\r\n                <Select\r\n                  className=\"mt-1\"\r\n                  value={issueType}\r\n                  onChange={onIssueTypeChanged}\r\n                >\r\n                  <option value=\"\"></option>\r\n                  {issueTypesOptions}\r\n                </Select>\r\n              </Label>\r\n              <Label className=\"m-2\">\r\n                <span className=\"text-1xl font-semibold leading-tight\">\r\n                  Status:\r\n                </span>\r\n                <Select\r\n                  className=\"mt-1\"\r\n                  value={status}\r\n                  onChange={onStatusChanged}\r\n                >\r\n                  <option value=\"\"></option>\r\n                  {statusesOptions}\r\n                </Select>\r\n              </Label>\r\n              <Label className=\"m-2\">\r\n                <span className=\"text-1xl font-semibold leading-tight\">\r\n                  Assignee:\r\n                </span>\r\n                <Select className=\"mt-1\" value={user} onChange={onUserChanged}>\r\n                  <option value=\"\"></option>\r\n                  {usersOptions}\r\n                </Select>\r\n              </Label>\r\n              <Label className=\"m-2\">\r\n                <span className=\"text-1xl font-semibold leading-tight\">\r\n                  From date:\r\n                </span>\r\n                <Input\r\n                  type=\"date\"\r\n                  className=\"mt-1\"\r\n                  value={fromDate}\r\n                  onChange={onFromDateChanged}\r\n                />\r\n              </Label>\r\n              <Label className=\"m-2\">\r\n                <span className=\"text-1xl font-semibold leading-tight\">\r\n                  To date:\r\n                </span>\r\n                <Input\r\n                  type=\"date\"\r\n                  className=\"mt-1\"\r\n                  value={toDate}\r\n                  onChange={onToDateChanged}\r\n                />\r\n              </Label>\r\n            </div>\r\n          </div>\r\n          <TableContainer>\r\n            <Table>\r\n              <TableHeader>\r\n                <tr>\r\n                  <TableCell>Name</TableCell>\r\n                  <TableCell>Project</TableCell>\r\n                  <TableCell>Issue type</TableCell>\r\n                  <TableCell>Status</TableCell>\r\n                  <TableCell>Assignee</TableCell>\r\n                  <TableCell>Due Date</TableCell>\r\n                  <TableCell>Action</TableCell>\r\n                </tr>\r\n              </TableHeader>\r\n              <TableBody>{tbody}</TableBody>\r\n            </Table>\r\n            <TableFooter>\r\n              <Pagination\r\n                totalResults={totalResults}\r\n                resultsPerPage={resultsPerPage}\r\n                label=\"Table navigation\"\r\n                onChange={onPageChange}\r\n              />\r\n            </TableFooter>\r\n          </TableContainer>\r\n          <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n            <ModalHeader>Delete ?</ModalHeader>\r\n            <ModalBody>\r\n              {\r\n                \"You're about to permanently this and all of its data. If you're not sure, you can close this instead.\"\r\n              }\r\n            </ModalBody>\r\n            <ModalFooter>\r\n              <div className=\"hidden sm:block\">\r\n                <Button layout=\"outline\" onClick={closeModal}>\r\n                  Cancel\r\n                </Button>\r\n              </div>\r\n              <div className=\"hidden sm:block\">\r\n                <Button onClick={(e) => deleteConfirm(e, id)}>Accept</Button>\r\n              </div>\r\n            </ModalFooter>\r\n          </Modal>\r\n        </div>\r\n      </div>\r\n    )\r\n  } else if (issueStatus === 'failed') {\r\n    content = <div>{error}</div>\r\n  }\r\n\r\n  return <section className=\"issues-list\">{content}</section>\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { selectAllIssues, fetchIssues, deleteIssue } from '../slices/issues'\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button,\r\n  TableBody,\r\n  TableContainer,\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableRow,\r\n  TableFooter,\r\n  Avatar,\r\n  Badge,\r\n  Pagination,\r\n} from '@windmill/react-ui'\r\nimport { UpdateIssueForm } from '../components/Issue/UpdateIssueForm'\r\n\r\nconst IssueExcerpt = ({ issue, openModal }) => {\r\n  return (\r\n    <TableRow key={issue.Id}>\r\n      <TableCell>\r\n        <div className=\"flex items-center text-sm\">\r\n          <div>\r\n            <p className=\"font-semibold\">{`${issue.Name} (${issue.Key})`}</p>\r\n          </div>\r\n        </div>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">{`${issue.Project_Name} (${issue.Project})`}</span>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">{issue.Issue_Type_Name}</span>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">{issue.Status}</span>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">\r\n          {issue.Fields?.find((item) => item.Name === 'Assignee')?.Value}\r\n        </span>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">\r\n          {issue.Fields?.find((item) => item.Name === 'Due Date')?.Value}\r\n        </span>\r\n      </TableCell>\r\n      <TableCell>\r\n        <UpdateIssueForm issue={issue} />\r\n        <Badge\r\n          className=\"ml-1 hover:bg-red-200 cursor-pointer\"\r\n          type={'danger'}\r\n          onClick={() => openModal(issue.Id)}\r\n        >\r\n          Delete\r\n        </Badge>\r\n      </TableCell>\r\n    </TableRow>\r\n  )\r\n}\r\n\r\nexport const IssuesByProject = ({ match }) => {\r\n  const { project } = match.params\r\n  const dispatch = useDispatch()\r\n  const issues = useSelector(selectAllIssues)\r\n\r\n  const status = useSelector((state) => state.issues.status)\r\n  const error = useSelector((state) => state.issues.error)\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const [id, setId] = useState()\r\n  const [page, setPage] = useState(1)\r\n  const [data, setData] = useState([])\r\n  const resultsPerPage = 10\r\n \r\n\r\n  // pagination change control\r\n  function onPageChange(p) {\r\n    setPage(p)\r\n  }\r\n  useEffect(() => {\r\n    if (status === 'idle') {\r\n      dispatch(fetchIssues())\r\n    }\r\n  }, [status, dispatch])\r\n  const filteredIssues = issues.filter((issue) => issue.Project === project)\r\n  const totalResults = filteredIssues.length\r\n  useEffect(() => {\r\n    setData(filteredIssues.slice((page - 1) * resultsPerPage, page * resultsPerPage))\r\n  }, [issues, page])\r\n  function openModal(id) {\r\n    setIsModalOpen(true)\r\n    setId(id)\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  function deleteConfirm(e, Id) {\r\n    e.preventDefault()\r\n    dispatch(deleteIssue({ Id }))\r\n    closeModal()\r\n  }\r\n  let content\r\n\r\n  if (status === 'loading') {\r\n    content = <div className=\"loader\">Loading...</div>\r\n  } else if (status === 'succeeded') {\r\n   \r\n    let tbody = data.map((issue) => {\r\n      return <IssueExcerpt key={issue.Id} issue={issue} openModal={openModal} />\r\n    })\r\n    content = (\r\n      <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n        <div className=\"py-8\">\r\n        <div className=\"mb-5 my-2 flex justify-between sm:flex-row flex-col\">\r\n            <h2 className=\"text-2xl font-semibold leading-tight\">Issues</h2>\r\n          </div>\r\n        <TableContainer>\r\n            <Table>\r\n              <TableHeader>\r\n                <tr>\r\n                  <TableCell>Name</TableCell>\r\n\r\n                  <TableCell>Project</TableCell>\r\n                  <TableCell>Issue type</TableCell>\r\n                  <TableCell>Status</TableCell>\r\n                  <TableCell>Assignee</TableCell>\r\n                  <TableCell>Due Date</TableCell>\r\n                  <TableCell>Action</TableCell>\r\n                </tr>\r\n              </TableHeader>\r\n              <TableBody>{tbody}</TableBody>\r\n            </Table>\r\n            <TableFooter>\r\n              <Pagination\r\n                totalResults={totalResults}\r\n                resultsPerPage={resultsPerPage}\r\n                label=\"Table navigation\"\r\n                onChange={onPageChange}\r\n              />\r\n            </TableFooter>\r\n          </TableContainer>\r\n          <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n            <ModalHeader>Delete ?</ModalHeader>\r\n            <ModalBody>\r\n              {\r\n                \"You're about to permanently this and all of its data. If you're not sure, you can close this instead.\"\r\n              }\r\n            </ModalBody>\r\n            <ModalFooter>\r\n              {/* I don't like this approach. Consider passing a prop to ModalFooter\r\n               * that if present, would duplicate the buttons in a way similar to this.\r\n               * Or, maybe find some way to pass something like size=\"large md:regular\"\r\n               * to Button\r\n               */}\r\n              <div className=\"hidden sm:block\">\r\n                <Button layout=\"outline\" onClick={closeModal}>\r\n                  Cancel\r\n                </Button>\r\n              </div>\r\n              <div className=\"hidden sm:block\">\r\n                <Button onClick={(e) => deleteConfirm(e, id)}>Accept</Button>\r\n              </div>\r\n            </ModalFooter>\r\n          </Modal>\r\n        </div>\r\n      </div>\r\n    )\r\n  } else if (status === 'failed') {\r\n    content = <div>{error}</div>\r\n  }\r\n\r\n  return <section className=\"issues-list\">{content}</section>\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { unwrapResult } from '@reduxjs/toolkit'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { addNewScreen } from '../../slices/screens'\r\nimport {\r\n  Input,\r\n  Label,\r\n  Select,\r\n  Textarea,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button,\r\n} from '@windmill/react-ui'\r\n\r\nexport const AddScreenForm = () => {\r\n  const [name, setName] = useState('')\r\n  const [description, setDescription] = useState('')\r\n  const [addRequestStatus, setAddRequestStatus] = useState('idle')\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const onNameChanged = (e) => setName(e.target.value)\r\n  const onDescriptionChanged = (e) => setDescription(e.target.value)\r\n\r\n  const canSave = [name].every(Boolean) && addRequestStatus === 'idle'\r\n\r\n  const onSaveScreenClicked = async () => {\r\n    if (canSave) {\r\n      try {\r\n        setAddRequestStatus('pending')\r\n        setName('')\r\n        setDescription('')\r\n        const resultAction = await dispatch(\r\n          addNewScreen({ Name: name, Description: description })\r\n        )\r\n        unwrapResult(resultAction)\r\n      } catch (err) {\r\n        console.error('Failed to save the screen: ', err)\r\n      } finally {\r\n        setAddRequestStatus('idle')\r\n        closeModal()\r\n      }\r\n    }\r\n  }\r\n  function openModal() {\r\n    setIsModalOpen(true)\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  return (\r\n    <>\r\n      <div>\r\n        <Button onClick={openModal}>Create</Button>\r\n      </div>\r\n      <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n        <ModalHeader className=\"m-2\">Add a screen</ModalHeader>\r\n        <ModalBody>\r\n          <Label className=\"m-2\">\r\n            <span>Name</span>\r\n            <Input className=\"mt-1\" value={name} onChange={onNameChanged} />\r\n          </Label>\r\n\r\n          <Label className=\"m-2\">\r\n            <span>Description</span>\r\n            <Textarea\r\n              className=\"mt-1\"\r\n              rows=\"3\"\r\n              value={description}\r\n              onChange={onDescriptionChanged}\r\n            />\r\n          </Label>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <div className=\"hidden sm:block\">\r\n            <Button layout=\"outline\" onClick={closeModal}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n          <div className=\"hidden sm:block\">\r\n            <Button onClick={onSaveScreenClicked} disabled={!canSave}>\r\n              Accept\r\n            </Button>\r\n          </div>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { unwrapResult } from '@reduxjs/toolkit'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { updateScreen, selectScreenById } from '../../slices/screens'\r\nimport {\r\n  Input,\r\n  Label,\r\n  Select,\r\n  Textarea,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button,\r\n  Badge,\r\n} from '@windmill/react-ui'\r\n\r\nexport const UpdateScreenForm = ({ screen }) => {\r\n  const [name, setName] = useState(screen.Name)\r\n  const [description, setDescription] = useState(screen.Description)\r\n  const [updateRequestStatus, setUpdateRequestStatus] = useState('idle')\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const onNameChanged = (e) => setName(e.target.value)\r\n  const onDescriptionChanged = (e) => setDescription(e.target.value)\r\n\r\n  useEffect(() => {\r\n    setName(screen.Name)\r\n    setDescription(screen.Description)\r\n  }, [screen])\r\n\r\n  const canSave = [name].every(Boolean) && updateRequestStatus === 'idle'\r\n\r\n  const onSaveScreenClicked = async () => {\r\n    if (canSave) {\r\n      try {\r\n        setUpdateRequestStatus('pending')\r\n        const resultAction = await dispatch(\r\n          updateScreen({ Id: screen.Id, Name: name, Description: description })\r\n        )\r\n        unwrapResult(resultAction)\r\n      } catch (err) {\r\n        console.error('Failed to save the screen: ', err)\r\n        setName(screen.Name)\r\n        setDescription(screen.Description)\r\n      } finally {\r\n        setUpdateRequestStatus('idle')\r\n        closeModal()\r\n      }\r\n    }\r\n  }\r\n  function openModal() {\r\n    setIsModalOpen(true)\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  return (\r\n    <>\r\n      <Badge\r\n        className=\"hover:bg-green-200 cursor-pointer\"\r\n        type={'success'}\r\n        onClick={openModal}\r\n      >\r\n        Edit\r\n      </Badge>\r\n      <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n        <ModalHeader className=\"m-2\">Edit a screen</ModalHeader>\r\n        <ModalBody>\r\n          <Label className=\"m-2\">\r\n            <span>Name</span>\r\n            <Input className=\"mt-1\" value={name} onChange={onNameChanged} />\r\n          </Label>\r\n\r\n          <Label className=\"m-2\">\r\n            <span>Description</span>\r\n            <Textarea\r\n              className=\"mt-1\"\r\n              rows=\"3\"\r\n              value={description}\r\n              onChange={onDescriptionChanged}\r\n            />\r\n          </Label>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <div className=\"hidden sm:block\">\r\n            <Button layout=\"outline\" onClick={closeModal}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n          <div className=\"hidden sm:block\">\r\n            <Button onClick={onSaveScreenClicked} disabled={!canSave}>\r\n              Accept\r\n            </Button>\r\n          </div>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n  selectAllScreens,\r\n  fetchScreens,\r\n  deleteScreen,\r\n  setErrorNull,\r\n  setSuccessNull,\r\n} from '../slices/screens'\r\nimport {\r\n  selectAllScreenCustomFields,\r\n  fetchScreenCustomFields,\r\n} from '../slices/screenCustomFields'\r\nimport {\r\n  selectAllCustomFields,\r\n  fetchCustomFields,\r\n} from '../slices/customFields'\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button,\r\n  TableBody,\r\n  TableContainer,\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableRow,\r\n  TableFooter,\r\n  Avatar,\r\n  Badge,\r\n  Pagination,\r\n} from '@windmill/react-ui'\r\nimport { AddScreenForm } from '../components/Screen/AddScreenForm'\r\nimport { UpdateScreenForm } from '../components/Screen/UpdateScreenForm'\r\n\r\nconst ScreenExcerpt = ({ screen, listCustomFields, openModal }) => {\r\n  return (\r\n    <TableRow key={screen.Id}>\r\n      <TableCell>\r\n        <div className=\"flex items-center text-sm\">\r\n          <div>\r\n            <p className=\"font-semibold\">{screen.Name}</p>\r\n          </div>\r\n        </div>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">{screen.Description}</span>\r\n      </TableCell>\r\n      <TableCell>\r\n        {listCustomFields.map((customField) => (\r\n          <p className=\"text-sm\" key={customField.Id}>\r\n            {customField.Name}\r\n          </p>\r\n        ))}\r\n      </TableCell>\r\n      <TableCell>\r\n        <UpdateScreenForm screen={screen} />\r\n        <Badge\r\n          className=\"ml-1 hover:bg-red-200 cursor-pointer\"\r\n          type={'danger'}\r\n          onClick={() => openModal(screen.Id)}\r\n        >\r\n          Delete\r\n        </Badge>\r\n        <Badge\r\n          className=\"ml-1 hover:bg-gray-200 cursor-pointer\"\r\n          type={'neutral'}\r\n          onClick={() => openModal(screen.Id)}\r\n        >\r\n          <Link\r\n            to={{\r\n              pathname: `/screenCustomFields/${screen.Id}`,\r\n              state: { screen, listCustomFields },\r\n            }}\r\n          >\r\n            Configure\r\n          </Link>\r\n        </Badge>\r\n      </TableCell>\r\n    </TableRow>\r\n  )\r\n}\r\n\r\nexport const Screens = () => {\r\n  const { addToast } = useToasts()\r\n  const dispatch = useDispatch()\r\n  const screens = useSelector(selectAllScreens)\r\n  const screenCustomFields = useSelector(selectAllScreenCustomFields)\r\n  const customFields = useSelector(selectAllCustomFields)\r\n\r\n  const screenStatus = useSelector((state) => state.screens.status)\r\n  const customFieldStatus = useSelector((state) => state.customFields.status)\r\n  const screenCustomFieldStatus = useSelector(\r\n    (state) => state.screenCustomFields.status\r\n  )\r\n\r\n  const error = useSelector((state) => state.screens.error)\r\n  const success = useSelector((state) => state.screens.success)\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const [id, setId] = useState()\r\n  const errorScreenCustomField = useSelector(\r\n    (state) => state.screenCustomFields.error\r\n  )\r\n  const errorCustomFields = useSelector((state) => state.customFields.error)\r\n  const [page, setPage] = useState(1)\r\n  const [data, setData] = useState([])\r\n  // pagination setup\r\n  const resultsPerPage = 2\r\n  const totalResults = screens.length\r\n\r\n  // pagination change control\r\n  function onPageChange(p) {\r\n    setPage(p)\r\n  }\r\n  useEffect(() => {\r\n    if (screenStatus === 'idle') {\r\n      dispatch(fetchScreens())\r\n    }\r\n    if (screenCustomFieldStatus === 'idle') {\r\n      dispatch(fetchScreenCustomFields())\r\n    }\r\n    if (customFieldStatus === 'idle') {\r\n      dispatch(fetchCustomFields())\r\n    }\r\n    if (error) {\r\n      addToast(error, {\r\n        appearance: 'error',\r\n        autoDismiss: true,\r\n      })\r\n      dispatch(setErrorNull({ error: null }))\r\n    }\r\n    if (success) {\r\n      addToast(success, {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n      })\r\n      dispatch(setSuccessNull({ success: null }))\r\n    }\r\n    \r\n  }, [\r\n    screenStatus,\r\n    screenCustomFieldStatus,\r\n    customFieldStatus,\r\n    dispatch,\r\n    error,\r\n    success,\r\n  ])\r\n  useEffect(() => {\r\n    setData(screens.slice((page - 1) * resultsPerPage, page * resultsPerPage))\r\n  }, [screens, page])\r\n  function openModal(id) {\r\n    setIsModalOpen(true)\r\n    setId(id)\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  function deleteConfirm(e, Id) {\r\n    e.preventDefault()\r\n    dispatch(deleteScreen({ Id }))\r\n    closeModal()\r\n  }\r\n  let content\r\n\r\n  if (\r\n    screenStatus === 'loading' ||\r\n    screenCustomFieldStatus === 'loading' ||\r\n    customFieldStatus === 'loading'\r\n  ) {\r\n    content = <div className=\"loader\">Loading...</div>\r\n  } else if (\r\n    screenStatus === 'succeeded' &&\r\n    screenCustomFieldStatus === 'succeeded' &&\r\n    customFieldStatus === 'succeeded'\r\n  ) {\r\n    let tbody = data.map((screen) => {\r\n      const listCustomFieldsId = screenCustomFields.filter(\r\n        (row) => row?.Screen == screen.Id\r\n      )\r\n      const temp = customFields.filter((item1) =>\r\n        listCustomFieldsId.some((item2) => item1.Id === item2.Custom_Field)\r\n      )\r\n      const listCustomFields = []\r\n      temp.forEach((element) => {\r\n        listCustomFieldsId.forEach((ele) => {\r\n          if (element.Id === ele.Custom_Field) {\r\n            listCustomFields.push({ ...element, Id: ele.Id })\r\n          }\r\n        })\r\n      })\r\n      return (\r\n        <ScreenExcerpt\r\n          key={screen.Id}\r\n          screen={screen}\r\n          listCustomFields={listCustomFields}\r\n          openModal={openModal}\r\n        />\r\n      )\r\n    })\r\n    content = (\r\n      <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n        <div className=\"py-8\">\r\n          <div className=\"mb-5 my-2 flex justify-between sm:flex-row flex-col\">\r\n            <h2 className=\"text-2xl font-semibold leading-tight\">Screens</h2>\r\n            <AddScreenForm />\r\n          </div>\r\n          <TableContainer>\r\n            <Table>\r\n              <TableHeader>\r\n                <tr>\r\n                  <TableCell>Name</TableCell>\r\n\r\n                  <TableCell>Description</TableCell>\r\n                  <TableCell>Custom fields</TableCell>\r\n                  <TableCell>Action</TableCell>\r\n                </tr>\r\n              </TableHeader>\r\n              <TableBody>{tbody}</TableBody>\r\n            </Table>\r\n            <TableFooter>\r\n              <Pagination\r\n                totalResults={totalResults}\r\n                resultsPerPage={resultsPerPage}\r\n                label=\"Table navigation\"\r\n                onChange={onPageChange}\r\n              />\r\n            </TableFooter>\r\n          </TableContainer>\r\n          <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n            <ModalHeader>Delete ?</ModalHeader>\r\n            <ModalBody>\r\n              {\r\n                \"You're about to permanently this and all of its data. If you're not sure, you can close this instead.\"\r\n              }\r\n            </ModalBody>\r\n            <ModalFooter>\r\n              <div className=\"hidden sm:block\">\r\n                <Button layout=\"outline\" onClick={closeModal}>\r\n                  Cancel\r\n                </Button>\r\n              </div>\r\n              <div className=\"hidden sm:block\">\r\n                <Button onClick={(e) => deleteConfirm(e, id)}>Accept</Button>\r\n              </div>\r\n            </ModalFooter>\r\n          </Modal>\r\n        </div>\r\n      </div>\r\n    )\r\n  } else if (\r\n    screenStatus === 'failed' ||\r\n    screenCustomFieldStatus === 'failed' ||\r\n    customFieldStatus === 'failed'\r\n  ) {\r\n    content = <div>{(error, errorScreenCustomField, errorCustomFields)}</div>\r\n  }\r\n\r\n  return <section className=\"screens-list\">{content}</section>\r\n}\r\n","import React from 'react'\r\nimport DialogModal from '../components/DialogModal'\r\nimport FormInput from '../components/Form/FormInputNew'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useSelector } from 'react-redux'\r\nimport { useAppDispatch } from '../store'\r\nimport { workflowsSelector,updateWorkflow } from '../slices/workflows'\r\nimport { DialogActions, DialogContent } from '../components/DialogModal'\r\n\r\nimport {Textarea,Button} from '@windmill/react-ui'\r\n\r\nfunction UpdateWorkflowModal({ modalDialog }) {\r\n\r\n\r\n  const dispatch = useAppDispatch()\r\n  const { register, handleSubmit } = useForm()\r\n  const { workflowUpdate } = useSelector(workflowsSelector)\r\n\r\n  const { handleClose } = modalDialog\r\n  const onSubmit = (data) => {\r\n    \r\n    dispatch(updateWorkflow({ id: workflowUpdate.WorkflowId, data }))\r\n    handleClose()\r\n  }\r\n  return (\r\n    <>\r\n      <DialogModal\r\n        title=\"Workflow\"\r\n        modalDialog={modalDialog}\r\n        handleSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <DialogContent dividers className=\"mx-12\">\r\n            <FormInput\r\n              r={register}\r\n              name=\"WorkflowName\"\r\n             label={'Workflow Name'}\r\n              value={workflowUpdate.WorkflowName}\r\n              required\r\n            />\r\n            <FormInput \r\n            \r\n              r={register}\r\n              name=\"WorkflowDescription\"\r\n              label={'Description'}\r\n              value={workflowUpdate.WorkflowDescription}\r\n              placeholder={\"Description....\"}\r\n            />\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <div className=\"my-3 mx-5\">\r\n              <Button layout=\"outline\" onClick={handleClose} color=\"secondary\">\r\n                Cancel\r\n              </Button>\r\n              <Button type=\"submit\" color=\"primary\">\r\n                Submit\r\n              </Button>\r\n            </div>\r\n          </DialogActions>\r\n        </form>\r\n      </DialogModal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UpdateWorkflowModal\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAppDispatch } from '../../store'\r\nimport { useSelector } from 'react-redux'\r\nimport axios from 'axios'\r\nimport {\r\n  fetchWorkflowProjects,\r\n  workflowProjectsSelector,\r\n} from '../../slices/wor-pro'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { setWorkflowUpdate, updateWorkflow } from '../../slices/workflows'\r\nimport workflowApi from '../../api/workflowApi'\r\nimport { \r\n  deleteWorkflow,\r\n  \r\n} from '../../slices/workflows'\r\nimport WorkflowModal from '../../pages/UpdateWorkflow'\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport { TableCell, TableRow, Button,Table, ModalHeader, ModalBody,ModalFooter,Modal,Badge } from '@windmill/react-ui'\r\n\r\nconst WorkflowItem = ({ workflow }) => {\r\n  const {addToast} = useToasts()\r\n  const dispatch = useAppDispatch()\r\n  const history = useHistory()\r\n\r\n  const [workflowprojects_temp, setResult] = useState([])\r\n  useEffect(() => {\r\n    if (workflow) {\r\n      workflowApi.getWorkflowProject(workflow.WorkflowId).then((data) => {\r\n        setResult(data.Data)\r\n      })\r\n    }\r\n  }, [])\r\n\r\n  //get workflow to detail\r\n  const handleOpenUpdate = (e, workflow) => {\r\n    e.preventDefault()\r\n    dispatch(setWorkflowUpdate(workflow))\r\n    addToast(\"Create Workflow Success\", {\r\n      appearance: 'success',\r\n      autoDismiss: true,\r\n    })\r\n    history.push('/app/workflows-manager/create-workflows')\r\n  }\r\n  const handleOpenTransition = (e, workflow) => {\r\n    e.preventDefault()\r\n    dispatch(setWorkflowUpdate(workflow))\r\n    addToast(\"Open Success\", {\r\n      appearance: 'success',\r\n      autoDismiss: true,\r\n    })\r\n    history.push('/app/workflows-manager/transitions-manager')\r\n  }\r\n  const [openUpdate, setOpenUpdate] = React.useState(false)\r\n\r\n  const handleOpenUpdateWorkflow = (e, workflow) => {\r\n    e.preventDefault()\r\n    dispatch(setWorkflowUpdate(workflow))\r\n    \r\n    setOpenUpdate(true)\r\n  }\r\n  const handleCloseUpdate = () => {\r\n    setOpenUpdate(false)\r\n  }\r\n  const modalUpdate = {\r\n    open: openUpdate,\r\n    handleOpen: handleOpenUpdateWorkflow,\r\n    handleClose: handleCloseUpdate,\r\n  }\r\n  const renderWorkflowProject = () => {\r\n    if (workflowprojects_temp != null) {\r\n      return workflowprojects_temp.map((temp) => (\r\n        <li key={temp.ProjectKey}>{temp.ProjectName}</li>\r\n      ))\r\n    } else {\r\n      return <li></li>\r\n    }\r\n  }\r\n\r\n  // DELETE\r\n  const [isModalOpen, setIsModalOpen, deleteP] = useState(false)\r\n\r\n  function openModal() {\r\n    setIsModalOpen(true)\r\n  }\r\n \r\n\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  function deleteConfirm(e, WorkflowId) {\r\n    e.preventDefault()\r\n    \r\n      dispatch(deleteWorkflow(WorkflowId))\r\n      // addToast(\"Delete Workflow Success\", {\r\n      //   appearance: 'success',\r\n      //   autoDismiss: true,\r\n      // })\r\n    \r\n  }\r\n  return (\r\n    <>\r\n      <WorkflowModal modalDialog={modalUpdate} />\r\n      <TableRow key={workflow.WorkflowId}>\r\n        <TableCell className=\"px-5 py-5 font-semibold border-b border-gray-200 bg-white text-sm\">\r\n          \r\n          <span>{workflow.WorkflowName}</span>\r\n        </TableCell>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n        \r\n          <span>{workflow.WorkflowId}</span>\r\n        </TableCell>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n          \r\n          <span>{workflow.WorkflowDescription}</span>\r\n        </TableCell>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n          <span>{renderWorkflowProject()}</span>\r\n        </TableCell>\r\n\r\n        <TableCell className=\"px-5 py-5 text-center border-b border-gray-200 bg-white text-sm\">\r\n          \r\n          <Badge \r\n              className=\"hover:bg-white-200 cursor-pointer\"\r\n              type={'status'}\r\n              onClick={(e) => handleOpenUpdate(e, workflow)}\r\n          >\r\n              Add Project\r\n          </Badge>\r\n          <Badge \r\n              className=\"hover:bg-blue-200 cursor-pointer\"\r\n              type={'button'}\r\n              onClick={(e) => handleOpenTransition(e, workflow)}\r\n          >\r\n              Transition\r\n          </Badge>\r\n          <Badge \r\n              className=\"hover:bg-green-200 cursor-pointer\"\r\n              type={'success'}\r\n              onClick={(e) => handleOpenUpdateWorkflow(e, workflow)}\r\n          >\r\n              Edit\r\n          </Badge>\r\n          <Badge \r\n              className=\"hover:bg-red-200 cursor-pointer\"\r\n              type={'danger'}\r\n              onClick={openModal}\r\n          >\r\n              Delete\r\n          </Badge>\r\n          \r\n          <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n        <ModalHeader>Delete Workflow</ModalHeader>\r\n        <ModalBody>\r\n          Are you sure DELETE this Workflow!\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          {/* I don't like this approach. Consider passing a prop to ModalFooter\r\n           * that if present, would duplicate the buttons in a way similar to this.\r\n           * Or, maybe find some way to pass something like size=\"large md:regular\"\r\n           * to Button\r\n           */}\r\n          <div className=\"hidden sm:block\">\r\n            <Button layout=\"outline\" onClick={closeModal}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n          <div className=\"hidden sm:block\" onClick={(e) => deleteConfirm(e, workflow.WorkflowId)}>\r\n            <Button>Accept</Button>\r\n          </div>\r\n          <div className=\"block w-full sm:hidden\">\r\n            <Button block size=\"large\" layout=\"outline\" onClick={closeModal}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n          <div className=\"block w-full sm:hidden\">\r\n            <Button block size=\"large\">\r\n              Accept\r\n            </Button>\r\n          </div>\r\n        </ModalFooter>\r\n      </Modal>\r\n          {/* <span className=\"relative inline-block px-3 ml-1.5 py-1 font-semibold text-green-900 leading-tight\">\r\n                <span\r\n                  aria-hidden\r\n                  className=\"absolute inset-0 bg-red-400 opacity-50 rounded-full\"\r\n                />\r\n                <a\r\n                  // onClick={(e) => deleteConfirm(e,project.Project_Id)}\r\n                  className=\"relative cursor-pointer text-red-900\"\r\n                >\r\n                  Delete\r\n                </a>\r\n              </span> */}\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default WorkflowItem\r\n","import React, { useEffect,useState } from 'react'\r\nimport { fetchWorkflows,workflowsSelector,setState } from '../slices/workflows'\r\nimport { fetchWorkflowProjects,workflowProjectsSelector } from '../slices/wor-pro'\r\nimport { useAppDispatch } from '../store'\r\nimport { useSelector } from 'react-redux'\r\nimport WorkflowItem from '../components/Workflow/WorkflowItem'\r\nimport { Link } from 'react-router-dom'\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableBody,\r\n  TableRow,\r\n  TableFooter,\r\n  TableContainer,\r\n  Button,\r\n  Pagination,\r\n  Select\r\n} from '@windmill/react-ui'\r\n const WorkflowManager= () => {\r\n    const { addToast } = useToasts()\r\n    const dispatch = useAppDispatch()\r\n    const { updateWor, updateSuccess,workflows,loading, hasErrors } = useSelector(workflowsSelector)\r\n    localStorage.setItem('WorkflowAll', JSON.stringify(workflows))\r\n   useEffect(() => {\r\n        dispatch(fetchWorkflows()) \r\n    }, [dispatch])\r\n    useEffect(() => {\r\n           if (updateSuccess) {\r\n             addToast(\"Success\", {\r\n               appearance: 'success',\r\n               autoDismiss: true,\r\n             })\r\n             dispatch(setState())\r\n           }\r\n         }, [updateSuccess])\r\n\r\n// setup pages control for every table\r\nconst [pageTable1, setPageTable1] = useState(1)\r\n// setup data for every table \r\nconst [dataTable1, setDataTable1] = useState([])\r\n// pagination setup\r\nconst resultsPerPage = 5\r\nconst totalResults = workflows.length\r\n// pagination change control\r\nfunction onPageChangeTable1(p) {\r\n  setPageTable1(p)\r\n}\r\n// on page change, load new sliced data\r\n// here you would make another server request for new data\r\nuseEffect(() => {\r\n  setDataTable1(workflows.slice((pageTable1 - 1) * resultsPerPage, pageTable1 * resultsPerPage))\r\n}, [workflows, pageTable1])\r\n\r\n\r\n    //search user\r\n  //setup search\r\n  const [searchTerm, setSearchTerm] = React.useState('')\r\n  const [searchResults, setSearchResults] = React.useState([])\r\n  //setup select \r\n  const [selectTerm, setSelectTerm] = React.useState('')\r\n  const handleChange = (e) => {\r\n    setSearchTerm(e.target.value)\r\n  }\r\n  const handleSelect = (e) =>{\r\n    setSelectTerm(e.target.value)\r\n  }\r\n  useEffect(() => {\r\n    const results = workflows.filter(\r\n      (person) =>\r\n        person.WorkflowName.toLowerCase().indexOf(searchTerm.toLowerCase()) !=\r\n          -1 \r\n    )\r\n    setSearchResults(results)\r\n  }, [searchTerm])\r\n  \r\n  //render user\r\n  const renderWorkflow = () => {\r\n    if (\r\n      (searchTerm == '' && selectTerm == 'All') ||\r\n      (searchTerm == '' && selectTerm == '')\r\n    ) {\r\n      return dataTable1.map((workflow) => <WorkflowItem key={workflow.WorkflowId} workflow={workflow} />)\r\n    } else {\r\n      return searchResults.map((workflow) => (\r\n        <WorkflowItem key={workflow.WorkflowId} workflow={workflow} />\r\n      ))\r\n    }\r\n  }     \r\n    \r\n    if (loading) {\r\n      return (\r\n        <tr>\r\n          <div className=\"loader\">Loading...</div>\r\n        </tr>\r\n      )\r\n    }\r\n    if (hasErrors) return <p>Unable to get Workflow.</p>\r\n    return (\r\n        <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n        <div className=\"py-8\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-semibold leading-tight\">Workflow</h2>\r\n          </div>\r\n          <div className=\"my-2 flex justify-between sm:flex-row flex-col\">\r\n          <div className=\"flex\">\r\n            <Link to=\"/app/workflows-manager/add-workflows\">\r\n            <Button size=\"large\">Create Workflow</Button>\r\n            </Link>\r\n            {/* <Link to=\"/invite-user\">\r\n              <button className=\"bg-white border shadow-sm px-3 py-1.5 rounded-md hover:text-green-500 text-gray-700 ml-1\">\r\n                Invite Users\r\n              </button>\r\n            </Link> */}\r\n          </div>\r\n          <div className=\"flex relative\">\r\n              <span className=\"h-full absolute inset-y-0 right-2 flex items-center pl-2\">\r\n                <svg\r\n                  viewBox=\"0 0 24 24\"\r\n                  className=\"h-4 w-4 fill-current text-gray-500\"\r\n                >\r\n                  <path d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\"></path>\r\n                </svg>\r\n              </span>\r\n              <input\r\n                placeholder=\"Search\"\r\n                className=\"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\r\n                value={searchTerm}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n        </div>\r\n        \r\n          <div className=\"my-2 flex justify-between sm:flex-row flex-col\">\r\n            <div className=\"flex\">\r\n              {/* <Link to=\"/create-projects\">\r\n                <button className=\"bg-white border shadow-sm px-3 py-1.5 rounded-md hover:text-green-500 text-gray-700\">\r\n                  Create project\r\n                </button>\r\n              </Link> */}\r\n              {/* <Link to=\"/invite-user\">\r\n                <button className=\"bg-white border shadow-sm px-3 py-1.5 rounded-md hover:text-green-500 text-gray-700 ml-1\">\r\n                  Invite Users\r\n                </button>\r\n              </Link> */}\r\n              \r\n            </div>\r\n          </div>\r\n          <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n            <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n              <table className=\"min-w-full leading-normal\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Name Workflow\r\n                    </th>\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      ID\r\n                    </th>\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Description\r\n                    </th>\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Project\r\n                    </th>\r\n                    {/* <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Group name\r\n                    </th> */}\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                       Action\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>{renderWorkflow()}</tbody>\r\n              </table>\r\n              <TableFooter>\r\n          <Pagination\r\n            totalResults={totalResults}\r\n            resultsPerPage={resultsPerPage}\r\n            onChange={onPageChangeTable1}\r\n            label=\"Table navigation\"\r\n          />\r\n        </TableFooter>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\nexport default WorkflowManager","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { unwrapResult } from '@reduxjs/toolkit'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { addNewCustomField } from '../../slices/customFields'\r\nimport {\r\n  Input,\r\n  Label,\r\n  Select,\r\n  Textarea,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button,\r\n} from '@windmill/react-ui'\r\n\r\nconst fieldTypes = [\r\n  { Id: '0', Name: 'Text' },\r\n  { Id: '1', Name: 'Date' },\r\n  { Id: '2', Name: 'Text area' },\r\n  { Id: '3', Name: 'People' },\r\n]\r\n\r\nexport const AddCustomFieldForm = () => {\r\n  const [name, setName] = useState('')\r\n  const [fieldType, setFieldType] = useState('')\r\n  const [description, setDescription] = useState('')\r\n  const [addRequestStatus, setAddRequestStatus] = useState('idle')\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const onNameChanged = (e) => setName(e.target.value)\r\n  const onDescriptionChanged = (e) => setDescription(e.target.value)\r\n  const onFieldTypeChanged = (e) => setFieldType(e.target.value)\r\n  const canSave =\r\n    [name, fieldType].every(Boolean) && addRequestStatus === 'idle'\r\n\r\n  const onSaveCustomFieldClicked = async () => {\r\n    if (canSave) {\r\n      try {\r\n        setAddRequestStatus('pending')\r\n        setName('')\r\n        setFieldType('')\r\n        setDescription('')\r\n        const resultAction = await dispatch(\r\n          addNewCustomField({\r\n            Name: name,\r\n            Field_Type: fieldType,\r\n            Description: description,\r\n          })\r\n        )\r\n        unwrapResult(resultAction)\r\n      } catch (err) {\r\n        console.error('Failed to save the customField: ', err)\r\n      } finally {\r\n        setAddRequestStatus('idle')\r\n        closeModal()\r\n      }\r\n    }\r\n  }\r\n  function openModal() {\r\n    setIsModalOpen(true)\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  const fieldTypesOptions = fieldTypes.map((customField) => (\r\n    <option key={customField.Id} value={customField.Name}>\r\n      {customField.Name}\r\n    </option>\r\n  ))\r\n  return (\r\n    <>\r\n      <div>\r\n        <Button onClick={openModal}>Create</Button>\r\n      </div>\r\n      <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n        <ModalHeader className=\"m-2\">Add a custom field</ModalHeader>\r\n        <ModalBody>\r\n          <Label className=\"m-2\">\r\n            <span>Name</span>\r\n            <Input className=\"mt-1\" value={name} onChange={onNameChanged} />\r\n          </Label>\r\n\r\n          <Label className=\"m-2\">\r\n            <span>Type</span>\r\n            <Select\r\n              className=\"mt-1\"\r\n              value={fieldType}\r\n              onChange={onFieldTypeChanged}\r\n            >\r\n              <option value=\"\"></option>\r\n              {fieldTypesOptions}\r\n            </Select>\r\n          </Label>\r\n\r\n          <Label className=\"m-2\">\r\n            <span>Description</span>\r\n            <Textarea\r\n              className=\"mt-1\"\r\n              rows=\"3\"\r\n              value={description}\r\n              onChange={onDescriptionChanged}\r\n            />\r\n          </Label>\r\n\r\n          {/* <Label className=\"m-2\">\r\n            <span>Disabled</span>\r\n            <Input disabled className=\"mt-1\" placeholder=\"Jane Doe\" />\r\n          </Label> */}\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          {/* I don't like this approach. Consider passing a prop to ModalFooter\r\n           * that if present, would duplicate the buttons in a way similar to this.\r\n           * Or, maybe find some way to pass something like size=\"large md:regular\"\r\n           * to Button\r\n           */}\r\n          <div className=\"hidden sm:block\">\r\n            <Button layout=\"outline\" onClick={closeModal}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n          <div className=\"hidden sm:block\">\r\n            <Button onClick={onSaveCustomFieldClicked} disabled={!canSave}>\r\n              Accept\r\n            </Button>\r\n          </div>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { unwrapResult } from '@reduxjs/toolkit'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n  updateCustomField,\r\n  selectCustomFieldById,\r\n} from '../../slices/customFields'\r\nimport {\r\n  Input,\r\n  Label,\r\n  Select,\r\n  Textarea,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button,\r\n  Badge,\r\n} from '@windmill/react-ui'\r\n\r\nconst fieldTypes = [\r\n  { Id: '0', Name: 'Text' },\r\n  { Id: '1', Name: 'Date' },\r\n  { Id: '2', Name: 'Text area' },\r\n  { Id: '3', Name: 'People' },\r\n]\r\n\r\nexport const UpdateCustomFieldForm = ({ customField }) => {\r\n  const [name, setName] = useState(customField.Name)\r\n  const [fieldType, setFieldType] = useState(customField.Field_Type)\r\n  const [description, setDescription] = useState(customField.Description)\r\n  const [updateRequestStatus, setUpdateRequestStatus] = useState('idle')\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const onNameChanged = (e) => setName(e.target.value)\r\n  const onDescriptionChanged = (e) => setDescription(e.target.value)\r\n  const onFieldTypeChanged = (e) => setFieldType(e.target.value)\r\n\r\n  useEffect(() => {\r\n    setName(customField.Name)\r\n    setFieldType(customField.Field_Type)\r\n    setDescription(customField.Description)\r\n  }, [customField])\r\n  const canSave =\r\n    [name, fieldType].every(Boolean) && updateRequestStatus === 'idle'\r\n\r\n  const onSaveCustomFieldClicked = async () => {\r\n    if (canSave) {\r\n      try {\r\n        console.log({\r\n          Id: customField.Id,\r\n          Name: name,\r\n          Field_Type: fieldType,\r\n          Description: description,\r\n        })\r\n        setUpdateRequestStatus('pending')\r\n        const resultAction = await dispatch(\r\n          updateCustomField({\r\n            Id: customField.Id,\r\n            Name: name,\r\n            Field_Type: fieldType,\r\n            Description: description,\r\n          })\r\n        )\r\n        unwrapResult(resultAction)\r\n      } catch (err) {\r\n        console.error('Failed to save the customField: ', err)\r\n        setName(customField.Name)\r\n        setFieldType(customField.Field_Type)\r\n        setDescription(customField.Description)\r\n      } finally {\r\n        setUpdateRequestStatus('idle')\r\n        closeModal()\r\n      }\r\n    }\r\n  }\r\n  function openModal() {\r\n    setIsModalOpen(true)\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  const fieldTypesOptions = fieldTypes.map((customField) => (\r\n    <option key={customField.Id} value={customField.Name}>\r\n      {customField.Name}\r\n    </option>\r\n  ))\r\n  return (\r\n    <>\r\n      <Badge className=\"hover:bg-green-200 cursor-pointer\" type={'success'} onClick={openModal}>Edit</Badge>\r\n      <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n        <ModalHeader className=\"m-2\">Edit a custom field</ModalHeader>\r\n        <ModalBody>\r\n          <Label className=\"m-2\">\r\n            <span>Name</span>\r\n            <Input className=\"mt-1\" value={name} onChange={onNameChanged} />\r\n          </Label>\r\n\r\n          <Label className=\"m-2\">\r\n            <span>Type</span>\r\n            <Select\r\n              className=\"mt-1\"\r\n              value={fieldType}\r\n              onChange={onFieldTypeChanged}\r\n            >\r\n              <option value=\"\"></option>\r\n              {fieldTypesOptions}\r\n            </Select>\r\n          </Label>\r\n\r\n          <Label className=\"m-2\">\r\n            <span>Description</span>\r\n            <Textarea\r\n              className=\"mt-1\"\r\n              rows=\"3\"\r\n              value={description}\r\n              onChange={onDescriptionChanged}\r\n            />\r\n          </Label>\r\n\r\n          {/* <Label className=\"m-2\">\r\n            <span>Disabled</span>\r\n            <Input disabled className=\"mt-1\" placeholder=\"Jane Doe\" />\r\n          </Label> */}\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          {/* I don't like this approach. Consider passing a prop to ModalFooter\r\n           * that if present, would duplicate the buttons in a way similar to this.\r\n           * Or, maybe find some way to pass something like size=\"large md:regular\"\r\n           * to Button\r\n           */}\r\n          <div className=\"hidden sm:block\">\r\n            <Button layout=\"outline\" onClick={closeModal}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n          <div className=\"hidden sm:block\">\r\n            <Button onClick={onSaveCustomFieldClicked} disabled={!canSave}>\r\n              Accept\r\n            </Button>\r\n          </div>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {\r\n  selectAllCustomFields,\r\n  fetchCustomFields,\r\n  deleteCustomField,\r\n  setErrorNull,\r\n  setSuccessNull,\r\n} from '../slices/customFields'\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button,\r\n  TableBody,\r\n  TableContainer,\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableRow,\r\n  TableFooter,\r\n  Avatar,\r\n  Badge,\r\n  Pagination,\r\n} from '@windmill/react-ui'\r\nimport { AddCustomFieldForm } from '../components/CustomField/AddCustomFieldForm'\r\nimport { UpdateCustomFieldForm } from '../components/CustomField/UpdateCustomFieldForm'\r\n\r\nconst CustomFieldExcerpt = ({ customField, openModal }) => {\r\n  return (\r\n    <TableRow key={customField.Id}>\r\n      <TableCell>\r\n        <div className=\"flex items-center text-sm\">\r\n          {/* <Avatar\r\n                className=\"hidden mr-3 md:block\"\r\n                src={user.avatar}\r\n                alt=\"User image\"\r\n              /> */}\r\n          <div>\r\n            <p className=\"font-semibold\">{customField.Name}</p>\r\n            {/* <p className=\"text-xs text-gray-600 dark:text-gray-400\">\r\n                  {user.job}\r\n                </p> */}\r\n          </div>\r\n        </div>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">{customField.Field_Type}</span>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">{customField.Description}</span>\r\n      </TableCell>\r\n      <TableCell>\r\n        <UpdateCustomFieldForm customField={customField} />\r\n        <Badge className=\"ml-1 hover:bg-red-200 cursor-pointer\" type={'danger'} onClick={() => openModal(customField.Id)}>\r\n          Delete\r\n        </Badge>\r\n      </TableCell>\r\n    </TableRow>\r\n  )\r\n}\r\n\r\nexport const CustomFields = () => {\r\n  const { addToast } = useToasts()\r\n  const dispatch = useDispatch()\r\n  const customFields = useSelector(selectAllCustomFields)\r\n  const customFieldStatus = useSelector((state) => state.customFields.status)\r\n  const error = useSelector((state) => state.customFields.error)\r\n  const success = useSelector((state) => state.customFields.success)\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const [id, setId] = useState()\r\n  const [page, setPage] = useState(1)\r\n  const [data, setData] = useState([])\r\n  // pagination setup\r\n  const resultsPerPage = 10\r\n  const totalResults = customFields.length\r\n\r\n  // pagination change control\r\n  function onPageChange(p) {\r\n    setPage(p)\r\n  }\r\n  useEffect(() => {\r\n    if (customFieldStatus === 'idle') {\r\n      dispatch(fetchCustomFields())\r\n    }\r\n    if (error) {\r\n      addToast(error, {\r\n        appearance: 'error',\r\n        autoDismiss: true,\r\n      })\r\n      dispatch(setErrorNull({ error: null }))\r\n    }\r\n    if (success) {\r\n      addToast(success, {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n      })\r\n      dispatch(setSuccessNull({ success: null }))\r\n    }\r\n  }, [customFieldStatus, dispatch, error, success])\r\n  useEffect(() => {\r\n    setData(customFields.slice((page - 1) * resultsPerPage, page * resultsPerPage))\r\n  }, [customFields, page])\r\n  function openModal(id) {\r\n    setIsModalOpen(true)\r\n    setId(id)\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  function deleteConfirm(e, Id) {\r\n    e.preventDefault()\r\n    dispatch(deleteCustomField({ Id }))\r\n    closeModal()\r\n  }\r\n\r\n  let content\r\n  if (customFieldStatus === 'loading') {\r\n    content = <div className=\"loader\">Loading...</div>\r\n  } else if (customFieldStatus === 'succeeded') {\r\n    console.log(data, \"hehe2\")\r\n    let tbody = data.map((customField) => (\r\n      <CustomFieldExcerpt\r\n        key={customField.Id}\r\n        customField={customField}\r\n        openModal={openModal}\r\n      />\r\n    ))\r\n    content = (\r\n      <>\r\n        <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n          <div className=\"py-8\">\r\n            <div className=\"mb-5 my-2 flex justify-between sm:flex-row flex-col\">\r\n              <h2 className=\"text-2xl font-semibold leading-tight\">\r\n                Custom fields\r\n              </h2>\r\n              <AddCustomFieldForm />\r\n            </div>\r\n            <TableContainer>\r\n              <Table>\r\n                <TableHeader>\r\n                  <tr>\r\n                    <TableCell>Name</TableCell>\r\n                    <TableCell>Field type</TableCell>\r\n                    <TableCell>Description</TableCell>\r\n                    <TableCell>Action</TableCell>\r\n                  </tr>\r\n                </TableHeader>\r\n                <TableBody>{tbody}</TableBody>\r\n              </Table>\r\n              <TableFooter>\r\n                <Pagination\r\n                  totalResults={totalResults}\r\n                  resultsPerPage={resultsPerPage}\r\n                  label=\"Table navigation\"\r\n                  onChange={onPageChange}\r\n                />\r\n              </TableFooter>\r\n            </TableContainer>\r\n            <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n              <ModalHeader>Delete ?</ModalHeader>\r\n              <ModalBody>\r\n                {\r\n                  \"You're about to permanently this and all of its data. If you're not sure, you can close this instead.\"\r\n                }\r\n              </ModalBody>\r\n              <ModalFooter>\r\n                <div className=\"hidden sm:block\">\r\n                  <Button layout=\"outline\" onClick={closeModal}>\r\n                    Cancel\r\n                  </Button>\r\n                </div>\r\n                <div className=\"hidden sm:block\">\r\n                  <Button onClick={(e) => deleteConfirm(e, id)}>Accept</Button>\r\n                </div>\r\n              </ModalFooter>\r\n            </Modal>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  } else if (customFieldStatus === 'failed') {\r\n    content = <div>{error}</div>\r\n  }\r\n\r\n  return <section className=\"customFields-list\">{content}</section>\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { unwrapResult } from '@reduxjs/toolkit'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { addNewIssueType } from '../../slices/issueTypes'\r\nimport {\r\n  Input,\r\n  Label,\r\n  Select,\r\n  Textarea,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button,\r\n} from '@windmill/react-ui'\r\n\r\nexport const AddIssueTypeForm = () => {\r\n  const [name, setName] = useState('')\r\n  const [icon, setIcon] = useState('')\r\n  const [description, setDescription] = useState('')\r\n  const [addRequestStatus, setAddRequestStatus] = useState('idle')\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const onNameChanged = (e) => setName(e.target.value)\r\n  const onDescriptionChanged = (e) => setDescription(e.target.value)\r\n  const onIconChanged = (e) => setIcon(e.target.value)\r\n  const canSave = [name, icon].every(Boolean) && addRequestStatus === 'idle'\r\n\r\n  const onSaveIssueTypeClicked = async () => {\r\n    if (canSave) {\r\n      try {\r\n        setAddRequestStatus('pending')\r\n        setName('')\r\n        setIcon('')\r\n        setDescription('')\r\n        const resultAction = await dispatch(\r\n          addNewIssueType({\r\n            Name: name,\r\n            Icon: icon,\r\n            Description: description,\r\n          })\r\n        )\r\n        unwrapResult(resultAction)\r\n      } catch (err) {\r\n        console.error('Failed to save the issueType: ', err)\r\n      } finally {\r\n        setAddRequestStatus('idle')\r\n        closeModal()\r\n      }\r\n    }\r\n  }\r\n  function openModal() {\r\n    setIsModalOpen(true)\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <Button onClick={openModal}>Create</Button>\r\n      </div>\r\n      <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n        <ModalHeader className=\"m-2\">Add a issue type</ModalHeader>\r\n        <ModalBody class=\"overflow-auto h-80\">\r\n          <Label className=\"m-2\">\r\n            <span>Name</span>\r\n            <Input className=\"mt-1\" value={name} onChange={onNameChanged} />\r\n          </Label>\r\n          <Label className=\"m-2\">\r\n            <span>Icon</span>\r\n            <Input className=\"mt-1\" value={icon} onChange={onIconChanged} />\r\n          </Label>\r\n          <Label className=\"m-2\">\r\n            <span>Description</span>\r\n            <Textarea\r\n              className=\"mt-1\"\r\n              rows=\"3\"\r\n              value={description}\r\n              onChange={onDescriptionChanged}\r\n            />\r\n          </Label>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <div className=\"hidden sm:block\">\r\n            <Button layout=\"outline\" onClick={closeModal}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n          <div className=\"hidden sm:block\">\r\n            <Button onClick={onSaveIssueTypeClicked} disabled={!canSave}>\r\n              Accept\r\n            </Button>\r\n          </div>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { unwrapResult } from '@reduxjs/toolkit'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { updateIssueType, selectIssueTypeById } from '../../slices/issueTypes'\r\nimport {\r\n  Input,\r\n  Label,\r\n  Select,\r\n  Textarea,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button,\r\n  Badge,\r\n} from '@windmill/react-ui'\r\n\r\nexport const UpdateIssueTypeForm = ({ issueType }) => {\r\n  const [name, setName] = useState(issueType.Name)\r\n  const [icon, setIcon] = useState(issueType.Icon)\r\n  const [description, setDescription] = useState(issueType.Description)\r\n  const [updateRequestStatus, setUpdateRequestStatus] = useState('idle')\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const onNameChanged = (e) => setName(e.target.value)\r\n  const onDescriptionChanged = (e) => setDescription(e.target.value)\r\n  const onIconChanged = (e) => setIcon(e.target.value)\r\n  useEffect(() => {\r\n    setName(issueType.Name)\r\n    setIcon(issueType.Icon)\r\n    setDescription(issueType.Description)\r\n  }, [issueType])\r\n  const canSave = [name, icon].every(Boolean) && updateRequestStatus === 'idle'\r\n\r\n  const onSaveIssueTypeClicked = async () => {\r\n    if (canSave) {\r\n      try {\r\n        setUpdateRequestStatus('pending')\r\n        const resultAction = await dispatch(\r\n          updateIssueType({\r\n            Id: issueType.Id,\r\n            Name: name,\r\n            Icon: icon,\r\n            Description: description,\r\n          })\r\n        )\r\n        unwrapResult(resultAction)\r\n      } catch (err) {\r\n        console.error('Failed to save the issueType: ', err)\r\n        setName(issueType.Name)\r\n        setIcon(issueType.Icon)\r\n        setDescription(issueType.Description)\r\n      } finally {\r\n        setUpdateRequestStatus('idle')\r\n        closeModal()\r\n      }\r\n    }\r\n  }\r\n  function openModal() {\r\n    setIsModalOpen(true)\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  return (\r\n    <>\r\n      <Badge\r\n        className=\"hover:bg-green-200 cursor-pointer\"\r\n        type={'success'}\r\n        onClick={openModal}\r\n      >\r\n        Edit\r\n      </Badge>\r\n      <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n        <ModalHeader className=\"m-2\">Edit a issue type</ModalHeader>\r\n        <ModalBody class=\"overflow-auto h-80\">\r\n          <Label className=\"m-2\">\r\n            <span>Name</span>\r\n            <Input className=\"mt-1\" value={name} onChange={onNameChanged} />\r\n          </Label>\r\n          <Label className=\"m-2\">\r\n            <span>Icon</span>\r\n            <Input className=\"mt-1\" value={icon} onChange={onIconChanged} />\r\n          </Label>\r\n\r\n          <Label className=\"m-2\">\r\n            <span>Description</span>\r\n            <Textarea\r\n              className=\"mt-1\"\r\n              rows=\"3\"\r\n              value={description}\r\n              onChange={onDescriptionChanged}\r\n            />\r\n          </Label>\r\n\r\n          {/* <Label className=\"m-2\">\r\n            <span>Disabled</span>\r\n            <Input disabled className=\"mt-1\" placeholder=\"Jane Doe\" />\r\n          </Label> */}\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          {/* I don't like this approach. Consider passing a prop to ModalFooter\r\n           * that if present, would duplicate the buttons in a way similar to this.\r\n           * Or, maybe find some way to pass something like size=\"large md:regular\"\r\n           * to Button\r\n           */}\r\n          <div className=\"hidden sm:block\">\r\n            <Button layout=\"outline\" onClick={closeModal}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n          <div className=\"hidden sm:block\">\r\n            <Button onClick={onSaveIssueTypeClicked} disabled={!canSave}>\r\n              Accept\r\n            </Button>\r\n          </div>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n  selectAllIssueTypes,\r\n  fetchIssueTypes,\r\n  deleteIssueType,\r\n  setErrorNull,\r\n  setSuccessNull,\r\n} from '../slices/issueTypes'\r\nimport {\r\n  selectAllProjectIssueTypeScreens,\r\n  fetchProjectIssueTypeScreens,\r\n} from '../slices/projectIssueTypeScreens'\r\nimport { selectAllScreens, fetchScreens } from '../slices/screens'\r\nimport { fetchProjects, selectAllProjects } from '../slices/projects'\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button,\r\n  TableBody,\r\n  TableContainer,\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableRow,\r\n  TableFooter,\r\n  Avatar,\r\n  Badge,\r\n  Pagination,\r\n} from '@windmill/react-ui'\r\nimport { AddIssueTypeForm } from '../components/IssueType/AddIssueTypeForm'\r\nimport { UpdateIssueTypeForm } from '../components/IssueType/UpdateIssueTypeForm'\r\n\r\nconst IssueTypeExcerpt = ({\r\n  issueType,\r\n  projectIssueTypeScreensHaveName,\r\n  openModal,\r\n}) => {\r\n  return (\r\n    <TableRow key={issueType.Id}>\r\n      <TableCell>\r\n        <div className=\"flex items-center text-sm\">\r\n          <div>\r\n            <p className=\"font-semibold\">{issueType.Name}</p>\r\n          </div>\r\n        </div>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">{issueType.Icon}</span>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className=\"text-sm\">{issueType.Description}</span>\r\n      </TableCell>\r\n      <TableCell>\r\n        <UpdateIssueTypeForm issueType={issueType} />\r\n        <Badge\r\n          className=\"ml-1 hover:bg-red-200 cursor-pointer\"\r\n          type={'danger'}\r\n          onClick={() => openModal(issueType.Id)}\r\n        >\r\n          Delete\r\n        </Badge>\r\n        <Badge\r\n          className=\"ml-1 hover:bg-gray-200 cursor-pointer\"\r\n          type={'neutral'}\r\n          onClick={() => openModal(issueType.Id)}\r\n        >\r\n          <Link\r\n            to={{\r\n              pathname: `/app/issueTypes/projectIssueTypeScreens/${issueType.Id}`,\r\n              state: { issueType, projectIssueTypeScreensHaveName },\r\n            }}\r\n          >\r\n            Configure\r\n          </Link>\r\n        </Badge>\r\n      </TableCell>\r\n    </TableRow>\r\n  )\r\n}\r\n\r\nexport const IssueTypes = () => {\r\n  const { addToast } = useToasts()\r\n  const dispatch = useDispatch()\r\n  const issueTypes = useSelector(selectAllIssueTypes)\r\n  const projectIssueTypeScreens = useSelector(selectAllProjectIssueTypeScreens)\r\n  const screens = useSelector(selectAllScreens)\r\n  const projects = useSelector(selectAllProjects)\r\n\r\n  const issueTypeStatus = useSelector((state) => state.issueTypes.status)\r\n  const projectIssueTypeScreenStatus = useSelector(\r\n    (state) => state.projectIssueTypeScreens.status\r\n  )\r\n  const screenStatus = useSelector((state) => state.screens.status)\r\n  const projectStatus = useSelector((state) => state.projects.loading)\r\n\r\n  const error = useSelector((state) => state.issueTypes.error)\r\n  const success = useSelector((state) => state.issueTypes.success)\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const [id, setId] = useState()\r\n  const errorProjectIssueTypeScreen = useSelector(\r\n    (state) => state.projectIssueTypeScreens.error\r\n  )\r\n  const errorScreens = useSelector((state) => state.screens.error)\r\n  const [page, setPage] = useState(1)\r\n  const [data, setData] = useState([])\r\n  // pagination setup\r\n  const resultsPerPage = 10\r\n  const totalResults = issueTypes.length\r\n\r\n  // pagination change control\r\n  function onPageChange(p) {\r\n    setPage(p)\r\n  }\r\n  useEffect(() => {\r\n    if (issueTypeStatus === 'idle') {\r\n      dispatch(fetchIssueTypes())\r\n    }\r\n    if (projectIssueTypeScreenStatus === 'idle') {\r\n      dispatch(fetchProjectIssueTypeScreens())\r\n    }\r\n    if (screenStatus === 'idle') {\r\n      dispatch(fetchScreens())\r\n    }\r\n    if (projects.length === 0 && projectStatus === false) {\r\n      dispatch(fetchProjects())\r\n    }\r\n    if (error) {\r\n      addToast(error, {\r\n        appearance: 'error',\r\n        autoDismiss: true,\r\n      })\r\n      dispatch(setErrorNull({ error: null }))\r\n    }\r\n    if (success) {\r\n      addToast(success, {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n      })\r\n      dispatch(setSuccessNull({ success: null }))\r\n    }\r\n  }, [\r\n    issueTypeStatus,\r\n    projectIssueTypeScreenStatus,\r\n    screenStatus,\r\n    dispatch,\r\n    error,\r\n    success,\r\n  ])\r\n  useEffect(() => {\r\n    setData(\r\n      issueTypes.slice((page - 1) * resultsPerPage, page * resultsPerPage)\r\n    )\r\n  }, [issueTypes, page])\r\n  function openModal(id) {\r\n    setIsModalOpen(true)\r\n    setId(id)\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  function deleteConfirm(e, Id) {\r\n    e.preventDefault()\r\n    dispatch(deleteIssueType({ Id }))\r\n    closeModal()\r\n  }\r\n  let content\r\n  //console.log(issueTypeStatus, projectIssueTypeScreenStatus, screenStatus, projectStatus, \"lllllllllllllllll\")\r\n  if (\r\n    issueTypeStatus === 'loading' ||\r\n    projectIssueTypeScreenStatus === 'loading' ||\r\n    screenStatus === 'loading' ||\r\n    projectStatus === true\r\n  ) {\r\n    content = <div className=\"loader\">Loading...</div>\r\n  } else if (\r\n    issueTypeStatus === 'succeeded' &&\r\n    projectIssueTypeScreenStatus === 'succeeded' &&\r\n    screenStatus === 'succeeded' &&\r\n    projectStatus === false\r\n  ) {\r\n    // gan ten cua screen va project vao danh sach\r\n    const projectIssueTypeScreensHaveName = []\r\n    projectIssueTypeScreens.forEach((element) => {\r\n      screens.forEach((ele) => {\r\n        if (element.Screen === ele.Id) {\r\n          projectIssueTypeScreensHaveName.push({\r\n            ...element,\r\n            ScreenName: ele.Name,\r\n          })\r\n        }\r\n      })\r\n    })\r\n    projectIssueTypeScreensHaveName.forEach((element) => {\r\n      projects.forEach((ele) => {\r\n        if (element.Project === ele.ProjectKey) {\r\n          element.ProjectName = ele.ProjectName\r\n        }\r\n      })\r\n    })\r\n\r\n    let tbody = data.map((issueType) => {\r\n      const temp = projectIssueTypeScreensHaveName.filter(\r\n        (item1) => item1.Issue_Type === issueType.Id\r\n      )\r\n      return (\r\n        <IssueTypeExcerpt\r\n          key={issueType.Id}\r\n          issueType={issueType}\r\n          projectIssueTypeScreensHaveName={temp}\r\n          openModal={openModal}\r\n        />\r\n      )\r\n    })\r\n    content = (\r\n      <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n        <div className=\"py-8\">\r\n          <div className=\"mb-5 my-2 flex justify-between sm:flex-row flex-col\">\r\n            <h2 className=\"text-2xl font-semibold leading-tight\">Issue types</h2>\r\n            <AddIssueTypeForm />\r\n          </div>\r\n          <TableContainer>\r\n            <Table>\r\n              <TableHeader>\r\n                <tr>\r\n                  <TableCell>Name</TableCell>\r\n                  <TableCell>Icon</TableCell>\r\n                  <TableCell>Description</TableCell>\r\n\r\n                  <TableCell>Action</TableCell>\r\n                </tr>\r\n              </TableHeader>\r\n              <TableBody>{tbody}</TableBody>\r\n            </Table>\r\n            <TableFooter>\r\n              <Pagination\r\n                totalResults={totalResults}\r\n                resultsPerPage={resultsPerPage}\r\n                label=\"Table navigation\"\r\n                onChange={onPageChange}\r\n              />\r\n            </TableFooter>\r\n          </TableContainer>\r\n          <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n            <ModalHeader>Delete ?</ModalHeader>\r\n            <ModalBody>\r\n              {\r\n                \"You're about to permanently this and all of its data. If you're not sure, you can close this instead.\"\r\n              }\r\n            </ModalBody>\r\n            <ModalFooter>\r\n              <div className=\"hidden sm:block\">\r\n                <Button layout=\"outline\" onClick={closeModal}>\r\n                  Cancel\r\n                </Button>\r\n              </div>\r\n              <div className=\"hidden sm:block\">\r\n                <Button onClick={(e) => deleteConfirm(e, id)}>Accept</Button>\r\n              </div>\r\n            </ModalFooter>\r\n          </Modal>\r\n        </div>\r\n      </div>\r\n    )\r\n  } else if (issueTypeStatus === 'failed') {\r\n    content = <div>{error}</div>\r\n  }\r\n\r\n  return <section className=\"issueTypes-list\">{content}</section>\r\n}\r\n","import React from 'react'\r\nimport DialogModal from '../DialogModal'\r\nimport FormInput from '../Form/FormInputNew'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useSelector } from 'react-redux'\r\nimport { useAppDispatch } from '../../store'\r\nimport { statussSelector,updateStatus } from '../../slices/statuss'\r\nimport { DialogActions, DialogContent } from '../DialogModal'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nfunction UpdateStatusModal({ modalDialog }) {\r\n\r\n\r\n  const dispatch = useAppDispatch()\r\n  const { register, handleSubmit } = useForm()\r\n  const { statusUpdate } = useSelector(statussSelector)\r\n\r\n  const { handleClose } = modalDialog\r\n  const onSubmit = (data) => {\r\n    \r\n    dispatch(updateStatus({ id: statusUpdate.StatusId, data }))\r\n    handleClose()\r\n  }\r\n  return (\r\n    <>\r\n      <DialogModal\r\n        title=\"Status\"\r\n        modalDialog={modalDialog}\r\n        handleSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <DialogContent dividers className=\"mx-12\">\r\n            <FormInput\r\n              r={register}\r\n              name=\"StatusName\"\r\n             label={'Status Name'}\r\n              value={statusUpdate.StatusName}\r\n              required\r\n            />\r\n            <FormInput \r\n              r={register}\r\n              name=\"StatusDescription\"\r\n              label={'Description'}\r\n              value={statusUpdate.StatusDescription}\r\n              \r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <div className=\"my-3 mx-5\">\r\n              <Button onClick={handleClose} color=\"secondary\">\r\n                Cancel\r\n              </Button>\r\n              <Button type=\"submit\" color=\"primary\">\r\n                Submit\r\n              </Button>\r\n            </div>\r\n          </DialogActions>\r\n        </form>\r\n      </DialogModal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UpdateStatusModal\r\n","import React, {useState} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAppDispatch } from '../../store'\r\nimport { deleteStatus,setStatusUpdate} from '../../slices/statuss'\r\nimport StatusModal from './UpdateStatusModal';\r\nimport { TableCell, TableRow, Button, ModalHeader, ModalBody,ModalFooter,Modal,Badge } from '@windmill/react-ui'\r\nimport { useToasts } from 'react-toast-notifications'\r\n\r\nconst StatusItem = ({ status }) => {\r\n  const {addToast} = useToasts()\r\n  const dispatch = useAppDispatch()\r\n\r\n  const [isModalOpen, setIsModalOpen, deleteP] = useState(false)\r\n\r\n  function openModal() {\r\n    setIsModalOpen(true)\r\n  }\r\n \r\n\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  function deleteConfirm(e, statusId) {\r\n    e.preventDefault()\r\n    \r\n      dispatch(deleteStatus(statusId))\r\n      // addToast(\"Delete Status Success\", {\r\n      //   appearance: 'success',\r\n      //   autoDismiss: true,\r\n      // })\r\n    \r\n  }\r\n\r\n  const [openUpdate, setOpenUpdate] = React.useState(false)\r\n\r\n  const handleOpenUpdate = (e, status) => {\r\n    e.preventDefault()\r\n    dispatch(setStatusUpdate(status))\r\n    setOpenUpdate(true)\r\n  }\r\n  const handleCloseUpdate = () => {\r\n    setOpenUpdate(false)\r\n  }\r\n  const modalUpdate = {\r\n    open: openUpdate,\r\n    handleOpen: handleOpenUpdate,\r\n    handleClose: handleCloseUpdate,\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <StatusModal modalDialog={modalUpdate} />\r\n      <TableRow key={status.StatusId}>\r\n            <TableCell className=\"px-5 py-5 font-semibold border-b border-gray-200 bg-white text-sm\">\r\n              \r\n              <span>{status.StatusName}</span>\r\n            </TableCell>\r\n            <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n             \r\n              <span>{status.StatusDescription}</span>\r\n            </TableCell>\r\n           \r\n            <TableCell className=\"px-5 py-5 text-center border-b border-gray-200 bg-white text-sm\">\r\n              <Badge \r\n                className=\"ml-1 hover:bg-green-200 cursor-pointer\"\r\n                onClick={(e) => handleOpenUpdate(e, status)} \r\n                    type={'success'} >\r\n              \r\n              \r\n                \r\n                Edit\r\n              </Badge>\r\n              <Badge \r\n                    className=\"ml-1 hover:bg-red-200 cursor-pointer\"\r\n                    onClick={openModal}\r\n                    type={'danger'} >\r\n                  \r\n                \r\n                  \r\n                  Delete\r\n                \r\n              </Badge>\r\n              <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n                <ModalHeader>Delete Status</ModalHeader>\r\n                  <ModalBody>\r\n                    Are you sure DELETE this Status!\r\n                  </ModalBody>\r\n                <ModalFooter>\r\n          {/* I don't like this approach. Consider passing a prop to ModalFooter\r\n           * that if present, would duplicate the buttons in a way similar to this.\r\n           * Or, maybe find some way to pass something like size=\"large md:regular\"\r\n           * to Button\r\n           */}\r\n              <div className=\"hidden sm:block\">\r\n                <Button layout=\"outline\" onClick={closeModal}>\r\n                  Cancel\r\n                </Button>\r\n              </div>\r\n              <div className=\"hidden sm:block\" onClick={(e) => deleteConfirm(e, status.StatusId)}>\r\n                <Button>Accept</Button>\r\n              </div>\r\n              <div className=\"block w-full sm:hidden\">\r\n                <Button block size=\"large\" layout=\"outline\" onClick={closeModal}>\r\n                  Cancel\r\n                </Button>\r\n              </div>\r\n              <div className=\"block w-full sm:hidden\">\r\n                <Button block size=\"large\">\r\n                  Accept\r\n                </Button>\r\n              </div>\r\n                </ModalFooter>\r\n      </Modal>\r\n            </TableCell>\r\n          </TableRow>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default StatusItem\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { fetchStatuss, statussSelector,setState  } from '../slices/statuss'\r\nimport { Link } from 'react-router-dom'\r\nimport StatusItem from '../components/Status/StatusItem'\r\nimport { useAppDispatch } from '../store'\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableBody,\r\n  TableRow,\r\n  TableFooter,\r\n  TableContainer,\r\n  Button,\r\n  Pagination,\r\n  Select\r\n} from '@windmill/react-ui'\r\nconst Statuss = () => {\r\n  \r\n  \r\n  const { addToast } = useToasts()\r\n  const dispatch = useAppDispatch()\r\n  const { updateMess, updateSuccess,statuss, loading, hasErrors } = useSelector(statussSelector)\r\n  useEffect(() => {\r\n    dispatch(fetchStatuss())\r\n  }, [dispatch])\r\n  useEffect(() => {\r\n         if (updateSuccess) {\r\n           addToast(\" Success\", {\r\n               appearance: 'success',\r\n               autoDismiss: true,\r\n           })\r\n           dispatch(setState())\r\n         }\r\n       }, [updateSuccess])\r\n\r\n  \r\n    // setup pages control for every table\r\n  const [pageTable1, setPageTable1] = useState(1)\r\n  // setup data for every table \r\n  const [dataTable1, setDataTable1] = useState([])\r\n  // pagination setup\r\n  const resultsPerPage = 5\r\n  const totalResults = statuss.length\r\n  // pagination change control\r\n  function onPageChangeTable1(p) {\r\n    setPageTable1(p)\r\n  }\r\n  // on page change, load new sliced data\r\n  // here you would make another server request for new data\r\n  useEffect(() => {\r\n    setDataTable1(statuss.slice((pageTable1 - 1) * resultsPerPage, pageTable1 * resultsPerPage))\r\n  }, [statuss,pageTable1])\r\n\r\n\r\n\r\n  //search user\r\n  //setup search\r\n  const [searchTerm, setSearchTerm] = React.useState('')\r\n  const [searchResults, setSearchResults] = React.useState([])\r\n  //setup select \r\n  const [selectTerm, setSelectTerm] = React.useState('')\r\n  const handleChange = (e) => {\r\n    setSearchTerm(e.target.value)\r\n  }\r\n  const handleSelect = (e) =>{\r\n    setSelectTerm(e.target.value)\r\n  }\r\n  useEffect(() => {\r\n    const results = statuss.filter(\r\n      (person) =>\r\n        person.StatusName.toLowerCase().indexOf(searchTerm.toLowerCase()) !=\r\n          -1 \r\n        // person.User_Full_Name.toLowerCase().indexOf(searchTerm.toLowerCase()) !=\r\n        //   -1\r\n    )\r\n    setSearchResults(results)\r\n  }, [searchTerm])\r\n  useEffect(() => {\r\n    const resultsSelect = statuss.filter(\r\n      (person) => person.WorkflowId == selectTerm\r\n    )\r\n    setSearchResults(resultsSelect)\r\n  }, [selectTerm])\r\n  //render user\r\n  const renderStatus = () => {\r\n    if (\r\n      (searchTerm == '' && selectTerm == 'All') ||\r\n      (searchTerm == '' && selectTerm == '')\r\n    ) {\r\n      if(statuss){\r\n      return dataTable1.map((status) => <StatusItem key={status.StatusId} status={status} />)\r\n      }\r\n      else return <div> NULL STATUS </div>\r\n    } else {\r\n      return searchResults.map((status) => (\r\n        <StatusItem key={status.StatusId} status={status} />\r\n      ))\r\n    }\r\n  }\r\n  \r\n  \r\n\r\n  if (loading) {\r\n    return (\r\n      <tr>\r\n        <div className=\"loader\">Loading...</div>\r\n      </tr>\r\n    )\r\n  }\r\n  if (hasErrors) return <p>Unable to get Projects.</p>\r\n  return (\r\n    <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n      <div className=\"py-8\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-semibold leading-tight\"> Status</h2>\r\n        </div>\r\n<div className=\"my-2 flex justify-between sm:flex-row flex-col\">\r\n          <div className=\"flex\">\r\n            <Link to=\"/app/status-manager/create-status\">\r\n              <Button >\r\n                Create status\r\n              </Button>\r\n            </Link>\r\n            {/* <Link to=\"/invite-user\">\r\n              <button className=\"bg-white border shadow-sm px-3 py-1.5 rounded-md hover:text-green-500 text-gray-700 ml-1\">\r\n                Invite Users\r\n              </button        ton>\r\n            </Link> */}\r\n          </div>\r\n          <div className=\"flex relative\">\r\n              <span className=\"h-full absolute inset-y-0 right-2 flex items-center pl-2\">\r\n                <svg\r\n                  viewBox=\"0 0 24 24\"\r\n                  className=\"h-4 w-4 fill-current text-gray-500\"\r\n                >\r\n                  <path d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\"></path>\r\n                </svg>\r\n              </span>\r\n              <input\r\n                placeholder=\"Search\"\r\n                className=\"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\r\n                value={searchTerm}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n        </div>\r\n        <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n          <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n            <table className=\"min-w-full leading-normal\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    Status Name\r\n                  </th>\r\n                  <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    Description\r\n                  </th>\r\n                  {/* <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    Email\r\n                  </th> */}\r\n                  {/* <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    Group name\r\n                  </th> */}\r\n                  <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    Action\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>{renderStatus()}</tbody>\r\n            </table>\r\n            <TableFooter>\r\n          <Pagination\r\n            totalResults={totalResults}\r\n            resultsPerPage={resultsPerPage}\r\n            onChange={onPageChangeTable1}\r\n            label=\"Table navigation\"\r\n          />\r\n        </TableFooter>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Statuss\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAppDispatch } from '../../store'\r\nimport { deleteProjectInWorkflow } from '../../slices/wor-pro'\r\nimport { TableCell, TableRow, Badge } from '@windmill/react-ui'\r\nimport { useToasts } from 'react-toast-notifications'\r\nexport default function WorkflowProjectItem({ workflow_project }) {\r\n\r\n  const dispatch = useAppDispatch()\r\n  const {addToast} = useToasts()\r\n  function deleteConfirm(e, WorkflowId, ProjectKey) {\r\n    e.preventDefault()\r\n    \r\n      dispatch(deleteProjectInWorkflow(WorkflowId,ProjectKey))\r\n      addToast(\"Delete Status Success\", {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n      })\r\n    \r\n  }\r\n\r\n\r\n  \r\n  return (\r\n    <>\r\n      {/* <ProjectModal modalDialog={modalUpdate} /> */}\r\n      <tr>\r\n        <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n          <div className=\"flex items-center\">\r\n            <TableCell className=\"ml-3\">\r\n             \r\n                {workflow_project.ProjectName}\r\n                    \r\n                 \r\n            </TableCell>\r\n          </div>\r\n        </td>\r\n        {/* <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n            <Link to=\"#\">\r\n              <a className=\"text-blue-400 whitespace-no-wrap\">\r\n                {workflow.Workflow_Description}\r\n              </a>\r\n            </Link>\r\n          </td> */}\r\n        {/* <td className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n            <Link to=\"#\">\r\n              <ul className=\"text-blue-400 whitespace-no-wrap\">\r\n                {renderWorkflowProject()}\r\n              </ul>\r\n            </Link>\r\n          </td> */}\r\n\r\n        <td className=\"px-5 py-5 text-center border-b border-gray-200 bg-white text-sm\">\r\n          {/* <span className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\">\r\n              <span\r\n                aria-hidden\r\n                className=\"absolute inset-0 bg-green-200 opacity-50 rounded-full\"\r\n              />\r\n               <a \r\n                // onClick={(e) => handleOpenUpdate(e,workflow)}\r\n                className=\"relative cursor-pointer\"\r\n              >\r\n                Edit\r\n              </a>\r\n            </span> */}\r\n           <Badge\r\n              className=\"hover:bg-green-200 cursor-pointer\"\r\n              type={'success'}\r\n              onClick={(e) => deleteConfirm(e, workflow_project.WorkflowId,workflow_project.ProjectKey)}\r\n             \r\n              >\r\n            \r\n            \r\n              Delete\r\n              </Badge>\r\n          \r\n        </td>\r\n      </tr>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport DialogModal from '../DialogModal'\r\nimport { DialogActions, DialogContent } from '../DialogModal'\r\nimport FormInput from '../Form/FormInput'\r\n\r\nimport { Button } from '@windmill/react-ui'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useAppDispatch } from '../../store'\r\nimport { AddProjectToWorkflow } from '../../slices/wor-pro'\r\nimport { fetchProjects, projectsSelector } from '../../slices/projects'\r\nimport { useSelector } from 'react-redux'\r\nimport projectApi from '../../api/projectApi'\r\nimport axios from 'axios'\r\n\r\nexport default function UpdateProjectWorkflow({ modalDialog }) {\r\n  const { handleClose, data_workflow } = modalDialog\r\n  const [fullData, setResult] = useState([])\r\n  useEffect(() => {\r\n    if (modalDialog) {\r\n      // transitionApi.getTransitionStatus(transition.TransitionId).then((data) => {\r\n      //   console.log(data.Data)\r\n      //   setResult(data.Data)\r\n      console.log(modalDialog)\r\n      axios({\r\n        method: 'get',\r\n        url: 'http://localhost:5001/api/projects/projectkey',\r\n        responseType: 'stream'\r\n      })\r\n        .then(function (response) {\r\n          console.log(response)\r\n          setResult(response.data.Data)\r\n        });\r\n      \r\n    }\r\n  }, [])\r\n  const dispatch = useAppDispatch()\r\n\r\n  const { register, handleSubmit } = useForm()\r\n  const { projects, loading, hasErrors } = useSelector(projectsSelector)\r\n  useEffect(() => {\r\n    dispatch(fetchProjects())\r\n  }, [dispatch])\r\n\r\n  const onSubmit = (data) => {\r\n    let project_name\r\n    projects.map((temp) => {\r\n      if (temp.ProjectKey == data.idproject) {\r\n        project_name = temp.ProjectName\r\n      }\r\n    })\r\n    //data gửi qua slice\r\n    const postdata = {\r\n      idworkflow: data_workflow.WorkflowId.toString(), //props\r\n      idproject: data.idproject,\r\n      ProjectName: project_name,\r\n      ProjectKey: data.idproject,\r\n      WorkflowId: data_workflow.WorkflowId.toString(),\r\n    }\r\n    dispatch(AddProjectToWorkflow(postdata))\r\n    handleClose()\r\n  }\r\n  //filter project which workflow don't aleardy\r\n\r\n  let id_project = []\r\n  projects.map((temp) => {\r\n    id_project.push(temp.ProjectKey)\r\n  })\r\n  fullData?.map((temp) => {\r\n    id_project.push(temp.ProjectKey)\r\n  })\r\n  //console.log(projects)\r\n  //console.log(\"kkkk\")\r\n  //console.log(fullData)\r\n  const temp = projects.filter(\r\n    (item1) => !fullData?.some((item2) => item1.ProjectKey === item2.ProjectKey)\r\n  )\r\n\r\n  var options = temp ? temp.map((option) => {\r\n    return (\r\n      <option key={option.ProjectKey} value={option.ProjectKey}>\r\n        {option.ProjectName}\r\n      </option>\r\n    )\r\n  }) : ''\r\n\r\n  return (\r\n    <>\r\n      <DialogModal\r\n        title=\"Grant Workflow\"\r\n        modalDialog={modalDialog}\r\n        // handleSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <DialogContent dividers className=\"mx-12\">\r\n            <div className=\"grid grid-cols-1 my-4\">\r\n              <label className=\"uppercase md:text-sm text-xs text-gray-500 text-light\">\r\n                Project\r\n              </label>\r\n              <select\r\n                className=\"py-2 px-3 rounded-md border border-green-500 mt-2 focus:outline-none focus:ring-1 focus:ring-green-700 focus:border-transparent\"\r\n                {...register('idproject')}\r\n              >\r\n                {options}\r\n              </select>\r\n            </div>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <div className=\"hidden sm:block m-2\">\r\n              <Button layout=\"outline\" onClick={handleClose} color=\"secondary\">\r\n                Cancel\r\n              </Button>\r\n              </div>\r\n            <div className=\"hidden sm:block m-2\">\r\n              <Button type=\"submit\" color=\"primary\">\r\n                Submit\r\n              </Button>\r\n            </div>\r\n          </DialogActions>\r\n        </form>\r\n      </DialogModal>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { fetchTransitions,getDataByIdWorkflow,transitionsSelector } from '../slices/transition'\r\nimport { fetchTransitionStatuss,transitionStatussSelector } from '../slices/tra-sta'\r\nimport { fetchStatuss, statussSelector,setState  } from '../slices/statuss'\r\nimport { useAppDispatch } from '../store'\r\nimport { useSelector } from 'react-redux'\r\nimport TransitionItem from '../components/Transition/TransitionItem'\r\nimport { Link } from 'react-router-dom'\r\nimport { workflowsSelector } from '../slices/workflows'\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableBody,\r\n  TableRow,\r\n  TableFooter,\r\n  TableContainer,\r\n  Button,\r\n  Pagination,\r\n  Select\r\n} from '@windmill/react-ui'\r\n const TransitionManager= () => {\r\n    const {workflowUpdate} = useSelector(workflowsSelector)\r\n    if (workflowUpdate.WorkflowId) {\r\n      localStorage.setItem('Workflow', JSON.stringify(workflowUpdate))\r\n    }\r\n    let temp = JSON.parse(localStorage.getItem('Workflow') || '[]' )\r\n    const dispatch = useAppDispatch()\r\n    \r\n    const { transitions,loading, hasErrors } = useSelector(transitionsSelector)\r\n   useEffect(() => {\r\n        dispatch(getDataByIdWorkflow(temp.WorkflowId)) \r\n    }, [dispatch])\r\n    localStorage.setItem('TransitionAll', JSON.stringify(transitions))\r\n\r\n    // setup pages control for every table\r\n  const [pageTable1, setPageTable1] = useState(1)\r\n  // setup data for every table \r\n  const [dataTable1, setDataTable1] = useState([])\r\n  // pagination setup\r\n  const resultsPerPage =5\r\n  const totalResults = transitions.length\r\n  // pagination change control\r\n  function onPageChangeTable1(p) {\r\n    setPageTable1(p)\r\n  }\r\n  // on page change, load new sliced data\r\n  // here you would make another server request for new data\r\n  useEffect(() => {\r\n    setDataTable1(transitions.slice((pageTable1 - 1) * resultsPerPage, pageTable1 * resultsPerPage))\r\n  }, [transitions, pageTable1])\r\n\r\n    const renderTransition = () =>\r\n       {    if(transitions)\r\n            return dataTable1.map((transition)=>\r\n            <TransitionItem key={transition.TransitionId} transition={transition} />\r\n        )\r\n        else return <div>NULL</div>\r\n    }\r\n    \r\n    if (loading) {\r\n      return (\r\n        <tr>\r\n          <div className=\"loader\">Loading...</div>\r\n        </tr>\r\n      )\r\n    }\r\n\r\n    if (hasErrors) return <p>Unable to get Transition.</p>\r\n    return (\r\n        <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n        <div className=\"py-8\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-semibold leading-tight\">Transition</h2>\r\n          </div>\r\n          <div className=\"my-2 flex justify-between sm:flex-row flex-col\">\r\n          <div className=\"flex\">\r\n            <Link to=\"/app/workflows-manager/transitions-manager/create-transitions\">\r\n              <Button >\r\n                Create Transition\r\n              </Button>\r\n            </Link>\r\n            {/* <Link to=\"/invite-user\">\r\n              <button className=\"bg-white border shadow-sm px-3 py-1.5 rounded-md hover:text-green-500 text-gray-700 ml-1\">\r\n                Invite Users\r\n              </button>\r\n            </Link> */}\r\n          </div>\r\n        </div>\r\n          <div className=\"my-2 flex justify-between sm:flex-row flex-col\">\r\n            <div className=\"flex\">\r\n              {/* <Link to=\"/create-statuss\">\r\n                <button className=\"bg-white border shadow-sm px-3 py-1.5 rounded-md hover:text-green-500 text-gray-700\">\r\n                  Create status\r\n                </button>\r\n              </Link> */}\r\n              {/* <Link to=\"/invite-user\">\r\n                <button className=\"bg-white border shadow-sm px-3 py-1.5 rounded-md hover:text-green-500 text-gray-700 ml-1\">\r\n                  Invite Users\r\n                </button>\r\n              </Link> */}\r\n            </div>\r\n          </div>\r\n          <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n            <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n              <table className=\"min-w-full leading-normal\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Name Transition\r\n                    </th>\r\n                    \r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Status 1\r\n                    </th>\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Status 2\r\n                    </th>\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Action\r\n                    </th>\r\n                    {/* <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Group name\r\n                    </th> */}\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      {/* Action */}\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>{renderTransition()}</tbody>\r\n              </table>\r\n              <TableFooter>\r\n          <Pagination\r\n            totalResults={totalResults}\r\n            resultsPerPage={resultsPerPage}\r\n            onChange={onPageChangeTable1}\r\n            label=\"Table navigation\"\r\n          />\r\n        </TableFooter>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\nexport default TransitionManager","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { unwrapResult } from '@reduxjs/toolkit'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport {\r\n  addNewProjectIssueTypeScreen,\r\n  deleteProjectIssueTypeScreen,\r\n  setErrorNull,\r\n  setSuccessNull,\r\n} from '../slices/projectIssueTypeScreens'\r\nimport { selectAllScreens } from '../slices/screens'\r\nimport { selectAllProjects } from '../slices/projects'\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button,\r\n  TableBody,\r\n  TableContainer,\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableRow,\r\n  TableFooter,\r\n  Avatar,\r\n  Badge,\r\n  Pagination,\r\n  Label,\r\n  Select,\r\n} from '@windmill/react-ui'\r\n\r\nconst ProjectIssueTypeScreenExcerpt = ({\r\n  projectIssueTypeScreen,\r\n  openModal,\r\n}) => {\r\n  return (\r\n    <TableRow key={projectIssueTypeScreen.Id}>\r\n      <TableCell>\r\n        <div className=\"flex items-center text-sm\">\r\n          <div>\r\n            <p className=\"font-semibold\">{`${projectIssueTypeScreen.ProjectName} (${projectIssueTypeScreen.Project})`}</p>\r\n          </div>\r\n        </div>\r\n      </TableCell>\r\n      <TableCell>\r\n        <div className=\"flex items-center text-sm\">\r\n          <div>\r\n            <p className=\"font-semibold\">{projectIssueTypeScreen.ScreenName}</p>\r\n          </div>\r\n        </div>\r\n      </TableCell>\r\n      <TableCell>\r\n        <Badge\r\n          className=\"ml-1 hover:bg-red-200 cursor-pointer\"\r\n          type={'danger'}\r\n          onClick={() => openModal(projectIssueTypeScreen.Id)}\r\n        >\r\n          Delete\r\n        </Badge>\r\n      </TableCell>\r\n    </TableRow>\r\n  )\r\n}\r\n\r\nexport const ProjectIssueTypeScreens = () => {\r\n  const { addToast } = useToasts()\r\n  const location = useLocation()\r\n  const issueType = location.state?.issueType\r\n  const [rows, setRows] = useState(\r\n    location.state?.projectIssueTypeScreensHaveName\r\n  )\r\n\r\n  // code below add new project issue type screen\r\n  const dispatch = useDispatch()\r\n  const screens = useSelector(selectAllScreens)\r\n  const projects = useSelector(selectAllProjects)\r\n  const filteredProjects = projects.filter(\r\n    (item1) => !rows.some((item2) => item1.ProjectKey === item2.Project)\r\n  )\r\n\r\n  const filteredScreensOptions = screens.map((screen) => (\r\n    <option key={screen.Id} value={screen.Id}>\r\n      {screen.Name}\r\n    </option>\r\n  ))\r\n  const filteredProjectsOptions = filteredProjects.map((project) => (\r\n    <option key={project.ProjectKey} value={project.ProjectKey}>\r\n      {project.ProjectName}\r\n    </option>\r\n  ))\r\n\r\n  const [screen, setScreen] = useState('')\r\n  const onScreenChanged = (e) => setScreen(e.target.value)\r\n  const [project, setProject] = useState('')\r\n  const onProjectChanged = (e) => setProject(e.target.value)\r\n  const [addRequestStatus, setAddRequestStatus] = useState('idle')\r\n  const canSave =\r\n    [screen, project].every(Boolean) && addRequestStatus === 'idle'\r\n\r\n  const onSaveClicked = async () => {\r\n    if (canSave) {\r\n      try {\r\n        setAddRequestStatus('pending')\r\n        setScreen('')\r\n        setProject('')\r\n        const resultAction = await dispatch(\r\n          addNewProjectIssueTypeScreen({\r\n            Project: project,\r\n            Issue_Type: issueType.Id,\r\n            Screen: Number(screen),\r\n          })\r\n        ).then((res) => {\r\n          let result = [res.payload.Data]\r\n          const projectIssueTypeScreensHaveName = []\r\n          result.forEach((element) => {\r\n            screens.forEach((ele) => {\r\n              if (element.Screen === ele.Id) {\r\n                projectIssueTypeScreensHaveName.push({\r\n                  ...element,\r\n                  ScreenName: ele.Name,\r\n                })\r\n              }\r\n            })\r\n          })\r\n          projectIssueTypeScreensHaveName.forEach((element) => {\r\n            projects.forEach((ele) => {\r\n              if (element.Project === ele.ProjectKey) {\r\n                element.ProjectName = ele.ProjectName\r\n              }\r\n            })\r\n          })\r\n          setRows((oldArray) => [\r\n            ...oldArray,\r\n            ...projectIssueTypeScreensHaveName,\r\n          ])\r\n        })\r\n      } catch (err) {\r\n        console.error('Failed to save the customField: ', err)\r\n      } finally {\r\n        setAddRequestStatus('idle')\r\n      }\r\n    }\r\n  }\r\n  const projectIssueTypeScreenStatus = useSelector(\r\n    (state) => state.projectIssueTypeScreens.status\r\n  )\r\n  const error = useSelector((state) => state.projectIssueTypeScreens.error)\r\n  const success = useSelector((state) => state.projectIssueTypeScreens.success)\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const [id, setId] = useState()\r\n  const [page, setPage] = useState(1)\r\n  const [data, setData] = useState([])\r\n  // pagination setup\r\n  const resultsPerPage = 10\r\n  const totalResults = rows.length\r\n\r\n  // pagination change control\r\n  function onPageChange(p) {\r\n    setPage(p)\r\n  }\r\n  useEffect(() => {\r\n    if (error) {\r\n      addToast(error, {\r\n        appearance: 'error',\r\n        autoDismiss: true,\r\n      })\r\n      dispatch(setErrorNull({ error: null }))\r\n    }\r\n    if (success) {\r\n      addToast(success, {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n      })\r\n      dispatch(setSuccessNull({ success: null }))\r\n    }\r\n  }, [projectIssueTypeScreenStatus, dispatch, error, success])\r\n  useEffect(() => {\r\n    setData(rows.slice((page - 1) * resultsPerPage, page * resultsPerPage))\r\n  }, [page, rows])\r\n  function openModal(id) {\r\n    setIsModalOpen(true)\r\n    setId(id)\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  function deleteConfirm(e, id) {\r\n    e.preventDefault()\r\n    dispatch(deleteProjectIssueTypeScreen({ Id: id })).then((res) =>\r\n      deleteRow(res.payload.Data.Id)\r\n    )\r\n    closeModal()\r\n  }\r\n  const deleteRow = (Id) => {\r\n    const result = rows.filter((ele) => ele.Id !== Id)\r\n    setRows(result)\r\n  }\r\n  let content\r\n\r\n  let tbody = data?.map((projectIssueTypeScreen) => (\r\n    <ProjectIssueTypeScreenExcerpt\r\n      key={projectIssueTypeScreen.Id}\r\n      projectIssueTypeScreen={projectIssueTypeScreen}\r\n      openModal={openModal}\r\n    />\r\n  ))\r\n  content = (\r\n    <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n      <div className=\"py-8\">\r\n        <div className=\"mb-5 my-2 flex justify-between sm:flex-row flex-col\">\r\n          <h2 className=\"text-2xl font-semibold leading-tight\">{`Issue type: ${issueType.Name}`}</h2>\r\n          <div className=\"flex justify-between sm:flex-row flex-col\">\r\n            <Label className=\"m-2\">\r\n              <span className=\"text-1xl font-semibold leading-tight\">\r\n                Choose a screen:\r\n              </span>\r\n              <Select\r\n                className=\"mt-1\"\r\n                value={screen}\r\n                onChange={onScreenChanged}\r\n              >\r\n                <option value=\"\"></option>\r\n                {filteredScreensOptions}\r\n              </Select>\r\n            </Label>\r\n            <Label className=\"m-2\">\r\n              <span className=\"text-1xl font-semibold leading-tight\">\r\n                Choose a project:\r\n              </span>\r\n              <Select\r\n                className=\"mt-1\"\r\n                value={project}\r\n                onChange={onProjectChanged}\r\n              >\r\n                <option value=\"\"></option>\r\n                {filteredProjectsOptions}\r\n              </Select>\r\n            </Label>\r\n            <Label className=\"m-2\">\r\n              <Button\r\n                className=\"mt-6\"\r\n                onClick={onSaveClicked}\r\n                disabled={!canSave}\r\n              >\r\n                Save\r\n              </Button>\r\n            </Label>\r\n          </div>\r\n        </div>\r\n        <TableContainer>\r\n          <Table>\r\n            <TableHeader>\r\n              <tr>\r\n                <TableCell>Project</TableCell>\r\n                <TableCell>Screen</TableCell>\r\n                <TableCell>Action</TableCell>\r\n              </tr>\r\n            </TableHeader>\r\n            <TableBody>{tbody}</TableBody>\r\n          </Table>\r\n          <TableFooter>\r\n            <Pagination\r\n              totalResults={totalResults}\r\n              resultsPerPage={resultsPerPage}\r\n              label=\"Table navigation\"\r\n              onChange={onPageChange}\r\n            />\r\n          </TableFooter>\r\n        </TableContainer>\r\n        <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n          <ModalHeader>Delete ?</ModalHeader>\r\n          <ModalBody>\r\n            {\r\n              \"You're about to permanently this and all of its data. If you're not sure, you can close this instead.\"\r\n            }\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            {/* I don't like this approach. Consider passing a prop to ModalFooter\r\n             * that if present, would duplicate the buttons in a way similar to this.\r\n             * Or, maybe find some way to pass something like size=\"large md:regular\"\r\n             * to Button\r\n             */}\r\n            <div className=\"hidden sm:block\">\r\n              <Button layout=\"outline\" onClick={closeModal}>\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n            <div className=\"hidden sm:block\">\r\n              <Button onClick={(e) => deleteConfirm(e, id)}>Accept</Button>\r\n            </div>\r\n          </ModalFooter>\r\n        </Modal>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  return <section className=\"projectIssueTypeScreens-list\">{content}</section>\r\n}\r\n","import React from 'react'\r\nimport DialogModal from '../DialogModal'\r\nimport FormInput from '../Form/FormInputNew'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useSelector } from 'react-redux'\r\nimport { useAppDispatch } from \"../../store\";\r\nimport { projectsSelector, updateProject } from '../../slices/projects'\r\nimport { DialogActions, DialogContent } from '../DialogModal';\r\nimport Button from '@material-ui/core/Button'\r\nimport {Textarea} from '@windmill/react-ui'\r\nfunction UpdateProjectModal({ modalDialog }) {\r\n  const dispatch = useAppDispatch()\r\n  const { register, handleSubmit } = useForm()\r\n  const { projectUpdate } = useSelector(projectsSelector)\r\n  const { handleClose } = modalDialog\r\n  const onSubmit = (formData) => {\r\n    const data = Object.assign({}, projectUpdate, formData)\r\n    \r\n   \r\n    dispatch(updateProject({key: projectUpdate.ProjectKey, data}))\r\n    handleClose()\r\n  }\r\n  return (\r\n    <>\r\n      <DialogModal\r\n        title=\"Details\"\r\n        modalDialog={modalDialog}\r\n        handleSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n        <DialogContent dividers className=\"mx-12\">\r\n            {/* <FormInput\r\n              r={register}\r\n              name=\"Project_Full_Name\"\r\n              label={'Name'}\r\n              value={projectUpdate.Project_Full_Name}\r\n              required\r\n            />\r\n            <FormInput r={register} name=\"Projectname\" label={'Projectname'} value={projectUpdate.Projectname} required />\r\n            <FormInput r={register} name=\"Project_Email\" label={'Email'} value={projectUpdate.Project_Email} required />\r\n            <FormInput\r\n              r={register}\r\n              name=\"Project_Password\"\r\n              label={'Password (Để trống nếu không thay đổi)'}\r\n            />\r\n            <FormInput r={register} name=\"Is_Admin\" label={'Is Admin'} value={projectUpdate.Is_Admin} required /> */}\r\n            \r\n            <FormInput r={register} name=\"ProjectName\" label={'Name'} value={projectUpdate.ProjectName} required/>\r\n            <FormInput r={register} name=\"ProjectUrl\" label={'URL'} value={projectUpdate.ProjectUrl}/>\r\n            {/* <FormSelect label={'Project Type'}>\r\n              <option>Software</option>\r\n              <option>Option 2</option>\r\n              <option>Option 3</option>\r\n            </FormSelect> */}\r\n            <div className=\"mb-5 w-full relative z-0\">\r\n              <Textarea className=\"pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 \r\n              border-b-2 h-36 resize-none appearance-none focus:outline-none focus:ring-0 focus:border-green-800 border-gray-200\" \r\n              name=\"name\" placeholder=\" \" defaultValue={projectUpdate.ProjectDescription} />\r\n              <label htmlFor=\"name\" className=\"absolute duration-300 \r\n              top-3 origin-0 text-gray-500 -z-1\">Description</label>\r\n            </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <div className=\"my-3 mx-5\">\r\n            <Button onClick={handleClose} color=\"secondary\">\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" color=\"primary\">\r\n              Submit\r\n            </Button>\r\n          </div>\r\n        </DialogActions>\r\n        </form>\r\n      </DialogModal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UpdateProjectModal\r\n","import React from 'react'\r\nimport DialogModal from '../DialogModal'\r\nimport FormInput from '../Form/FormInput'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useSelector } from 'react-redux'\r\nimport { useAppDispatch } from \"../../store\";\r\nimport { projectsSelector, updateProject } from '../../slices/projects'\r\nimport { DialogActions, DialogContent } from '../DialogModal';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nfunction ViewProject({ modalDialog }) {\r\n  const dispatch = useAppDispatch()\r\n  const { register, handleSubmit } = useForm()\r\n  const { projectUpdate } = useSelector(projectsSelector)\r\n  const { handleCloseViewProject } = modalDialog\r\n  const onSubmit = (formData) => {\r\n    const data = Object.assign({}, projectUpdate, formData)\r\n    console.log(data);\r\n    alert(projectUpdate)\r\n    // dispatch(updateProject({key: projectUpdate.ProjectKey, data}))\r\n    handleCloseViewProject()\r\n  }\r\n  return (\r\n    <>\r\n      <DialogModal\r\n        title=\"Details\"\r\n        modalDialog={modalDialog}\r\n        handleSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n        <DialogContent dividers className=\"mx-12\">\r\n            {/* <FormInput\r\n              r={register}\r\n              name=\"Project_Full_Name\"\r\n              label={'Name'}\r\n              value={projectUpdate.Project_Full_Name}\r\n              required\r\n            />\r\n            <FormInput r={register} name=\"Projectname\" label={'Projectname'} value={projectUpdate.Projectname} required />\r\n            <FormInput r={register} name=\"Project_Email\" label={'Email'} value={projectUpdate.Project_Email} required />\r\n            <FormInput\r\n              r={register}\r\n              name=\"Project_Password\"\r\n              label={'Password (Để trống nếu không thay đổi)'}\r\n            />\r\n            <FormInput r={register} name=\"Is_Admin\" label={'Is Admin'} value={projectUpdate.Is_Admin} required /> */}\r\n            \r\n            <FormInput r={register} name=\"ProjectName\" label={'Name'} value={projectUpdate.ProjectName} required />\r\n            <FormInput r={register} name=\"ProjectUrl\" label={'URL'} value={projectUpdate.ProjectUrl} required />\r\n            <FormInput r={register} name=\"ProjectLead\" label={'Project Lead'} value={projectUpdate.ProjectLead} required/>\r\n            {/* <FormSelect label={'Project Type'}>\r\n              <option>Software</option> \r\n              <option>Option 2</option>\r\n              <option>Option 3</option>\r\n            </FormSelect> */}\r\n            <div className=\"mb-5 w-full relative z-0\">\r\n              <textarea className=\"pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 \r\n              border-b-2 h-36 resize-none appearance-none focus:outline-none focus:ring-0 focus:border-green-800 border-gray-200\" \r\n              name=\"name\" placeholder=\" \" defaultValue={projectUpdate.ProjectDescription} required/>\r\n              <label htmlFor=\"name\" className=\"absolute duration-300 \r\n              top-3 origin-0 text-gray-500 -z-1\">Description</label>\r\n            </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <div className=\"my-3 mx-5\">\r\n            <Button onClick={handleCloseViewProject} color=\"secondary\">\r\n              Cancel\r\n            </Button>\r\n            {/* <Button type=\"submit\" color=\"primary\">\r\n              Submit\r\n            </Button> */}\r\n          </div>\r\n        </DialogActions>\r\n        </form>\r\n      </DialogModal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ViewProject\r\n","import React, {useState,useEffect} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAppDispatch } from '../../store'\r\nimport { deleteProject, setProjectUpdate } from '../../slices/projects'\r\nimport { selectAllIssues, fetchIssues, deleteIssue } from '../../slices/issues'\r\nimport { fetchWorkflows,workflowsSelector,setState } from '../../slices/workflows'\r\nimport UpdateProjectModal from './UpdateProjectModal';\r\nimport ViewProject from './ViewProject';\r\nimport { setWorkflowUpdate } from '../../slices/workflows'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { TableCell, TableRow, Button, Table, ModalHeader, ModalBody,ModalFooter,Modal,Badge } from '@windmill/react-ui';\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nconst ProjectItem = ({ project }) => {\r\n  \r\n  const {addToast} = useToasts()\r\n  const dispatch = useAppDispatch()\r\n  const history = useHistory()\r\n  \r\n  const { updateWor, updateSuccess,workflows,loading, hasErrors } = useSelector(workflowsSelector)\r\n   useEffect(() => {\r\n        dispatch(fetchWorkflows()) \r\n    }, [dispatch])\r\n    console.log(workflows)\r\n  const [isModalOpen, setIsModalOpen, deleteP] = useState(false)\r\n  let temp = JSON.parse(localStorage.getItem('WorkflowAll') || '[]' )\r\n  let temp1 = JSON.parse(localStorage.getItem('IssuesAll') || '[]' )\r\n  let WorkflowNa\r\n  workflows.map((temp1) =>{\r\n    if(temp1.WorkflowId == project.WorkflowId){\r\n      WorkflowNa = temp1.WorkflowName\r\n    }\r\n  }) \r\n  function openModal() {\r\n    setIsModalOpen(true)\r\n  }\r\n \r\n\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  function deleteConfirm(e, project_key) {\r\n    let bool\r\n    temp1.map((temp) =>{\r\n      if(temp.Project == project_key){\r\n          bool =-5\r\n      }\r\n  })\r\n  if(bool == -5){\r\n    addToast(\"Must Delete All issue in this project!\", {\r\n      appearance: 'error',\r\n      autoDismiss: true,\r\n    })\r\n\r\n  }\r\n  else{\r\n    setIsModalOpen(true)\r\n    e.preventDefault()\r\n    \r\n      dispatch(deleteProject(project_key))\r\n      //alert('Delete Success!')\r\n      addToast(\"Delete Success!\", {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n      })\r\n  }\r\n    \r\n    \r\n  }\r\n  const issues = useSelector(selectAllIssues)\r\n  console.log(issues)\r\n  const [openUpdate, setOpenUpdate] = React.useState(false)\r\n\r\n  const handleOpenUpdate = (e, project) => {\r\n    e.preventDefault()\r\n    dispatch(setProjectUpdate(project))\r\n    setOpenUpdate(true)\r\n  }\r\n  const handleCloseUpdate = () => {\r\n    setOpenUpdate(false)\r\n  }\r\n  const modalUpdate = {\r\n    open: openUpdate,\r\n    handleOpen: handleOpenUpdate,\r\n    handleClose: handleCloseUpdate,\r\n  }\r\n\r\n  const [openView, setOpenView] = React.useState(false)\r\n\r\n  const handleOpenView = (e, project) => {\r\n    e.preventDefault()\r\n    dispatch(setProjectUpdate(project))\r\n    setOpenView(true)\r\n  }\r\n  const handleCloseView = () => {\r\n    setOpenView(false)\r\n  }\r\n  const modalView = {\r\n    open: openView,\r\n    handleOpenViewProject: handleOpenView,\r\n    handleCloseViewProject: handleCloseView,\r\n  }\r\n  const handleOpenTransition = (e, workflow) => {\r\n    e.preventDefault()\r\n    dispatch(setWorkflowUpdate(workflow))\r\n    history.push('/app/transitionsforproject-manager')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <UpdateProjectModal modalDialog={modalUpdate} />\r\n      <ViewProject modalDialog={modalView} />\r\n      <TableRow key={project.ProjectKey}>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0 w-10 h-10\">\r\n              <img\r\n                className=\"w-full h-full rounded-full\"\r\n                src=\"https://www.vhv.rs/dpng/d/614-6141793_planning-icon-png-test-transparent-png.png\"\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-gray-900 whitespace-no-wrap\">\r\n                <Link\r\n                  to={`/app/IssuesByProject/${project.ProjectKey}`}\r\n                  className=\"relative cursor-pointer text-blue-400 whitespace-no-wrap\"\r\n                >\r\n                  {project.ProjectName}\r\n                </Link>\r\n              </p>\r\n            </div>  \r\n          </div>\r\n        </TableCell>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n         \r\n          <span>{project.ProjectKey}</span>\r\n        </TableCell>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n         \r\n          <span>{project.ProjectUrl}</span>\r\n        </TableCell>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n          \r\n          <span>{project.ProjectLeadName}</span>\r\n        </TableCell>\r\n        <TableCell className=\"px-5 py-5 border-b border-gray-200 bg-white text-sm\">\r\n          \r\n          <span>{WorkflowNa}</span>\r\n        </TableCell>\r\n        <TableCell className=\"px-5 py-5 text-center border-b border-gray-200 bg-white text-sm\">\r\n          \r\n          <Badge type={'status'}\r\n                  className=\"hover:bg-blue-200 cursor-pointer\"\r\n           >\r\n            \r\n            <Link\r\n              to={`/app/project-user/${project.ProjectKey}-${project.ProjectName}`}\r\n              className=\"relative cursor-pointer\"\r\n            >\r\n              Access\r\n            </Link>\r\n          </Badge>\r\n          \r\n          <Badge \r\n              className=\"hover:bg-blue-200 cursor-pointer\"\r\n              type={'status'}\r\n              onClick={(e) => handleOpenTransition(e, project)}\r\n          >\r\n              View Workflow\r\n          </Badge>\r\n          <Badge \r\n              className=\"hover:bg-green-200 cursor-pointer\"\r\n              type={'success'}\r\n              onClick={(e) => handleOpenUpdate(e, project)}\r\n          >\r\n              Edit\r\n          </Badge>\r\n          <Badge \r\n              className=\"hover:bg-red-200 cursor-pointer\"\r\n              type={'danger'}\r\n              onClick={openModal}\r\n          >\r\n              Delete\r\n          </Badge>\r\n          <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n            <ModalHeader>Delete Project</ModalHeader>\r\n              <ModalBody>\r\n                 Are you sure DELETE this Project !\r\n              </ModalBody>\r\n            <ModalFooter>\r\n          {/* I don't like this approach. Consider passing a prop to ModalFooter\r\n           * that if present, would duplicate the buttons in a way similar to this.\r\n           * Or, maybe find some way to pass something like size=\"large md:regular\"\r\n           * to Button\r\n           */}\r\n                <div className=\"hidden sm:block\">\r\n                  <Button layout=\"outline\" onClick={closeModal}>\r\n                    Cancel\r\n                  </Button>\r\n                </div>\r\n                <div className=\"hidden sm:block\" onClick={(e) => deleteConfirm(e, project.ProjectKey)}>\r\n                  <Button>Accept</Button>\r\n                </div>\r\n                <div className=\"block w-full sm:hidden\">\r\n                  <Button block size=\"large\" layout=\"outline\" onClick={closeModal}>\r\n                    Cancel\r\n                  </Button>\r\n                </div>\r\n                <div className=\"block w-full sm:hidden\">\r\n                  <Button block size=\"large\">\r\n                    Accept\r\n                  </Button>\r\n                </div>\r\n            </ModalFooter>\r\n      </Modal>\r\n          \r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProjectItem\r\n","import React from 'react'\r\nimport DialogModal from '../DialogModal'\r\nimport FormInput from '../Form/FormInputNew'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useAppDispatch } from \"../../store\";\r\nimport { createProject, projectsSelector } from '../../slices/projects'\r\nimport { DialogActions, DialogContent } from '../DialogModal';\r\nimport projectApi from '../../api/projectApi';\r\n// import Button from '@material-ui/core/Button'\r\nimport { Button } from '@windmill/react-ui';\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport { useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nfunction CreateProjectModal({ modalDialog }) {\r\n  const { addToast } = useToasts()\r\n  const dispatch = useAppDispatch()\r\n  const {projects} = useSelector(projectsSelector)\r\n  const { register, handleSubmit } = useForm()\r\n  const history = useHistory()\r\n  const { handleClose } = modalDialog\r\n  let temp = JSON.parse(localStorage.getItem('ProjectAll') || '[]' )\r\n  const onSubmit = (data) => {\r\n    let bool = 0\r\n    let bool1 = 0\r\n    temp.map((temp1) =>{\r\n      if(temp1.ProjectKey == data.ProjectKey){\r\n        bool = -5     \r\n      }\r\n      if(temp1.ProjectName == data.ProjectName){\r\n        bool1 = -5\r\n      }\r\n    })\r\n    if(bool == -5){\r\n      addToast(\"Key already exists, please choose another Key\", {\r\n        appearance: 'error',\r\n        autoDismiss: true,\r\n      })\r\n    }\r\n    else if(bool1 == -5){\r\n      addToast(\"Name already exists, please choose another Name\", {\r\n        appearance: 'error',\r\n        autoDismiss: true,\r\n      })\r\n    }\r\n    else{\r\n      dispatch(createProject(data))\r\n      console.log(data)\r\n      addToast(\"Create Workflow Success\", {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n      })\r\n      handleClose()\r\n    }\r\n    \r\n  }\r\n  return (\r\n    <>\r\n      <DialogModal\r\n        title=\"Details\"\r\n        modalDialog={modalDialog}\r\n        handleSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n        <DialogContent dividers className=\"mx-12\">\r\n          <FormInput r={register} name=\"ProjectName\" label={'Name'} required />\r\n          <FormInput r={register} name=\"ProjectKey\" label={'Key'} required />\r\n\r\n          \r\n          {/*<input {...register('DefaultAssignee')} className=\"hidden\" defaultValue=\"22\" />*/}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <div className=\"hidden sm:block m-2\">\r\n             <Button layout=\"outline\" onClick={handleClose}>\r\n                 Cancel\r\n             </Button>\r\n          </div>\r\n          <div className=\"hidden sm:block m-2\">\r\n            <Button type=\"submit\" color=\"primary\">\r\n              Submit\r\n            </Button>\r\n          </div>\r\n        </DialogActions>\r\n        </form>\r\n      </DialogModal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CreateProjectModal\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useEffect,useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n  fetchProjects,\r\n  projectsSelector,\r\n  createProject,\r\n  setState\r\n} from '../slices/projects'\r\nimport { Link } from 'react-router-dom'\r\nimport ProjectItem from '../components/Project/ProjectItem'\r\nimport { useAppDispatch } from '../store'\r\nimport CreateProjectModal from '../components/Project/CreateProjectModal';\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableBody,\r\n  TableRow,\r\n  TableFooter,\r\n  TableContainer,\r\n  Button,\r\n  Pagination,\r\n  Select,\r\n  Input,\r\n} from '@windmill/react-ui'\r\nconst Projects = () => {\r\n  \r\n  let temp = JSON.parse(localStorage.getItem('WorkflowAll') || '[]' )\r\n  const { addToast } = useToasts()\r\n  const dispatch = useAppDispatch()\r\n  const { updateWor, updateSuccess, projects, loading, hasErrors } = useSelector(projectsSelector)\r\n  \r\n// setup pages control for every table\r\nconst [pageTable1, setPageTable1] = useState(1)\r\n// setup data for every table \r\nconst [dataTable1, setDataTable1] = useState([])\r\n// pagination setup\r\nconst resultsPerPage = 3\r\nconst totalResults = projects.length\r\n// pagination change control\r\nfunction onPageChangeTable1(p) {\r\n  setPageTable1(p)\r\n}\r\n// on page change, load new sliced data\r\n// here you would make another server request for new data\r\nuseEffect(() => {\r\n  dispatch(fetchProjects())\r\n}, [dispatch])\r\n\r\nuseEffect(() => {\r\n  if (updateSuccess) {\r\n    addToast(\"Success\", {\r\n      appearance: 'success',\r\n      autoDismiss: true,\r\n    })\r\n    dispatch(setState())\r\n  }\r\n}, [updateSuccess])\r\nlocalStorage.setItem('ProjectAll', JSON.stringify(projects))\r\nuseEffect(() => {\r\n  setDataTable1(projects.slice((pageTable1 - 1) * resultsPerPage, pageTable1 * resultsPerPage))\r\n}, [projects,pageTable1])\r\n\r\n  //search user\r\n  //setup search\r\n  const [searchTerm, setSearchTerm] = React.useState('')\r\n  const [searchResults, setSearchResults] = React.useState([])\r\n  //setup select \r\n  const [selectTerm, setSelectTerm] = React.useState('')\r\n  const handleChange = (e) => {\r\n    setSearchTerm(e.target.value)\r\n  }\r\n  const handleSelect = (e) =>{\r\n    setSelectTerm(e.target.value)\r\n  }\r\n  useEffect(() => {\r\n    const results = projects.filter(\r\n      (person) =>\r\n        person.ProjectKey.toLowerCase().indexOf(searchTerm.toLowerCase()) !=\r\n          -1 ||\r\n        person.ProjectName.toLowerCase().indexOf(searchTerm.toLowerCase()) !=\r\n          -1 \r\n        // person.User_Full_Name.toLowerCase().indexOf(searchTerm.toLowerCase()) !=\r\n        //   -1\r\n    )\r\n    setSearchResults(results)\r\n  }, [searchTerm])\r\n  useEffect(() => {\r\n    const resultsSelect = projects.filter(\r\n      (person) => person.WorkflowId == selectTerm\r\n    )\r\n    setSearchResults(resultsSelect)\r\n  }, [selectTerm])\r\n  //render user\r\n  \r\n  const renderProjects = () => {\r\n    \r\n    if (\r\n      (searchTerm == '' && selectTerm == 'All') ||\r\n      (searchTerm == '' && selectTerm == '')\r\n      \r\n    ) {\r\n      return dataTable1.map((project) => <ProjectItem key={project.ProjectKey} project={project} />)\r\n    }\r\n    \r\n    else {\r\n      return searchResults.map((project) => (\r\n        <ProjectItem key={project.ProjectKey} project={project} />\r\n      ))\r\n    }\r\n  }\r\n  // filter workflow id\r\n  var option1s = temp.map((option) => {\r\n    return (\r\n      <option key={option.WorkflowId} value={option.WorkflowId}>\r\n        {option.WorkflowName}({option.WorkflowId})\r\n      </option>\r\n    )\r\n  })\r\n  \r\n\r\n  const [openCreate, setOpenCreate] = React.useState(false)\r\n\r\n  const handleOpenCreate = () => {\r\n    setOpenCreate(true)\r\n  }\r\n  const handleCloseCreate = () => {\r\n    setOpenCreate(false)\r\n  }\r\n\r\n  const modalCreate = {\r\n    open: openCreate,\r\n    handleOpen: handleOpenCreate,\r\n    handleClose: handleCloseCreate,\r\n  }\r\n\r\n  const addPost = (e) => {\r\n    e.preventDefault()\r\n    const Project = {\r\n      id: 1,\r\n      name: 'Nacef',\r\n      projectname: 'magiko',\r\n      email: 'nacef.otay@esprit.tn',\r\n      phone: '+21629903274',\r\n      website: 'nacefotay.me',\r\n    }\r\n    dispatch(createProject(Project))\r\n  }\r\n  if (loading) {\r\n    return (\r\n      <tr>\r\n        <div className=\"loader\">Loading...</div>\r\n      </tr>\r\n    )\r\n  }\r\n  if (hasErrors) return <p>Unable to get Projects.</p>\r\n  return (\r\n    <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n      <div className=\"py-8\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-semibold leading-tight\">Projects</h2>\r\n        </div>\r\n        <div className=\"my-2 flex justify-between sm:flex-row flex-col\">\r\n          <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n            <div className=\"relative\">\r\n            <Select\r\n                value={selectTerm}\r\n                onChange={handleSelect}\r\n                className=\"appearance-none h-full rounded-r border-t sm:rounded-r-none sm:border-r-0 border-r border-b block w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500\"\r\n              > \r\n                {/* <option selected className=\"h-4 w-4 font-semibold \">OPTION</option> */}\r\n                <option selected ></option> \r\n                <option selected className=\"h-4 w-4 fill-current text-blue-500\">All</option>\r\n                               \r\n                <option value='0' className=\"h-4 w-4 fill-current text-blue-500\">NULL</option>\r\n                \r\n              \r\n                {option1s}\r\n              </Select>\r\n            </div>\r\n            \r\n            {/* Ô search */}\r\n            <div className=\"flex relative\">\r\n              <span className=\"h-full absolute inset-y-0 right-2 flex items-center pl-2\">\r\n                <svg\r\n                  viewBox=\"0 0 24 24\"\r\n                  className=\"h-4 w-4 fill-current text-gray-500\"\r\n                >\r\n                  <path d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\"></path>\r\n                </svg>\r\n              </span>\r\n              <Input\r\n                placeholder=\"Search for projects\"\r\n                className=\"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-8 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\r\n                value={searchTerm}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex\">\r\n            <CreateProjectModal modalDialog={modalCreate} />\r\n            <Button \r\n              onClick={handleOpenCreate}\r\n              >\r\n              Create Project\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n          <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n            <table className=\"min-w-full leading-normal\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"px-5 py-3 border-b-2 border-green-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    Name Project\r\n                  </th>\r\n                  <th className=\"px-5 py-3 border-b-2 border-green-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    Key\r\n                  </th>\r\n                  <th className=\"px-5 py-3 border-b-2 border-green-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    URL\r\n                  </th>\r\n                  <th className=\"px-5 py-3 border-b-2 border-green-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    Project Lead\r\n                  </th>\r\n                  <th className=\"px-5 py-3 border-b-2 border-green-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    Workflow\r\n                  </th>\r\n                  <th className=\"px-5 py-3 border-b-2 border-green-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    Action\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>{renderProjects()}</tbody>\r\n            </table>\r\n            <TableFooter>\r\n          <Pagination\r\n            totalResults={totalResults}\r\n            resultsPerPage={resultsPerPage}\r\n            onChange={onPageChangeTable1}\r\n            label=\"Table navigation\"\r\n          />\r\n        </TableFooter>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Projects\r\n","import { lazy } from 'react'\r\n\r\n// use lazy for better code splitting, a.k.a. load faster\r\nimport UsersManager from '../pages/UsersManager'\r\nimport CreateUser from '../pages/CreateUser'\r\nimport PermissionManager from '../pages/PermissionManager'\r\nimport DetailPermission from '../pages/DetailPermission'\r\nimport RolesManager from '../pages/RolesManager'\r\nimport CreateRole from '../pages/CreateRole'\r\nimport ProjectUserRole from '../pages/ProjectUserRole'\r\nimport TransitionItemForProject from '../pages/TransitionManagerForProject'\r\nimport { Issues } from '../pages/Issues'\r\nimport { IssuesByProject } from '../pages/IssuesByProject'\r\nimport { Screens } from '../pages/Screens'\r\nimport Workflows from '../pages/Workflows'\r\nimport { CustomFields } from '../pages/CustomFields'\r\nimport { IssueTypes } from '../pages/IssueTypes'\r\nimport Status from '../pages/StatusManager'\r\nimport AddWorkflow from '../pages/AddWorkflow'\r\nimport CreateWorkflow from '../pages/CreateWorkflow'\r\nimport Transition from '../pages/TransitionManager'\r\nimport { ProjectIssueTypeScreens } from '../pages/ProjectIssueTypeScreens'\r\nimport CreateStatus from '../pages/CreateStatus'\r\nimport Profile from '../pages/Profile'\r\nimport AddTransition from '../pages/AddTransition'\r\nimport Projects from '../pages/Projects'\r\n\r\n// const Modals = lazy(() => import('../pages/Modals'))\r\n// const Tables = lazy(() => import('../pages/Tables'))\r\n// // const Page404 = lazy(() => import('../pages/404'))\r\n// const Blank = lazy(() => import('../pages/Blank'))\r\n\r\n/**\r\n * ⚠ These are internal routes!\r\n * They will be rendered inside the app, using the default `containers/Layout`.\r\n * If you want to add a route to, let's say, a landing page, you should add\r\n * it to the `App`'s router, exactly like `Login`, `CreateAccount` and other pages\r\n * are routed.\r\n *\r\n * If you're looking for the links rendered in the SidebarContent, go to\r\n * `routes/sidebar.js`\r\n */\r\nconst routes = [\r\n  {\r\n    path: '/user-manager', // the url\r\n    component: UsersManager, // view rendered\r\n    globalRole: 'Admin',\r\n  },\r\n  {\r\n    path: '/user-manager/create-user',\r\n    component: CreateUser,\r\n    globalRole: 'Admin',\r\n  },\r\n  {\r\n    path: '/permission-manager',\r\n    component: PermissionManager,\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/permission-manager/detail-permission',\r\n    component: DetailPermission,\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/role-manager',\r\n    component: RolesManager,\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/role-manager/create-role',\r\n    component: CreateRole,\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/projects',\r\n    component: Projects,\r\n    globalRole: 'Member',\r\n  },\r\n  {\r\n    path: '/project-user/:keyProject-:nameProject',\r\n    component: ProjectUserRole,\r\n    globalRole: 'Member',\r\n  },\r\n  {\r\n    path: '/transitionsforproject-manager',\r\n    component: TransitionItemForProject,\r\n    globalRole: 'Member',\r\n  },\r\n  {\r\n    path: '/workflows-manager/transitions-manager/create-transitions',\r\n    component: AddTransition,\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/issues',\r\n    component: Issues,\r\n    globalRole: 'Member',\r\n  },\r\n  {\r\n    path: '/IssuesByProject/:project',\r\n    component: IssuesByProject,\r\n    globalRole: 'Member',\r\n  },\r\n  {\r\n    path: '/Screens',\r\n    component: Screens,\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/customFields',\r\n    component: CustomFields,\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/issueTypes',\r\n    component: IssueTypes,\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/issueTypes/projectIssueTypeScreens/:issueTypeId',\r\n    component: ProjectIssueTypeScreens,\r\n    globalRole: 'Member',\r\n  },\r\n  {\r\n    path: '/status-manager',\r\n    component: Status,\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/status-manager/create-status',\r\n    component: CreateStatus,\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/workflows-manager',\r\n    component: Workflows,\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/workflows-manager/add-workflows',\r\n    component: AddWorkflow,\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/workflows-manager/create-workflows',\r\n    component: CreateWorkflow,\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/workflows-manager/transitions-manager',\r\n    component: Transition,\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/profile',\r\n    component: Profile,\r\n    globalRole: 'Member',\r\n  },\r\n]\r\n\r\nexport default routes\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { permissionsSelector } from '../slices/permission'\r\nimport {\r\n  fetchPermissionRoles,\r\n  permissionRolesSelector,\r\n  setState,\r\n} from '../slices/per-role'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAppDispatch } from '../store'\r\nimport PermissionRoleItem from '../components/Permission/PermissionRoleItem'\r\nimport UpdateRolePermission from '../components/Permission/UpdateRolePermission'\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableBody,\r\n  TableRow,\r\n  TableFooter,\r\n  TableContainer,\r\n  Button,\r\n  Pagination,\r\n} from '@windmill/react-ui'\r\nimport { useToasts } from 'react-toast-notifications'\r\n\r\nexport default function DetailPermission() {\r\n  const { permissionUpdate } = useSelector(permissionsSelector)\r\n  const { addToast } = useToasts()\r\n\r\n  //lưu vào localStorage\r\n  if (permissionUpdate.Permission_Id) {\r\n    localStorage.setItem('Permission', JSON.stringify(permissionUpdate))\r\n  }\r\n  let temp = JSON.parse(localStorage.getItem('Permission') || '[]')\r\n  const dispatch = useAppDispatch()\r\n  //permissionroles\r\n  const { permissionroles, loading, hasErrors, updateMess, updateSuccess } =\r\n    useSelector(permissionRolesSelector)\r\n  useEffect(() => {\r\n    dispatch(fetchPermissionRoles(temp.Permission_Id))\r\n  }, [dispatch])\r\n  //notification delete,update\r\n  useEffect(() => {\r\n    if (updateSuccess) {\r\n      addToast(updateMess, {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n      })\r\n      dispatch(setState())\r\n    }\r\n  }, [updateSuccess])\r\n\r\n  //search role\r\n  //setup search\r\n  const [searchTerm, setSearchTerm] = React.useState('')\r\n  const [searchResults, setSearchResults] = React.useState([])\r\n  const handleChange = (e) => {\r\n    setSearchTerm(e.target.value)\r\n  }\r\n  useEffect(() => {\r\n    const results = permissionroles.filter(\r\n      (role) =>\r\n        role.RoleName.toLowerCase().indexOf(searchTerm.toLowerCase()) != -1\r\n    )\r\n    setSearchResults(results)\r\n  }, [searchTerm])\r\n  //render permission role\r\n  const renderPermissionRole = () => {\r\n    if (searchTerm == '') {\r\n      //get full data\r\n      return permissionroles.map((temp_role) => (\r\n        <PermissionRoleItem\r\n          key={temp_role.RoleId}\r\n          permission_role={temp_role}\r\n        ></PermissionRoleItem>\r\n      ))\r\n    } else {\r\n      //after using search\r\n      return searchResults.map((temp_role) => (\r\n        <PermissionRoleItem\r\n          key={temp_role.RoleId}\r\n          permission_role={temp_role}\r\n        ></PermissionRoleItem>\r\n      ))\r\n    }\r\n  }\r\n  //open modalUpdate\r\n  const [openUpdate, setOpenUpdate] = React.useState(false)\r\n  const handleOpenUpdate = (e) => {\r\n    e.preventDefault()\r\n    // dispatch(setUserUpdate(user))\r\n    setOpenUpdate(true)\r\n  }\r\n  const handleCloseUpdate = () => {\r\n    setOpenUpdate(false)\r\n  }\r\n  const modalUpdate = {\r\n    open: openUpdate,\r\n    handleOpen: handleOpenUpdate,\r\n    handleClose: handleCloseUpdate,\r\n    data_permission: temp,\r\n    fulldata: permissionroles,\r\n  }\r\n  return (\r\n    <>\r\n      <UpdateRolePermission modalDialog={modalUpdate}></UpdateRolePermission>\r\n      <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n        <div className=\"py-8\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-semibold leading-tight\">\r\n              {temp.Permission_Name}\r\n            </h2>\r\n            <p className=\" font-semibold leading-tight\">\r\n              {temp.Permission_Description}\r\n            </p>\r\n          </div>\r\n          <div className=\"my-2 flex justify-between sm:flex-row flex-col\">\r\n            <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n              {/* Ô search */}\r\n              <div className=\"flex relative\">\r\n                <span className=\"h-full absolute inset-y-0 right-2 flex items-center pl-2\">\r\n                  <svg\r\n                    viewBox=\"0 0 24 24\"\r\n                    className=\"h-4 w-4 fill-current text-gray-500\"\r\n                  >\r\n                    <path d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\"></path>\r\n                  </svg>\r\n                </span>\r\n                <input\r\n                  placeholder=\"Search\"\r\n                  className=\"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\r\n                  value={searchTerm}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"flex\">\r\n              <a onClick={(e) => handleOpenUpdate(e)}>\r\n                <Button>Add role</Button>\r\n              </a>\r\n            </div>\r\n          </div>\r\n          <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n            <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n              <TableContainer className=\"mb-8\">\r\n                <Table className=\"min-w-full leading-normal\">\r\n                  <TableHeader>\r\n                    <tr>\r\n                      <TableCell className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                        Role Name\r\n                      </TableCell>\r\n                      <TableCell className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                        Action\r\n                      </TableCell>\r\n                    </tr>\r\n                  </TableHeader>\r\n                  <TableBody>{renderPermissionRole()}</TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import FormInput from \"../components/Form/FormInputNew\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport roleApi from \"../api/roleApi\";\r\nimport { useHistory } from 'react-router-dom'\r\nimport React from 'react'\r\n// import { useAppDispatch } from '../store'\r\n// import { createRole } from \"../slices/roles\";\r\n\r\nexport default function CreateRole() {\r\n    const{register,handleSubmit} = useForm();\r\n    const history = useHistory()\r\n    const onSubmit = data => {\r\n        console.log(data)\r\n        roleApi.createRole(data).then(()=>{\r\n            alert('Create Role Success')\r\n            history.goBack()\r\n        }).catch(err => alert(err))\r\n    }\r\n  \r\n\r\n\r\n    return (\r\n      <div className=\"w-full h-full pt-16\">\r\n        <div className=\"max-w-xl px-8 py-8 border-0 shadow-lg rounded-xl h-auto bg-white mx-auto\">\r\n          <h1 className=\"text-2xl font-bold pb-8\">Create Project Role</h1>\r\n          <hr className=\"mb-5\" />\r\n          <div className=\"px-6\">\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n              <FormInput\r\n                r={register}\r\n                name=\"rolename\"\r\n                label=\"Role Name\"\r\n                required\r\n                placeholder=\"Admin\"\r\n              />\r\n              <FormInput\r\n                r={register}\r\n                name=\"roledescription\"\r\n                label=\"Description\"\r\n                placeholder=\"Type ...\"\r\n              />\r\n              <div className=\"w-full mt-10 mb-5 px-10\">\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Create Role\"\r\n                  className=\"bg-purple-600 rounded-md py-2 \r\n            text-white text-xl w-full\"\r\n                />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useAppDispatch } from '../store'\r\nimport {\r\n  fetchProjectUserRole,\r\n  projectUserRolesSelector,\r\n  setState\r\n} from '../slices/pro-user-role'\r\nimport { useSelector } from 'react-redux'\r\nimport ProjectUserItems from '../components/ProjectUser/ProjectUserItems'\r\nimport AddUserToProject from '../components/ProjectUser/AddUserToProject'\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableCell,\r\n  TableBody,\r\n  TableRow,\r\n  TableFooter,\r\n  TableContainer,\r\n  Button,\r\n  Pagination,\r\n} from '@windmill/react-ui'\r\nimport { useToasts } from 'react-toast-notifications'\r\n\r\nexport default function ProjectUserRole() {\r\n  const { addToast } = useToasts()\r\n\r\n  let temp = window.location.pathname.split(/[/,-]/)\r\n  let projectkey = temp[temp.length - 2]\r\n  let projectname = temp[temp.length - 1]\r\n\r\n  const dispatch = useAppDispatch()\r\n  const { updateMess, updateSuccess, projectUserRoles, loading, hasErrors } =\r\n    useSelector(projectUserRolesSelector)\r\n  useEffect(() => {\r\n    dispatch(fetchProjectUserRole(projectkey))\r\n  }, [dispatch])\r\n  //notification delete,update\r\n  useEffect(() => {\r\n    if (updateSuccess) {\r\n      addToast(updateMess, {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n      })\r\n      dispatch(setState())\r\n    }\r\n  }, [updateSuccess])\r\n  //render UserRole\r\n  const renderUserRole = () => {\r\n    return projectUserRoles.map((projectUserRole) => (\r\n      <ProjectUserItems\r\n        key={projectUserRole.UserId}\r\n        dataItem={projectUserRole}\r\n        projectkey={projectkey}\r\n      ></ProjectUserItems>\r\n    ))\r\n  }\r\n  const [openAddUser, setopenAddUser] = useState(false)\r\n  const handleAddUser = (e) => {\r\n    e.preventDefault()\r\n    setopenAddUser(true)\r\n  }\r\n  const handleCloseAdd = () => {\r\n    setopenAddUser(false)\r\n  }\r\n  const modalUpdate = {\r\n    open: openAddUser,\r\n    handleOpen: handleAddUser,\r\n    handleClose: handleCloseAdd,\r\n    projectkey: projectkey,\r\n    listUser: projectUserRoles,\r\n  }\r\n  return (\r\n    <>\r\n      <AddUserToProject modalDialog={modalUpdate}></AddUserToProject>\r\n      <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n        <div className=\"py-8\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-semibold leading-tight\">\r\n              Access Project\r\n            </h1>\r\n            <h2 className=\"text-2xl font-semibold leading-tight\">\r\n              {projectname}\r\n            </h2>\r\n          </div>\r\n          <div className=\"my-2 flex justify-between sm:flex-row flex-col\">\r\n            <div className=\"flex flex-row mb-1 sm:mb-0\"></div>\r\n\r\n            <div className=\"flex\">\r\n              <a onClick={(e) => handleAddUser(e)}>\r\n                <Button>Add User</Button>\r\n              </a>\r\n            </div>\r\n          </div>\r\n          <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n            <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n              <TableContainer className=\"mb-8\">\r\n                <Table className=\"min-w-full leading-normal\">\r\n                  <TableHeader>\r\n                    <tr>\r\n                      <TableCell className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                        Name\r\n                      </TableCell>\r\n                      <TableCell className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                        Email\r\n                      </TableCell>\r\n                      <TableCell className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                        Role\r\n                      </TableCell>\r\n                      <TableCell className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                        Action\r\n                      </TableCell>\r\n                    </tr>\r\n                  </TableHeader>\r\n                  <TableBody>{renderUserRole()}</TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import FormInput from \"../components/Form/FormInputNew\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport TransitionApi from \"../api/transitionApi\";\r\nimport { useHistory } from 'react-router-dom'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { fetchStatuss, statussSelector,setState  } from '../slices/statuss'\r\nimport { useSelector } from 'react-redux'\r\nimport { useAppDispatch } from '../store'\r\nimport Select1 from 'react-select'\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport { Button, Select } from \"@windmill/react-ui\";\r\n// import { useAppDispatch } from '../store'\r\n// import { createTransition } from \"../slices/Transitions\";\r\n\r\nexport default function CreateTransition(modalDialog) {\r\n    const { addToast } = useToasts()\r\n    const dispatch = useAppDispatch()\r\n    const { updateMess, updateSuccess,statuss, loading, hasErrors } = useSelector(statussSelector)\r\n  useEffect(() => {\r\n    dispatch(fetchStatuss())\r\n  }, [dispatch])\r\n  console.log(statuss)\r\n    const {fulldata} = modalDialog\r\n    let temp = JSON.parse(localStorage.getItem('Status') || '[]' )\r\n    let temp1 = JSON.parse(localStorage.getItem('Workflow') || '[]' )\r\n    let temp2 = JSON.parse(localStorage.getItem('TransitionAll') || '[]' )\r\n    console.log(temp)\r\n    const{register,handleSubmit} = useForm();\r\n    const history = useHistory()\r\n    const onSubmit = data => {\r\n        console.log(data)\r\n        if(data.Status1Id == data.Status2Id){\r\n          // alert(\"Not Success\")\r\n          // alert(\"STATUS1 must be different from STATUS2\")\r\n          addToast(\"STATUS1 must be different from STATUS2\", {\r\n                      appearance: 'error',\r\n                      autoDismiss: true,\r\n                    })\r\n        }\r\n        else{\r\n        let bool = 0\r\n        \r\n        temp2.map((temp) =>{\r\n            if(temp.Status1Id == data.Status1Id && temp.Status2Id == data.Status2Id){\r\n                bool =-5\r\n            }\r\n        })\r\n        if(bool != -5)\r\n        {\r\n          let statusname1\r\n          let statusname2\r\n          statuss.map((temp) => {\r\n              console.log(temp)\r\n            if (temp.StatusId == data.Status1Id) {\r\n              statusname1 = temp.StatusName\r\n            }\r\n          })\r\n          statuss.map((temp) => {\r\n            console.log(temp)\r\n          if (temp.StatusId == data.Status2Id) {\r\n            statusname2 = temp.StatusName\r\n          }\r\n        })\r\n          console.log(statusname1)\r\n          console.log('kkkkk')\r\n          const postData = {\r\n              Status1Id: data.Status1Id,\r\n              Status2Id: data.Status2Id,\r\n              Status1Name: statusname1,\r\n              Status2Name: statusname2,\r\n              TransitionName: data.TransitionName,\r\n              WorkflowId: data.WorkflowId,\r\n          }\r\n          console.log(postData)\r\n          TransitionApi.createTransition(postData).then(()=>{\r\n              //alert('Create Transition Success')\r\n              addToast(\"Create Transition Success\", {\r\n                appearance: 'success',\r\n                autoDismiss: true,\r\n              })\r\n              history.goBack()\r\n          }).catch(err => alert(err))\r\n        }\r\n        else{\r\n          addToast(\"Transition is existed\", {\r\n            appearance: 'error',\r\n            autoDismiss: true,\r\n          })\r\n        }\r\n      }\r\n    }\r\n\r\n    var option1s = statuss.map((option) => {\r\n        return (\r\n          <option key={option.Status1Id} value={option.StatusId}>\r\n            {option.StatusName}\r\n          </option>\r\n        )\r\n      })\r\n      console.log(option1s)\r\n      const fil = statuss.filter(\r\n        (item1) => !statuss.some((item2) => item1.Status1Id === item2.StatusId)\r\n      )\r\n      console.log(fil)\r\n      var option2s = fil.map((option) => {\r\n        return (\r\n          <option key={option.Status2Id} value={option.StatusId}>\r\n            {option.StatusName}\r\n          </option>\r\n        )\r\n      })\r\n    \r\n       \r\n    \r\n  \r\n    // const history = useHistory()\r\n    //  const dispatch = useAppDispatch()\r\n    //  const{register,handleSubmit} = useForm();\r\n    //  const onSubmit = data => {\r\n    //     console.log(data)\r\n    //     dispatch(createTransition(data))\r\n    //     history.push('/Transitions-manager')\r\n    // }\r\n\r\n\r\n    return (\r\n       <div className=\"w-full h-full pt-16\">\r\n      <div className=\"max-w-xl px-8 py-8 border-0 shadow-lg rounded-xl h-auto bg-white mx-auto\">\r\n        <h1 className=\"text-2xl font-bold pb-8\">Create Transition</h1>\r\n        <hr className=\"mb-5\"/>\r\n        <div className=\"px-6\">\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n          <FormInput r={register} name=\"WorkflowId\" label='Workflow ID'  required  value= {temp1.WorkflowId} />\r\n          <FormInput r={register} name=\"TransitionName\" label='Transition Name' required />\r\n          {/* <FormInput r={register} name=\"Status1Id\" label='Status'  />  */}\r\n          {/* <Select option= {temp}/>  */}\r\n          Status 1           :\r\n          <Select\r\n                className=\"py-2 px-3 rounded-md border border-white-500 mt-2 focus:outline-none focus:ring-1 focus:ring-green-700 focus:border-transparent\"\r\n                {...register('Status1Id')}\r\n              >\r\n                {option1s}\r\n              </Select>\r\n\r\n              Status 2            :\r\n              <Select\r\n                className=\"py-2 px-3 rounded-md border border-white-500 mt-2 focus:outline-none focus:ring-1 focus:ring-green-700 focus:border-transparent\"\r\n                {...register('Status2Id')}\r\n              >\r\n                {option2s}\r\n              </Select>\r\n          <div className=\"w-full mt-10 mb-5 px-10\">\r\n          <Button layout=\"outline\" size=\"large\" type= \"submit\" className=\"rounded-md py-2 \r\n            text-white text-xl w-full \">\r\n            Create Transition\r\n          </Button>\r\n          </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    )\r\n}\r\n","import FormInput from \"../components/Form/FormInputNew\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport statusApi from \"../api/statusApi\";\r\nimport { useHistory } from 'react-router-dom'\r\nimport React from 'react'\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport {Button} from '@windmill/react-ui'\r\n// import { useAppDispatch } from '../store'\r\n// import { createStatus } from \"../slices/statuss\";  \r\n\r\nexport default function CreateStatus() {\r\n  const { addToast } = useToasts()\r\n    const{register,handleSubmit} = useForm();\r\n    const history = useHistory()\r\n    const onSubmit = data => {\r\n        console.log(data)\r\n        statusApi.createStatus(data).then(()=>{\r\n            //alert('Create Status Success')\r\n            addToast(\"Create Status Success\", {\r\n              appearance: 'success',\r\n              autoDismiss: true,\r\n            })\r\n            history.goBack()\r\n        }).catch(err => \r\n          //alert(err)\r\n          addToast(\"The Name Stastus is Existed\", {\r\n            appearance: 'error',\r\n            autoDismiss: true,\r\n          })\r\n          )\r\n    }\r\n    // const history = useHistory()\r\n    //  const dispatch = useAppDispatch()\r\n    //  const{register,handleSubmit} = useForm();\r\n    //  const onSubmit = data => {\r\n    //     console.log(data)\r\n    //     dispatch(createStatus(data))\r\n    //     history.push('/statuss-manager')\r\n    // }\r\n\r\n\r\n    return (\r\n       <div className=\"w-full h-full pt-16\">\r\n      <div className=\"max-w-xl px-8 py-8 border-0 shadow-lg rounded-xl h-auto bg-white mx-auto\">\r\n        <h1 className=\"text-2xl font-bold pb-8\">Create Project Status</h1>\r\n        <hr className=\"mb-5\"/>\r\n        <div className=\"px-6\">\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n          <FormInput r={register} name=\"StatusName\" label='Status Name' required />\r\n          <FormInput r={register} name=\"StatusDescription\" label='Description'  /> \r\n          <div className=\"w-full mt-10 mb-10 px-10\">\r\n            \r\n          <Button layout=\"outline\" size=\"large\" type= \"submit\" className=\"rounded-md py-2 \r\n            text-white text-xl w-full \">\r\n            Create Status\r\n          </Button>\r\n            \r\n          </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    )\r\n}\r\n","import FormInput from \"../components/Form/FormInputNew\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport WorkflowApi from \"../api/workflowApi\";\r\nimport { useHistory } from 'react-router-dom'\r\nimport React from 'react'\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport {Button} from '@windmill/react-ui'\r\n// import { useAppDispatch } from '../store'\r\n// import { createWorkflow } from \"../slices/Workflows\";\r\n\r\nexport default function CreateWorkflow() {\r\n    const {addToast} = useToasts()\r\n    const{register,handleSubmit} = useForm();\r\n    const history = useHistory()\r\n    const onSubmit = data => {\r\n        console.log(data)\r\n        WorkflowApi.createWorkflow(data).then(()=>{\r\n            //alert('Create Workflow Success')\r\n            addToast(\"Create Workflow Success\", {\r\n                        appearance: 'success',\r\n                        autoDismiss: true,\r\n                      })\r\n            \r\n            history.goBack()\r\n        }).catch(err => \r\n         //alert(err)\r\n         addToast(\"The name workflow is exsited!\", {\r\n          appearance: 'error',\r\n          autoDismiss: true,\r\n        })\r\n         )\r\n    }\r\n    // const history = useHistory()\r\n    //  const dispatch = useAppDispatch()\r\n    //  const{register,handleSubmit} = useForm();\r\n    //  const onSubmit = data => {\r\n    //     console.log(data)\r\n    //     dispatch(createWorkflow(data))\r\n    //     history.push('/Workflows-manager')\r\n    // }\r\n\r\n\r\n    return (\r\n       <div className=\"w-full h-full pt-16\">\r\n      <div className=\"max-w-xl px-8 py-8 border-0 shadow-lg rounded-xl h-auto bg-white mx-auto\">\r\n        <h1 className=\"text-2xl font-bold pb-8\">Create Workflow</h1>\r\n        <hr className=\"mb-5\"/>\r\n        <div className=\"px-6\">\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n          <FormInput r={register} name=\"WorkflowName\" label='Workflow Name' required />\r\n          <FormInput r={register} name=\"WorkflowDescription\" label='Description'  /> \r\n          <div className=\"w-full mt-10 mb-5 px-10\">\r\n            \r\n             <Button layout=\"outline\" size=\"large\" type= \"submit\" className=\"rounded-md py-2 \r\n            text-white text-xl w-full \">\r\n            Create Workflow\r\n          </Button>\r\n          </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { workflowsSelector } from '../slices/workflows'\r\nimport {\r\n  fetchWorkflowProjects,\r\n  workflowProjectsSelector,\r\n} from '../slices/wor-pro'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAppDispatch } from '../store'\r\nimport WorkflowProjectItem from '../components/Workflow/WorkflowProjectItem'\r\nimport UpdateProjectWorkflow from '../components/Workflow/UpdateWorkflowModal'\r\n\r\nexport default function DetailWorkflow() {\r\n  const { workflowUpdate } = useSelector(workflowsSelector)\r\n  //lưu vào localStorage\r\n  if (workflowUpdate.WorkflowId) {\r\n    localStorage.setItem('Workflow', JSON.stringify(workflowUpdate))\r\n  }\r\n  let temp = JSON.parse(localStorage.getItem('Workflow') || '[]')\r\n  const dispatch = useAppDispatch()\r\n  const { workflowprojects, loading, hasErrors } = useSelector(\r\n    workflowProjectsSelector\r\n  )\r\n  useEffect(() => {\r\n    dispatch(fetchWorkflowProjects(temp.WorkflowId))\r\n  }, [dispatch])\r\n \r\n  \r\n  const renderWorkflowProject = () => {\r\n    return workflowprojects.map((temp_project) => (\r\n      <WorkflowProjectItem\r\n        key={temp_project.ProjectKey}\r\n        workflow_project={temp_project}\r\n      ></WorkflowProjectItem>\r\n    ))\r\n  }\r\n  \r\n  const [openUpdate, setOpenUpdate] = React.useState(false)\r\n  const handleOpenUpdate = (e) => {\r\n    e.preventDefault()\r\n    // dispatch(setUserUpdate(user))\r\n    setOpenUpdate(true)\r\n  }\r\n  const handleCloseUpdate = () => {\r\n    setOpenUpdate(false)\r\n  }\r\n  const modalUpdate = {\r\n    open: openUpdate,\r\n    handleOpen: handleOpenUpdate,\r\n    handleClose: handleCloseUpdate,\r\n    data_workflow: temp,\r\n    fulldata:workflowprojects\r\n  }\r\n  \r\n  return (\r\n    <>\r\n      <UpdateProjectWorkflow modalDialog={modalUpdate}></UpdateProjectWorkflow>\r\n      <div className=\"container mx-auto px-4 mb-16 sm:px-8\">\r\n        <div className=\"py-8\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-semibold leading-tight\">\r\n              {temp.WorkflowName}\r\n            </h2>\r\n            <p className=\" font-semibold leading-tight\">\r\n              {temp.WorkflowDescription}\r\n            </p>\r\n          </div>\r\n          <div className=\"my-2 flex justify-between sm:flex-row flex-col\">\r\n            <div className=\"flex\">\r\n              <a onClick={(e) => handleOpenUpdate(e)} >\r\n                <button className=\"bg-white border shadow-sm px-3 py-1.5 rounded-md hover:text-green-500 text-gray-700\">\r\n                  Add project\r\n                </button>\r\n              </a>\r\n              {/* <Link to=\"/invite-user\">\r\n              <button className=\"bg-white border shadow-sm px-3 py-1.5 rounded-md hover:text-green-500 text-gray-700 ml-1\">\r\n                Invite Users\r\n              </button>\r\n            </Link> */}\r\n            </div>\r\n          </div>\r\n          <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n            <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n              <table className=\"min-w-full leading-normal\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Project Name\r\n                    </th>\r\n                    {/* <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    Description\r\n                  </th> */}\r\n                    {/* <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    Email\r\n                  </th> */}\r\n                    {/* <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    Group name\r\n                  </th> */}\r\n                    <th className=\"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Action\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>{renderWorkflowProject()}</tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {  inforUserSelector } from '../slices/infouser'\r\nimport { useAppDispatch } from '../store'\r\nimport {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  Avatar,\r\n  Button,\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  Divider,\r\n  Typography,\r\n  TextField,\r\n  CardHeader,\r\n} from '@material-ui/core'\r\nimport FormInput from '../components/Form/FormInput'\r\nimport { useForm } from 'react-hook-form'\r\nimport { usersSelector, updateUser } from '../slices/users'\r\n\r\nexport default function Profile() {\r\n      const dispatch = useAppDispatch()\r\n      const { inforUser, success } = useSelector(inforUserSelector)\r\n     \r\n        const { register, handleSubmit } = useForm()\r\n     const onSubmit = (data) => {\r\n        dispatch(updateUser({ id: inforUser.User_Id, data }))\r\n     }\r\n    return (\r\n      <div>\r\n        <Box\r\n          sx={{\r\n            backgroundColor: 'background.default',\r\n            minHeight: '100%',\r\n            py: 3,\r\n          }}\r\n        >\r\n          <Container maxWidth=\"lg\">\r\n            <Grid container spacing={3}>\r\n              <Grid item lg={12} md={12} xs={12}>\r\n                <Card>\r\n                  <CardContent>\r\n                    <Box\r\n                      sx={{\r\n                        alignItems: 'center',\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                      }}\r\n                    >\r\n                      <Avatar\r\n                        sx={{\r\n                          height: 100,\r\n                          width: 100,\r\n                        }}\r\n                      >\r\n                        A\r\n                      </Avatar>\r\n                      <Typography color=\"textPrimary\" gutterBottom variant=\"h3\">\r\n                        {inforUser.User_Full_Name}\r\n                      </Typography>\r\n                      <Typography color=\"textSecondary\" variant=\"body1\">\r\n                        Việt Nam\r\n                      </Typography>\r\n                    </Box>\r\n                  </CardContent>\r\n                  <Divider />\r\n                  {/* <CardActions>\r\n                    <Button color=\"primary\" fullWidth variant=\"text\">\r\n                      Upload picture\r\n                    </Button>\r\n                  </CardActions> */}\r\n                </Card>\r\n              </Grid>\r\n              <Grid item lg={12} md={12} xs={12}>\r\n                <form autoComplete=\"off\" onSubmit={handleSubmit(onSubmit)}>\r\n                  <Card>\r\n                    <CardHeader\r\n                      subheader=\"The information can be edited\"\r\n                      title=\"Profile\"\r\n                    />\r\n                    <Divider />\r\n                    <CardContent>\r\n                      <Grid container spacing={3}>\r\n                        <Grid item md={12} xs={12}>\r\n                          <FormInput\r\n                            r={register}\r\n                            fullWidth\r\n                            label=\"Full name\"\r\n                            name=\"User_Full_Name\"\r\n                            required\r\n                            value={inforUser.User_Full_Name}\r\n                            variant=\"outlined\"\r\n                          />\r\n                        </Grid>\r\n                        <Grid item md={12} xs={12}>\r\n                          <FormInput\r\n                            r={register}\r\n                            fullWidth\r\n                            label=\"User name\"\r\n                            name=\"lastName\"\r\n                            // onChange={handleChange}\r\n                            // required\r\n                            value={inforUser.User_Name}\r\n                            variant=\"outlined\"\r\n                          />\r\n                        </Grid>\r\n                        <Grid item md={12} xs={12}>\r\n                          <FormInput\r\n                            r={register}\r\n                            fullWidth\r\n                            label=\"Email Address\"\r\n                            name=\"email\"\r\n                            // onChange={handleChange}\r\n                            // required\r\n                            value={inforUser.User_Email}\r\n                            variant=\"outlined\"\r\n                          />\r\n                        </Grid>\r\n                        <Grid item md={12} xs={12}>\r\n                          <FormInput\r\n                            r={register}\r\n                            fullWidth\r\n                            label=\"Phone Number\"\r\n                            name=\"phone\"\r\n                            // onChange={handleChange}\r\n                            // type=\"number\"\r\n                            value={'0852578535'}\r\n                            variant=\"outlined\"\r\n                          />\r\n                        </Grid>\r\n                        <Grid item md={12} xs={12}>\r\n                          <FormInput\r\n                            r={register}\r\n                            fullWidth\r\n                            label=\"Country\"\r\n                            name=\"country\"\r\n                            // onChange={handleChange}\r\n                            // required\r\n                            value={'Viet Nam'}\r\n                            variant=\"outlined\"\r\n                          />\r\n                        </Grid>\r\n                      </Grid>\r\n                    </CardContent>\r\n                    <Divider />\r\n                    <Box\r\n                      sx={{\r\n                        display: 'flex',\r\n                        justifyContent: 'flex-end',\r\n                        p: 2,\r\n                      }}\r\n                    >\r\n                      <div className=\" mt-10 mb-5 px-10\">\r\n                        <input\r\n                          type=\"submit\"\r\n                          value=\"Update User\"\r\n                          className=\"bg-green-600 rounded-md py-2 \r\n            text-white text-xl \"\r\n                        />\r\n                      </div>\r\n                    </Box>\r\n                  </Card>\r\n                </form>\r\n              </Grid>\r\n            </Grid>\r\n          </Container>\r\n        </Box>\r\n      </div>\r\n    )\r\n}\r\n","/**\r\n * ⚠ These are used just to render the Sidebar!\r\n * You can include any link here, local or external.\r\n *\r\n * If you're looking to actual Router routes, go to\r\n * `routes/index.js`\r\n */\r\nconst routes = [\r\n  {\r\n    path: '/app/user-manager', // the url\r\n    icon: 'OutlinePersonIcon', // the component being exported from icons/index.js\r\n    name: 'User Manager', // name that appear in Sidebar\r\n    globalRole: 'Admin',\r\n  },\r\n  {\r\n    path: '/app/permission-manager',\r\n    icon: 'ForbiddenIcon',\r\n    name: 'Permission Project',\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/app/role-manager',\r\n    icon: 'UserIcon',\r\n    name: 'Role Manager',\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/app/workflows-manager',\r\n    icon: 'PeopleIcon',\r\n    name: 'Workflows Manager',\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/app/customFields',\r\n    icon: 'PagesIcon',\r\n    name: 'CustomFields',\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/app/issueTypes',\r\n    icon: 'MoneyIcon',\r\n    name: 'IssueTypes',\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/app/status-manager',\r\n    icon: 'PagesIcon',\r\n    name: 'Status',\r\n    globalRole: 'Trusted',\r\n  },\r\n  {\r\n    path: '/app/Screens',\r\n    icon: 'ModalsIcon',\r\n    name: 'Screens',\r\n    globalRole: 'Trusted',\r\n  },\r\n]\r\nexport default routes\r\n\r\n\r\n","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { DropdownIcon } from '../../icons'\r\nimport * as Icons from '../../icons'\r\nimport { Transition } from '@windmill/react-ui'\r\n\r\nfunction Icon({ icon, ...props }) {\r\n  const Icon = Icons[icon]\r\n  return <Icon {...props} />\r\n}\r\n\r\nfunction SidebarSubmenu({ route }) {\r\n  const [isDropdownMenuOpen, setIsDropdownMenuOpen] = useState(false)\r\n\r\n  function handleDropdownMenuClick() {\r\n    setIsDropdownMenuOpen(!isDropdownMenuOpen)\r\n  }\r\n\r\n  return (\r\n    <li className=\"relative px-6 py-3\" key={route.name}>\r\n      <button\r\n        className=\"inline-flex items-center justify-between w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200\"\r\n        onClick={handleDropdownMenuClick}\r\n        aria-haspopup=\"true\"\r\n      >\r\n        <span className=\"inline-flex items-center\">\r\n          <Icon className=\"w-5 h-5\" aria-hidden=\"true\" icon={route.icon} />\r\n          <span className=\"ml-4\">{route.name}</span>\r\n        </span>\r\n        <DropdownIcon className=\"w-4 h-4\" aria-hidden=\"true\" />\r\n      </button>\r\n      <Transition\r\n        show={isDropdownMenuOpen}\r\n        enter=\"transition-all ease-in-out duration-300\"\r\n        enterFrom=\"opacity-25 max-h-0\"\r\n        enterTo=\"opacity-100 max-h-xl\"\r\n        leave=\"transition-all ease-in-out duration-300\"\r\n        leaveFrom=\"opacity-100 max-h-xl\"\r\n        leaveTo=\"opacity-0 max-h-0\"\r\n      >\r\n        <ul\r\n          className=\"p-2 mt-2 space-y-2 overflow-hidden text-sm font-medium text-gray-500 rounded-md shadow-inner bg-gray-50 dark:text-gray-400 dark:bg-gray-900\"\r\n          aria-label=\"submenu\"\r\n        >\r\n          {route.routes.map((r) => (\r\n            <li\r\n              className=\"px-2 py-1 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200\"\r\n              key={r.name}\r\n            >\r\n              <Link className=\"w-full\" to={r.path}>\r\n                {r.name}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </Transition>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default SidebarSubmenu\r\n","import React from 'react'\r\nimport routesAdmin from '../../routes/sidebar'\r\n\r\nimport { NavLink, Route } from 'react-router-dom'\r\nimport * as Icons from '../../icons'\r\nimport SidebarSubmenu from './SidebarSubmenu'\r\nimport { Button } from '@windmill/react-ui'\r\nimport { inforUserSelector } from '../../slices/infouser'\r\nimport { useSelector } from 'react-redux'\r\n\r\nfunction Icon({ icon, ...props }) {\r\n  const Icon = Icons[icon]\r\n  return <Icon {...props} />\r\n}\r\n\r\nfunction SidebarContent() {\r\n  //check global role\r\n  const { inforUser, success } = useSelector(inforUserSelector)\r\n  let routes = []\r\n  if(success){\r\n    if(inforUser.Is_Admin == 1){\r\n      routesAdmin.map((route) => {\r\n        if(route.globalRole == 'Trusted'){\r\n          routes.push(route)\r\n        }\r\n      })\r\n    }\r\n    if(inforUser.Is_Admin == 0){\r\n      routes = routesAdmin\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"py-4 text-gray-500 dark:text-gray-400\">\r\n      <ul>\r\n        {routes.map((route) =>\r\n          route.routes ? (\r\n            <SidebarSubmenu route={route} key={route.name} />\r\n          ) : (\r\n            <li className=\"relative px-6 py-3\" key={route.name}>\r\n              <NavLink\r\n                exact\r\n                to={route.path}\r\n                className=\"inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200\"\r\n                activeClassName=\"text-gray-800 dark:text-gray-100\"\r\n              >\r\n                <Route path={route.path} exact={route.exact}>\r\n                  <span\r\n                    className=\"absolute inset-y-0 left-0 w-1 bg-purple-600 rounded-tr-lg rounded-br-lg\"\r\n                    aria-hidden=\"true\"\r\n                  ></span>\r\n                </Route>\r\n                <Icon\r\n                  className=\"w-5 h-5\"\r\n                  aria-hidden=\"true\"\r\n                  icon={route.icon}\r\n                />\r\n                <span className=\"ml-4\">{route.name}</span>\r\n              </NavLink>\r\n            </li>\r\n          )\r\n        )}\r\n      </ul>\r\n      {/* <div className=\"px-6 my-6\">\r\n        <Button>\r\n          Create account\r\n          <span className=\"ml-2\" aria-hidden=\"true\">\r\n            +\r\n          </span>\r\n        </Button>\r\n      </div> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SidebarContent\r\n","import React from 'react'\r\n\r\nimport SidebarContent from './SidebarContent'\r\n\r\nfunction DesktopSidebar(props) {\r\n  return (\r\n    <aside className=\"z-30 flex-shrink-0 hidden w-64 overflow-y-auto bg-white dark:bg-gray-800 lg:block\">\r\n      <SidebarContent />\r\n    </aside>\r\n  )\r\n}\r\n\r\nexport default DesktopSidebar\r\n","import React, { useContext } from 'react'\r\n\r\nimport SidebarContent from './SidebarContent'\r\nimport { Transition, Backdrop } from '@windmill/react-ui'\r\n\r\nimport { SidebarContext } from '../../context/SidebarContext'\r\n\r\nfunction MobileSidebar() {\r\n  const { isSidebarOpen, closeSidebar } = useContext(SidebarContext)\r\n\r\n  return (\r\n    <Transition show={isSidebarOpen}>\r\n      <>\r\n        <Transition\r\n          enter=\"transition ease-in-out duration-150\"\r\n          enterFrom=\"opacity-0\"\r\n          enterTo=\"opacity-100\"\r\n          leave=\"transition ease-in-out duration-150\"\r\n          leaveFrom=\"opacity-100\"\r\n          leaveTo=\"opacity-0\"\r\n        >\r\n          <Backdrop onClick={closeSidebar} />\r\n        </Transition>\r\n\r\n        <Transition\r\n          enter=\"transition ease-in-out duration-150\"\r\n          enterFrom=\"opacity-0 transform -translate-x-20\"\r\n          enterTo=\"opacity-100\"\r\n          leave=\"transition ease-in-out duration-150\"\r\n          leaveFrom=\"opacity-100\"\r\n          leaveTo=\"opacity-0 transform -translate-x-20\"\r\n        >\r\n          <aside className=\"fixed inset-y-0 z-50 flex-shrink-0 w-64 mt-16 overflow-y-auto bg-white dark:bg-gray-800 lg:hidden\">\r\n            <SidebarContent />\r\n          </aside>\r\n        </Transition>\r\n      </>\r\n    </Transition>\r\n  )\r\n}\r\n\r\nexport default MobileSidebar\r\n","import React from 'react'\r\nimport DesktopSidebar from './DesktopSidebar'\r\nimport MobileSidebar from './MobileSidebar'\r\n\r\nfunction Sidebar() {\r\n  return (\r\n    <>\r\n      <DesktopSidebar />\r\n      <MobileSidebar />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { unwrapResult } from '@reduxjs/toolkit'\r\nimport { addNewIssue, fetchCustomFields } from '../../slices/issues'\r\nimport {\r\n  selectAllProjectIssueTypeScreens,\r\n  selectUserList,\r\n  fetchProjectIssueTypeScreens,\r\n  fetchUserList,\r\n  setErrorNull,\r\n  setSuccessNull,\r\n} from '../../slices/issues'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useToasts } from 'react-toast-notifications'\r\nimport {\r\n  Input,\r\n  Label,\r\n  Select,\r\n  Textarea,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Button,\r\n} from '@windmill/react-ui'\r\n\r\nexport const AddIssueForm = () => {\r\n  const { addToast } = useToasts()\r\n  const { register, handleSubmit, reset } = useForm()\r\n  const [name, setName] = useState('')\r\n  const [key, setKey] = useState('')\r\n  const [projectName, setProjectName] = useState('')\r\n  const [issueTypeName, setIssueTypeName] = useState('')\r\n  const [addRequestStatus, setAddRequestStatus] = useState('idle')\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const success = useSelector((state) => state.issues.success)\r\n  const error = useSelector((state) => state.issues.error)\r\n\r\n  const dispatch = useDispatch()\r\n  const projectIssueTypeScreens = useSelector(selectAllProjectIssueTypeScreens)\r\n  const userList = useSelector(selectUserList)\r\n\r\n  const filteredProjects = projectIssueTypeScreens\r\n    .map((item) => item.Project_Name)\r\n    .filter((value, index, self) => self.indexOf(value) === index)\r\n\r\n  const filteredIssueTypes = projectIssueTypeScreens.filter(\r\n    (item) => item.Project_Name === projectName\r\n  )\r\n\r\n  const projectsOptions = filteredProjects.map((item) => (\r\n    <option key={item} value={item}>\r\n      {item}\r\n    </option>\r\n  ))\r\n  const userOptions = userList.map((item) => (\r\n    <option key={item.User_Id} value={item.User_Full_Name}>\r\n      {item.User_Full_Name}\r\n    </option>\r\n  ))\r\n  const issueTypesOptions = filteredIssueTypes.map((item) => (\r\n    <option key={item.Issue_Type_Name} value={item.Issue_Type_Name}>\r\n      {item.Issue_Type_Name}\r\n    </option>\r\n  ))\r\n\r\n  const issueStatus = useSelector((state) => state.issues.statusAddIssue)\r\n  const customFields = useSelector((state) => state.issues.customFields)\r\n  useEffect(() => {\r\n    if (issueStatus === 'idle') {\r\n      dispatch(fetchProjectIssueTypeScreens())\r\n    }\r\n    if ([projectName, issueTypeName].every(Boolean)) {\r\n      const { Screen } = projectIssueTypeScreens.find(\r\n        (element) =>\r\n          element.Project_Name === projectName &&\r\n          element.Issue_Type_Name === issueTypeName\r\n      )\r\n      if (Screen) {\r\n        dispatch(fetchCustomFields({ Id: Screen }))\r\n      }\r\n      const { Project } = projectIssueTypeScreens.find(\r\n        (element) => element.Project_Name === projectName\r\n      )\r\n      if (Project) {\r\n        dispatch(fetchUserList({ project: Project }))\r\n      }\r\n    }\r\n    if (error) {\r\n      addToast(error, {\r\n        appearance: 'error',\r\n        autoDismiss: true,\r\n      })\r\n      dispatch(setErrorNull({ error: null }))\r\n    }\r\n    if (success) {\r\n      addToast(success, {\r\n        appearance: 'success',\r\n        autoDismiss: true,\r\n      })\r\n      dispatch(setSuccessNull({ success: null }))\r\n    }\r\n  }, [issueStatus, dispatch, projectName, issueTypeName, error, success])\r\n\r\n  const onNameChanged = (e) => setName(e.target.value)\r\n  const onKeyChanged = (e) => setKey(e.target.value)\r\n  const onIssueTypeChanged = (e) => setIssueTypeName(e.target.value)\r\n  const onProjectChanged = (e) => {\r\n    setProjectName(e.target.value)\r\n    setIssueTypeName('')\r\n  }\r\n  const canSave =\r\n    [name, key, projectName, issueTypeName].every(Boolean) &&\r\n    addRequestStatus === 'idle'\r\n\r\n  const onSaveIssueClicked = async (data) => {\r\n    if (canSave) {\r\n      try {\r\n        setAddRequestStatus('pending')\r\n        setName('')\r\n        setKey('')\r\n        const found = projectIssueTypeScreens.find(\r\n          (element) =>\r\n            element.Project_Name === projectName &&\r\n            element.Issue_Type_Name === issueTypeName\r\n        )\r\n        const result = customFields.map((item) => ({\r\n          ...item,\r\n          Value: data[item.Name],\r\n          Issue: key,\r\n        }))\r\n        reset()\r\n        const resultAction = await dispatch(\r\n          addNewIssue({\r\n            Key: key,\r\n            Name: name,\r\n            Project: found.Project,\r\n            Issue_Type: found.Issue_Type,\r\n            Icon: found.Issue_Type_Icon,\r\n            Fields: result,\r\n          })\r\n        )\r\n        unwrapResult(resultAction)\r\n      } catch (err) {\r\n        console.error('Failed to save the issue: ', err)\r\n      } finally {\r\n        setAddRequestStatus('idle')\r\n      }\r\n    }\r\n  }\r\n  function openModal() {\r\n    setIsModalOpen(true)\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false)\r\n  }\r\n  let inputFields\r\n  if (customFields && customFields.length !== 0) {\r\n    inputFields = customFields.map((item) => {\r\n      switch (item.Field_Type) {\r\n        case 'Text':\r\n          return (\r\n            <Label key={item.Custom_Field} className=\"m-2\">\r\n              <span>{item.Name}</span>\r\n              <Input className=\"mt-1\" {...register(item.Name)} />\r\n            </Label>\r\n          )\r\n        case 'Date':\r\n          return (\r\n            <Label key={item.Custom_Field} className=\"m-2\">\r\n              <span>{item.Name}</span>\r\n              <Input type=\"date\" className=\"mt-1\" {...register(item.Name)} />\r\n            </Label>\r\n          )\r\n        case 'Text area':\r\n          return (\r\n            <Label key={item.Custom_Field} className=\"m-2\">\r\n              <span>{item.Name}</span>\r\n              <Textarea className=\"mt-1\" rows=\"3\" {...register(item.Name)} />\r\n            </Label>\r\n          )\r\n        case 'People':\r\n          return (\r\n            <Label key={item.Custom_Field} className=\"m-2\">\r\n              <span>{item.Name}</span>\r\n              <Select className=\"mt-1\" {...register(item.Name)}>\r\n                <option value=\"\"></option>\r\n                {userOptions}\r\n              </Select>\r\n            </Label>\r\n          )\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <Button onClick={openModal}>Create</Button>\r\n      </div>\r\n      <Modal isOpen={isModalOpen} onClose={closeModal}>\r\n        <ModalHeader className=\"m-2\">Add a issue</ModalHeader>\r\n        <ModalBody class=\"overflow-auto h-80\">\r\n          <Label className=\"m-2\">\r\n            <span>Name</span>\r\n            <Input className=\"mt-1\" value={name} onChange={onNameChanged} />\r\n          </Label>\r\n          <Label className=\"m-2\">\r\n            <span>Key</span>\r\n            <Input className=\"mt-1\" value={key} onChange={onKeyChanged} />\r\n          </Label>\r\n\r\n          <Label className=\"m-2\">\r\n            <span>Project</span>\r\n            <Select\r\n              className=\"mt-1\"\r\n              value={projectName}\r\n              onChange={onProjectChanged}\r\n            >\r\n              <option value=\"\"></option>\r\n              {projectsOptions}\r\n            </Select>\r\n          </Label>\r\n          <Label className=\"m-2\">\r\n            <span>Issue type</span>\r\n            <Select\r\n              className=\"mt-1\"\r\n              value={issueTypeName}\r\n              onChange={onIssueTypeChanged}\r\n            >\r\n              <option value=\"\"></option>\r\n              {issueTypesOptions}\r\n            </Select>\r\n          </Label>\r\n          {inputFields}\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <div className=\"hidden sm:block\">\r\n            <Button layout=\"outline\" onClick={closeModal}>\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n          <div className=\"hidden sm:block\">\r\n            <Button\r\n              onClick={handleSubmit(onSaveIssueClicked)}\r\n              disabled={!canSave}\r\n            >\r\n              Accept\r\n            </Button>\r\n          </div>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n","import React, { useEffect,useContext, useState } from 'react'\r\nimport { SidebarContext } from '../context/SidebarContext'\r\nimport {\r\n  SearchIcon,\r\n  MoonIcon,\r\n  SunIcon,\r\n  BellIcon,\r\n  MenuIcon,\r\n  OutlinePersonIcon,\r\n  OutlineCogIcon,\r\n  OutlineLogoutIcon,\r\n  LayersIcon,\r\n} from '../icons'\r\nimport {\r\n  Avatar,\r\n  Badge,\r\n  Input,\r\n  Dropdown,\r\n  DropdownItem,\r\n  WindmillContext,\r\n} from '@windmill/react-ui'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { AddIssueForm } from '../components/Issue/AddIssueForm'\r\nimport { logout, inforUserSelector } from '../slices/infouser'\r\nimport userApi from '../api/userApi'\r\nimport { useAppDispatch } from '../store'\r\n\r\nfunction Header() {\r\n  const { mode, toggleMode } = useContext(WindmillContext)\r\n  const { toggleSidebar } = useContext(SidebarContext)\r\n\r\n  const [isNotificationsMenuOpen, setIsNotificationsMenuOpen] = useState(false)\r\n  const [isProfileMenuOpen, setIsProfileMenuOpen] = useState(false)\r\n\r\n  function handleNotificationsClick() {\r\n    setIsNotificationsMenuOpen(!isNotificationsMenuOpen)\r\n  }\r\n\r\n  function handleProfileClick() {\r\n    setIsProfileMenuOpen(!isProfileMenuOpen)\r\n  }\r\n  const [isLogged, setIsLogged] = useState(false)\r\n  useEffect(() => {\r\n    setIsLogged(!!localStorage.getItem('accessToken'))\r\n  })\r\n  //logout\r\n  const history = useHistory()\r\n  const Logout = async ()=> {\r\n   await userApi.logout().then(() => {\r\n      localStorage.removeItem('accessToken')\r\n      localStorage.removeItem('refreshToken')\r\n      dispatch(logout())\r\n    })\r\n    await history.push('/login')\r\n  }\r\n  const dispatch = useAppDispatch()\r\n\r\n  return (\r\n    <header className=\"z-40 py-4 bg-white shadow-bottom dark:bg-gray-800\">\r\n      <div className=\"container flex items-center justify-between h-full px-6 mx-auto text-purple-600 dark:text-purple-300\">\r\n        {/* <!-- Mobile hamburger --> */}\r\n        <button\r\n          className=\"p-1 mr-5 -ml-1 rounded-md lg:hidden focus:outline-none focus:shadow-outline-purple\"\r\n          onClick={toggleSidebar}\r\n          aria-label=\"Menu\"\r\n        >\r\n          <MenuIcon className=\"w-6 h-6\" aria-hidden=\"true\" />\r\n        </button>\r\n        {/* <!-- Search input --> */}\r\n        <LayersIcon className=\"w-10 h-10\" aria-hidden=\"true\" />\r\n        <a\r\n          className=\"ml-6 text-lg font-bold text-gray-800 dark:text-gray-200\"\r\n          href=\"#\"\r\n        >\r\n          Jira \r\n        </a>\r\n        \r\n        <Link to=\"/app/projects\">\r\n          <a\r\n            href\r\n            className=\"ml-6 text-lg font-bold text-gray-800 dark:text-gray-200\"\r\n          >\r\n            Projects\r\n          </a>\r\n        </Link>\r\n        <Link to=\"/app/issues\">\r\n          <a\r\n            href\r\n            className=\"ml-6 text-lg font-bold text-gray-800 dark:text-gray-200\"\r\n          >\r\n            Issues\r\n          </a>\r\n        </Link>\r\n        <a className=\"ml-4\">{isLogged && <AddIssueForm />}</a>\r\n        <div className=\"flex justify-center flex-1 lg:mr-32\">\r\n          <div className=\"relative w-full max-w-xl mr-6 focus-within:text-purple-500\">\r\n            <div className=\"absolute inset-y-0 flex items-center pl-2\">\r\n              <SearchIcon className=\"w-4 h-4\" aria-hidden=\"true\" />\r\n            </div>\r\n            <Input\r\n              className=\"pl-8 text-gray-700\"\r\n              placeholder=\"Search for projects\"\r\n              aria-label=\"Search\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <ul className=\"flex items-center flex-shrink-0 space-x-6\">\r\n          {/* <!-- Theme toggler --> */}\r\n          <li className=\"flex\">\r\n            <button\r\n              className=\"rounded-md focus:outline-none focus:shadow-outline-purple\"\r\n              onClick={toggleMode}\r\n              aria-label=\"Toggle color mode\"\r\n            >\r\n              {mode === 'dark' ? (\r\n                <SunIcon className=\"w-5 h-5\" aria-hidden=\"true\" />\r\n              ) : (\r\n                <MoonIcon className=\"w-5 h-5\" aria-hidden=\"true\" />\r\n              )}\r\n            </button>\r\n          </li>\r\n          {/* <!-- Notifications menu --> */}\r\n          <li className=\"relative\">\r\n            <button\r\n              className=\"relative align-middle rounded-md focus:outline-none focus:shadow-outline-purple\"\r\n              onClick={handleNotificationsClick}\r\n              aria-label=\"Notifications\"\r\n              aria-haspopup=\"true\"\r\n            >\r\n              <BellIcon className=\"w-5 h-5\" aria-hidden=\"true\" />\r\n              {/* <!-- Notification badge --> */}\r\n              <span\r\n                aria-hidden=\"true\"\r\n                className=\"absolute top-0 right-0 inline-block w-3 h-3 transform translate-x-1 -translate-y-1 bg-red-600 border-2 border-white rounded-full dark:border-gray-800\"\r\n              ></span>\r\n            </button>\r\n\r\n            <Dropdown\r\n              align=\"right\"\r\n              isOpen={isNotificationsMenuOpen}\r\n              onClose={() => setIsNotificationsMenuOpen(false)}\r\n            >\r\n              <DropdownItem tag=\"a\" href=\"#\" className=\"justify-between\">\r\n                <span>Messages</span>\r\n                <Badge type=\"danger\">13</Badge>\r\n              </DropdownItem>\r\n              <DropdownItem tag=\"a\" href=\"#\" className=\"justify-between\">\r\n                <span>Sales</span>\r\n                <Badge type=\"danger\">2</Badge>\r\n              </DropdownItem>\r\n              <DropdownItem onClick={() => alert('Alerts!')}>\r\n                <span>Alerts</span>\r\n              </DropdownItem>\r\n            </Dropdown>\r\n          </li>\r\n          {/* <!-- Profile menu --> */}\r\n          <li className=\"relative\">\r\n            <button\r\n              className=\"rounded-full focus:shadow-outline-purple focus:outline-none\"\r\n              onClick={handleProfileClick}\r\n              aria-label=\"Account\"\r\n              aria-haspopup=\"true\"\r\n            >\r\n              <Avatar\r\n                className=\"align-middle\"\r\n                src=\"https://images.unsplash.com/photo-1502378735452-bc7d86632805?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=200&fit=max&s=aa3a807e1bbdfd4364d1f449eaa96d82\"\r\n                alt=\"\"\r\n                aria-hidden=\"true\"\r\n              />\r\n            </button>\r\n            <Dropdown\r\n              align=\"right\"\r\n              isOpen={isProfileMenuOpen}\r\n              onClose={() => setIsProfileMenuOpen(false)}\r\n            >\r\n              <Link to=\"/app/profile\">\r\n                <DropdownItem tag=\"a\" href=\"#\">\r\n                  <OutlinePersonIcon\r\n                    className=\"w-4 h-4 mr-3\"\r\n                    aria-hidden=\"true\"\r\n                  />\r\n\r\n                  <span>Profile</span>\r\n                </DropdownItem>\r\n              </Link>\r\n              <DropdownItem tag=\"a\" href=\"#\">\r\n                <OutlineCogIcon className=\"w-4 h-4 mr-3\" aria-hidden=\"true\" />\r\n                <span>Settings</span>\r\n              </DropdownItem>\r\n              <DropdownItem onClick={Logout}>\r\n                <OutlineLogoutIcon\r\n                  className=\"w-4 h-4 mr-3\"\r\n                  aria-hidden=\"true\"\r\n                />\r\n                <span>Log out</span>\r\n              </DropdownItem>\r\n            </Dropdown>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React, { useContext, Suspense, useEffect, lazy } from 'react'\r\nimport { Switch, Route, Redirect, useLocation } from 'react-router-dom'\r\nimport routes from '../routes'\r\n\r\nimport Sidebar from '../components/Sidebar'\r\nimport Header2 from '../components/Header2'\r\nimport { useSelector } from 'react-redux'\r\nimport ThemedSuspense from '../components/ThemedSuspense'\r\nimport { SidebarContext } from '../context/SidebarContext'\r\nimport { getMe } from '../slices/infouser'\r\nimport { useAppDispatch } from '../store'\r\nimport { inforUserSelector } from '../slices/infouser'\r\n\r\nconst Page404 = lazy(() => import('../pages/404'))\r\n\r\nfunction Layout() {\r\n  //WHY: get info user by\r\n  const dispatch = useAppDispatch()\r\n  useEffect(() => {\r\n    dispatch(getMe())\r\n  }, [])\r\n  const { inforUser, success } = useSelector(inforUserSelector)\r\n  let sidebar\r\n  let router_temp = []\r\n  // Admin or trusted has sidebar to edit\r\n  if (success) {\r\n    if (inforUser.Is_Admin == 0 || inforUser.Is_Admin == 1) {\r\n      sidebar = <Sidebar />\r\n    }\r\n    if (inforUser.Is_Admin == 2) {\r\n      routes.map((route, i) => {\r\n        if (route.globalRole == 'Member') {\r\n          router_temp.push(route)\r\n        }\r\n      })\r\n    }\r\n    if (inforUser.Is_Admin == 0) {\r\n      router_temp = routes\r\n    }\r\n    if (inforUser.Is_Admin == 1) {\r\n      routes.map((route, i) => {\r\n        if (route.globalRole == 'Member' || route.globalRole == 'Trusted') {\r\n          router_temp.push(route)\r\n        }\r\n      })\r\n    }\r\n  }\r\n  //Sidebar\r\n  const { isSidebarOpen, closeSidebar } = useContext(SidebarContext)\r\n  let location = useLocation()\r\n\r\n  useEffect(() => {\r\n    closeSidebar()\r\n  }, [location])\r\n\r\n  return (\r\n    <div\r\n      className={`flex h-screen bg-gray-50 dark:bg-gray-900 ${\r\n        isSidebarOpen && 'overflow-hidden'\r\n      }`}\r\n    >\r\n      <div className=\"flex flex-col flex-1 w-full\">\r\n        <Header2 />\r\n        <div className=\"flex\">\r\n          {sidebar}\r\n          <div className=\"w-full\">\r\n            <Suspense fallback={<ThemedSuspense />}>\r\n              <Switch>\r\n                {router_temp.map((route, i) => {\r\n                  return route.component ? (\r\n                    <Route\r\n                      key={i}\r\n                      exact={true}\r\n                      path={`/app${route.path}`}\r\n                      render={(props) => <route.component {...props} />}\r\n                    />\r\n                  ) : null\r\n                })}\r\n                <Redirect exact from=\"/app\" to=\"/app/projects\" />\r\n                <Route component={Page404} />\r\n              </Switch>\r\n            </Suspense>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n"],"sourceRoot":""}